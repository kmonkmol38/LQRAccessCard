var um=e=>{throw TypeError(e)};var fd=(e,t,r)=>t.has(e)||um("Cannot "+r);var Te=(e,t,r)=>(fd(e,t,"read from private field"),r?r.call(e):t.get(e)),Ft=(e,t,r)=>t.has(e)?um("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ht=(e,t,r,n)=>(fd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),cn=(e,t,r)=>(fd(e,t,"access private method"),r);var h0=(e,t,r,n)=>({set _(i){ht(e,t,i,r)},get _(){return Te(e,t,n)}});function sy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ay={exports:{}},ph={},oy={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),i4=Symbol.for("react.portal"),s4=Symbol.for("react.fragment"),a4=Symbol.for("react.strict_mode"),o4=Symbol.for("react.profiler"),l4=Symbol.for("react.provider"),c4=Symbol.for("react.context"),u4=Symbol.for("react.forward_ref"),f4=Symbol.for("react.suspense"),h4=Symbol.for("react.memo"),d4=Symbol.for("react.lazy"),fm=Symbol.iterator;function p4(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var ly={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cy=Object.assign,uy={};function Jl(e,t,r){this.props=e,this.context=t,this.refs=uy,this.updater=r||ly}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fy(){}fy.prototype=Jl.prototype;function Jp(e,t,r){this.props=e,this.context=t,this.refs=uy,this.updater=r||ly}var eg=Jp.prototype=new fy;eg.constructor=Jp;cy(eg,Jl.prototype);eg.isPureReactComponent=!0;var hm=Array.isArray,hy=Object.prototype.hasOwnProperty,tg={current:null},dy={key:!0,ref:!0,__self:!0,__source:!0};function py(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)hy.call(t,n)&&!dy.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];i.children=d}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Hu,type:e,key:a,ref:l,props:i,_owner:tg.current}}function g4(e,t){return{$$typeof:Hu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hu}function x4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dm=/\/+/g;function hd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x4(""+e.key):t.toString(36)}function ef(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Hu:case i4:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+hd(l,0):n,hm(i)?(r="",e!=null&&(r=e.replace(dm,"$&/")+"/"),ef(i,t,r,"",function(p){return p})):i!=null&&(rg(i)&&(i=g4(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(dm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",hm(e))for(var u=0;u<e.length;u++){a=e[u];var d=n+hd(a,u);l+=ef(a,t,r,d,i)}else if(d=p4(e),typeof d=="function")for(e=d.call(e),u=0;!(a=e.next()).done;)a=a.value,d=n+hd(a,u++),l+=ef(a,t,r,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function d0(e,t,r){if(e==null)return e;var n=[],i=0;return ef(e,n,"","",function(a){return t.call(r,a,i++)}),n}function m4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},tf={transition:null},v4={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:tf,ReactCurrentOwner:tg};function gy(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:d0,forEach:function(e,t,r){d0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return d0(e,function(){t++}),t},toArray:function(e){return d0(e,function(t){return t})||[]},only:function(e){if(!rg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=Jl;_t.Fragment=s4;_t.Profiler=o4;_t.PureComponent=Jp;_t.StrictMode=a4;_t.Suspense=f4;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v4;_t.act=gy;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cy({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=tg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)hy.call(t,d)&&!dy.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){u=Array(d);for(var p=0;p<d;p++)u[p]=arguments[p+2];n.children=u}return{$$typeof:Hu,type:e.type,key:i,ref:a,props:n,_owner:l}};_t.createContext=function(e){return e={$$typeof:c4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l4,_context:e},e.Consumer=e};_t.createElement=py;_t.createFactory=function(e){var t=py.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:u4,render:e}};_t.isValidElement=rg;_t.lazy=function(e){return{$$typeof:d4,_payload:{_status:-1,_result:e},_init:m4}};_t.memo=function(e,t){return{$$typeof:h4,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=tf.transition;tf.transition={};try{e()}finally{tf.transition=t}};_t.unstable_act=gy;_t.useCallback=function(e,t){return Pn.current.useCallback(e,t)};_t.useContext=function(e){return Pn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return Pn.current.useEffect(e,t)};_t.useId=function(){return Pn.current.useId()};_t.useImperativeHandle=function(e,t,r){return Pn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return Pn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return Pn.current.useReducer(e,t,r)};_t.useRef=function(e){return Pn.current.useRef(e)};_t.useState=function(e){return Pn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return Pn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return Pn.current.useTransition()};_t.version="18.3.1";oy.exports=_t;var j=oy.exports;const Ve=Qp(j),ng=sy({__proto__:null,default:Ve},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=j,y4=Symbol.for("react.element"),E4=Symbol.for("react.fragment"),_4=Object.prototype.hasOwnProperty,A4=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C4={key:!0,ref:!0,__self:!0,__source:!0};function xy(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)_4.call(t,n)&&!C4.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:y4,type:e,key:a,ref:l,props:i,_owner:A4.current}}ph.Fragment=E4;ph.jsx=xy;ph.jsxs=xy;ay.exports=ph;var V=ay.exports,my={exports:{}},hi={},vy={exports:{}},wy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ve,Q){var Ce=ve.length;ve.push(Q);e:for(;0<Ce;){var Be=Ce-1>>>1,H=ve[Be];if(0<i(H,Q))ve[Be]=Q,ve[Ce]=H,Ce=Be;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var Q=ve[0],Ce=ve.pop();if(Ce!==Q){ve[0]=Ce;e:for(var Be=0,H=ve.length,oe=H>>>1;Be<oe;){var re=2*(Be+1)-1,ie=ve[re],le=re+1,Se=ve[le];if(0>i(ie,Ce))le<H&&0>i(Se,ie)?(ve[Be]=Se,ve[le]=Ce,Be=le):(ve[Be]=ie,ve[re]=Ce,Be=re);else if(le<H&&0>i(Se,Ce))ve[Be]=Se,ve[le]=Ce,Be=le;else break e}}return Q}function i(ve,Q){var Ce=ve.sortIndex-Q.sortIndex;return Ce!==0?Ce:ve.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],p=[],x=1,v=null,E=3,y=!1,A=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ve){for(var Q=r(p);Q!==null;){if(Q.callback===null)n(p);else if(Q.startTime<=ve)n(p),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=r(p)}}function O(ve){if(_=!1,T(ve),!A)if(r(d)!==null)A=!0,_e(B);else{var Q=r(p);Q!==null&&xe(O,Q.startTime-ve)}}function B(ve,Q){A=!1,_&&(_=!1,b(z),z=-1),y=!0;var Ce=E;try{for(T(Q),v=r(d);v!==null&&(!(v.expirationTime>Q)||ve&&!ae());){var Be=v.callback;if(typeof Be=="function"){v.callback=null,E=v.priorityLevel;var H=Be(v.expirationTime<=Q);Q=e.unstable_now(),typeof H=="function"?v.callback=H:v===r(d)&&n(d),T(Q)}else n(d);v=r(d)}if(v!==null)var oe=!0;else{var re=r(p);re!==null&&xe(O,re.startTime-Q),oe=!1}return oe}finally{v=null,E=Ce,y=!1}}var F=!1,R=null,z=-1,M=5,te=-1;function ae(){return!(e.unstable_now()-te<M)}function q(){if(R!==null){var ve=e.unstable_now();te=ve;var Q=!0;try{Q=R(!0,ve)}finally{Q?de():(F=!1,R=null)}}else F=!1}var de;if(typeof k=="function")de=function(){k(q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ee=pe.port2;pe.port1.onmessage=q,de=function(){ee.postMessage(null)}}else de=function(){S(q,0)};function _e(ve){R=ve,F||(F=!0,de())}function xe(ve,Q){z=S(function(){ve(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){A||y||(A=!0,_e(B))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(ve){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var Ce=E;E=Q;try{return ve()}finally{E=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,Q){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ce=E;E=ve;try{return Q()}finally{E=Ce}},e.unstable_scheduleCallback=function(ve,Q,Ce){var Be=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Be+Ce:Be):Ce=Be,ve){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=Ce+H,ve={id:x++,callback:Q,priorityLevel:ve,startTime:Ce,expirationTime:H,sortIndex:-1},Ce>Be?(ve.sortIndex=Ce,t(p,ve),r(d)===null&&ve===r(p)&&(_?(b(z),z=-1):_=!0,xe(O,Ce-Be))):(ve.sortIndex=H,t(d,ve),A||y||(A=!0,_e(B))),ve},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(ve){var Q=E;return function(){var Ce=E;E=Q;try{return ve.apply(this,arguments)}finally{E=Ce}}}})(wy);vy.exports=wy;var T4=vy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S4=j,ui=T4;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yy=new Set,su={};function Ro(e,t){Wl(e,t),Wl(e+"Capture",t)}function Wl(e,t){for(su[e]=t,e=0;e<t.length;e++)yy.add(t[e])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w1=Object.prototype.hasOwnProperty,b4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pm={},gm={};function k4(e){return w1.call(gm,e)?!0:w1.call(pm,e)?!1:b4.test(e)?gm[e]=!0:(pm[e]=!0,!1)}function I4(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R4(e,t,r,n){if(t===null||typeof t>"u"||I4(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ig=/[\-:]([a-z])/g;function sg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ig,sg);sn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ig,sg);sn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ig,sg);sn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ag(e,t,r,n){var i=sn.hasOwnProperty(t)?sn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R4(t,r,i,n)&&(r=null),n||i===null?k4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ks=S4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p0=Symbol.for("react.element"),sl=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),og=Symbol.for("react.strict_mode"),y1=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),_y=Symbol.for("react.context"),lg=Symbol.for("react.forward_ref"),E1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),Ay=Symbol.for("react.offscreen"),xm=Symbol.iterator;function wc(e){return e===null||typeof e!="object"?null:(e=xm&&e[xm]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,dd;function Ic(e){if(dd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dd=t&&t[1]||""}return`
`+dd+e}var pd=!1;function gd(e,t){if(!e||pd)return"";pd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var n=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){n=p}e.call(t.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var d=`
`+i[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{pd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ic(e):""}function O4(e){switch(e.tag){case 5:return Ic(e.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return e=gd(e.type,!1),e;case 11:return e=gd(e.type.render,!1),e;case 1:return e=gd(e.type,!0),e;default:return""}}function A1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case al:return"Fragment";case sl:return"Portal";case y1:return"Profiler";case og:return"StrictMode";case E1:return"Suspense";case _1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _y:return(e.displayName||"Context")+".Consumer";case Ey:return(e._context.displayName||"Context")+".Provider";case lg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cg:return t=e.displayName||null,t!==null?t:A1(e.type)||"Memo";case ca:t=e._payload,e=e._init;try{return A1(e(t))}catch{}}return null}function N4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(t);case 8:return t===og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D4(e){var t=Cy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function g0(e){e._valueTracker||(e._valueTracker=D4(e))}function Ty(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Cy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function C1(e,t){var r=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ma(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sy(e,t){t=t.checked,t!=null&&ag(e,"checked",t,!1)}function T1(e,t){Sy(e,t);var r=Ma(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?S1(e,t.type,r):t.hasOwnProperty("defaultValue")&&S1(e,t.type,Ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function S1(e,t,r){(t!=="number"||vf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rc=Array.isArray;function yl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ma(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function b1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Fe(92));if(Rc(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ma(r)}}function by(e,t){var r=Ma(t.value),n=Ma(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ky(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ky(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var x0,Iy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(x0=x0||document.createElement("div"),x0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=x0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function au(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P4=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(e){P4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bc[t]=Bc[e]})});function Ry(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bc.hasOwnProperty(e)&&Bc[e]?(""+t).trim():t+"px"}function Oy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ry(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var F4=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(e,t){if(t){if(F4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function R1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=null;function ug(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N1=null,El=null,_l=null;function Em(e){if(e=$u(e)){if(typeof N1!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=wh(t),N1(e.stateNode,e.type,t))}}function Ny(e){El?_l?_l.push(e):_l=[e]:El=e}function Dy(){if(El){var e=El,t=_l;if(_l=El=null,Em(e),t)for(e=0;e<t.length;e++)Em(t[e])}}function Py(e,t){return e(t)}function Fy(){}var xd=!1;function My(e,t,r){if(xd)return e(t,r);xd=!0;try{return Py(e,t,r)}finally{xd=!1,(El!==null||_l!==null)&&(Fy(),Dy())}}function ou(e,t){var r=e.stateNode;if(r===null)return null;var n=wh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Fe(231,t,typeof r));return r}var D1=!1;if(js)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){D1=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{D1=!1}function M4(e,t,r,n,i,a,l,u,d){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(x){this.onError(x)}}var Uc=!1,wf=null,yf=!1,P1=null,L4={onError:function(e){Uc=!0,wf=e}};function B4(e,t,r,n,i,a,l,u,d){Uc=!1,wf=null,M4.apply(L4,arguments)}function U4(e,t,r,n,i,a,l,u,d){if(B4.apply(this,arguments),Uc){if(Uc){var p=wf;Uc=!1,wf=null}else throw Error(Fe(198));yf||(yf=!0,P1=p)}}function Oo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ly(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _m(e){if(Oo(e)!==e)throw Error(Fe(188))}function j4(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return _m(i),e;if(a===n)return _m(i),t;a=a.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=a;break}if(u===n){l=!0,n=i,r=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===r){l=!0,r=a,n=i;break}if(u===n){l=!0,n=a,r=i;break}u=u.sibling}if(!l)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?e:t}function By(e){return e=j4(e),e!==null?Uy(e):null}function Uy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uy(e);if(t!==null)return t;e=e.sibling}return null}var jy=ui.unstable_scheduleCallback,Am=ui.unstable_cancelCallback,V4=ui.unstable_shouldYield,W4=ui.unstable_requestPaint,_r=ui.unstable_now,H4=ui.unstable_getCurrentPriorityLevel,fg=ui.unstable_ImmediatePriority,Vy=ui.unstable_UserBlockingPriority,Ef=ui.unstable_NormalPriority,z4=ui.unstable_LowPriority,Wy=ui.unstable_IdlePriority,gh=null,gs=null;function G4(e){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(gh,e,void 0,(e.current.flags&128)===128)}catch{}}var Ki=Math.clz32?Math.clz32:K4,$4=Math.log,X4=Math.LN2;function K4(e){return e>>>=0,e===0?32:31-($4(e)/X4|0)|0}var m0=64,v0=4194304;function Oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _f(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var u=l&~i;u!==0?n=Oc(u):(a&=l,a!==0&&(n=Oc(a)))}else l=r&~i,l!==0?n=Oc(l):a!==0&&(n=Oc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ki(t),i=1<<r,n|=e[r],t&=~i;return n}function Y4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ki(a),u=1<<l,d=i[l];d===-1?(!(u&r)||u&n)&&(i[l]=Y4(u,t)):d<=t&&(e.expiredLanes|=u),a&=~u}}function F1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hy(){var e=m0;return m0<<=1,!(m0&4194240)&&(m0=64),e}function md(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ki(t),e[t]=r}function Z4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ki(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function hg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ki(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Mt=0;function zy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gy,dg,$y,Xy,Ky,M1=!1,w0=[],ba=null,ka=null,Ia=null,lu=new Map,cu=new Map,ha=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":lu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(t.pointerId)}}function Ec(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=$u(t),t!==null&&dg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function J4(e,t,r,n,i){switch(t){case"focusin":return ba=Ec(ba,e,t,r,n,i),!0;case"dragenter":return ka=Ec(ka,e,t,r,n,i),!0;case"mouseover":return Ia=Ec(Ia,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return lu.set(a,Ec(lu.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,cu.set(a,Ec(cu.get(a)||null,e,t,r,n,i)),!0}return!1}function Yy(e){var t=io(e.target);if(t!==null){var r=Oo(t);if(r!==null){if(t=r.tag,t===13){if(t=Ly(r),t!==null){e.blockedOn=t,Ky(e.priority,function(){$y(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=L1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);O1=n,r.target.dispatchEvent(n),O1=null}else return t=$u(r),t!==null&&dg(t),e.blockedOn=r,!1;t.shift()}return!0}function Tm(e,t,r){rf(e)&&r.delete(t)}function eS(){M1=!1,ba!==null&&rf(ba)&&(ba=null),ka!==null&&rf(ka)&&(ka=null),Ia!==null&&rf(Ia)&&(Ia=null),lu.forEach(Tm),cu.forEach(Tm)}function _c(e,t){e.blockedOn===t&&(e.blockedOn=null,M1||(M1=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,eS)))}function uu(e){function t(i){return _c(i,e)}if(0<w0.length){_c(w0[0],e);for(var r=1;r<w0.length;r++){var n=w0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ba!==null&&_c(ba,e),ka!==null&&_c(ka,e),Ia!==null&&_c(Ia,e),lu.forEach(t),cu.forEach(t),r=0;r<ha.length;r++)n=ha[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ha.length&&(r=ha[0],r.blockedOn===null);)Yy(r),r.blockedOn===null&&ha.shift()}var Al=Ks.ReactCurrentBatchConfig,Af=!0;function tS(e,t,r,n){var i=Mt,a=Al.transition;Al.transition=null;try{Mt=1,pg(e,t,r,n)}finally{Mt=i,Al.transition=a}}function rS(e,t,r,n){var i=Mt,a=Al.transition;Al.transition=null;try{Mt=4,pg(e,t,r,n)}finally{Mt=i,Al.transition=a}}function pg(e,t,r,n){if(Af){var i=L1(e,t,r,n);if(i===null)bd(e,t,n,Cf,r),Cm(e,n);else if(J4(i,e,t,r,n))n.stopPropagation();else if(Cm(e,n),t&4&&-1<Q4.indexOf(e)){for(;i!==null;){var a=$u(i);if(a!==null&&Gy(a),a=L1(e,t,r,n),a===null&&bd(e,t,n,Cf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else bd(e,t,n,null,r)}}var Cf=null;function L1(e,t,r,n){if(Cf=null,e=ug(n),e=io(e),e!==null)if(t=Oo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ly(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cf=e,null}function qy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H4()){case fg:return 1;case Vy:return 4;case Ef:case z4:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var _a=null,gg=null,nf=null;function Zy(){if(nf)return nf;var e,t=gg,r=t.length,n,i="value"in _a?_a.value:_a.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return nf=i.slice(e,1<n?1-n:void 0)}function sf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function y0(){return!0}function Sm(){return!1}function di(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?y0:Sm,this.isPropagationStopped=Sm,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=y0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=y0)},persist:function(){},isPersistent:y0}),t}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xg=di(ec),Gu=fr({},ec,{view:0,detail:0}),nS=di(Gu),vd,wd,Ac,xh=fr({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ac&&(Ac&&e.type==="mousemove"?(vd=e.screenX-Ac.screenX,wd=e.screenY-Ac.screenY):wd=vd=0,Ac=e),vd)},movementY:function(e){return"movementY"in e?e.movementY:wd}}),bm=di(xh),iS=fr({},xh,{dataTransfer:0}),sS=di(iS),aS=fr({},Gu,{relatedTarget:0}),yd=di(aS),oS=fr({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),lS=di(oS),cS=fr({},ec,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uS=di(cS),fS=fr({},ec,{data:0}),km=di(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pS[e])?!!t[e]:!1}function mg(){return gS}var xS=fr({},Gu,{key:function(e){if(e.key){var t=hS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?sf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=di(xS),vS=fr({},xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=di(vS),wS=fr({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),yS=di(wS),ES=fr({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),_S=di(ES),AS=fr({},xh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=di(AS),TS=[9,13,27,32],vg=js&&"CompositionEvent"in window,jc=null;js&&"documentMode"in document&&(jc=document.documentMode);var SS=js&&"TextEvent"in window&&!jc,Qy=js&&(!vg||jc&&8<jc&&11>=jc),Rm=" ",Om=!1;function Jy(e,t){switch(e){case"keyup":return TS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ol=!1;function bS(e,t){switch(e){case"compositionend":return eE(t);case"keypress":return t.which!==32?null:(Om=!0,Rm);case"textInput":return e=t.data,e===Rm&&Om?null:e;default:return null}}function kS(e,t){if(ol)return e==="compositionend"||!vg&&Jy(e,t)?(e=Zy(),nf=gg=_a=null,ol=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qy&&t.locale!=="ko"?null:t.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IS[e.type]:t==="textarea"}function tE(e,t,r,n){Ny(n),t=Tf(t,"onChange"),0<t.length&&(r=new xg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vc=null,fu=null;function RS(e){hE(e,0)}function mh(e){var t=ul(e);if(Ty(t))return e}function OS(e,t){if(e==="change")return t}var rE=!1;if(js){var Ed;if(js){var _d="oninput"in document;if(!_d){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),_d=typeof Dm.oninput=="function"}Ed=_d}else Ed=!1;rE=Ed&&(!document.documentMode||9<document.documentMode)}function Pm(){Vc&&(Vc.detachEvent("onpropertychange",nE),fu=Vc=null)}function nE(e){if(e.propertyName==="value"&&mh(fu)){var t=[];tE(t,fu,e,ug(e)),My(RS,t)}}function NS(e,t,r){e==="focusin"?(Pm(),Vc=t,fu=r,Vc.attachEvent("onpropertychange",nE)):e==="focusout"&&Pm()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mh(fu)}function PS(e,t){if(e==="click")return mh(t)}function FS(e,t){if(e==="input"||e==="change")return mh(t)}function MS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zi=typeof Object.is=="function"?Object.is:MS;function hu(e,t){if(Zi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!w1.call(t,i)||!Zi(e[i],t[i]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mm(e,t){var r=Fm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fm(r)}}function iE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sE(){for(var e=window,t=vf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vf(e.document)}return t}function wg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LS(e){var t=sE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&iE(r.ownerDocument.documentElement,r)){if(n!==null&&wg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Mm(r,a);var l=Mm(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BS=js&&"documentMode"in document&&11>=document.documentMode,ll=null,B1=null,Wc=null,U1=!1;function Lm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;U1||ll==null||ll!==vf(n)||(n=ll,"selectionStart"in n&&wg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wc&&hu(Wc,n)||(Wc=n,n=Tf(B1,"onSelect"),0<n.length&&(t=new xg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ll)))}function E0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cl={animationend:E0("Animation","AnimationEnd"),animationiteration:E0("Animation","AnimationIteration"),animationstart:E0("Animation","AnimationStart"),transitionend:E0("Transition","TransitionEnd")},Ad={},aE={};js&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function vh(e){if(Ad[e])return Ad[e];if(!cl[e])return e;var t=cl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in aE)return Ad[e]=t[r];return e}var oE=vh("animationend"),lE=vh("animationiteration"),cE=vh("animationstart"),uE=vh("transitionend"),fE=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){fE.set(e,t),Ro(t,[e])}for(var Cd=0;Cd<Bm.length;Cd++){var Td=Bm[Cd],US=Td.toLowerCase(),jS=Td[0].toUpperCase()+Td.slice(1);Wa(US,"on"+jS)}Wa(oE,"onAnimationEnd");Wa(lE,"onAnimationIteration");Wa(cE,"onAnimationStart");Wa("dblclick","onDoubleClick");Wa("focusin","onFocus");Wa("focusout","onBlur");Wa(uE,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function Um(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U4(n,t,void 0,e),e.currentTarget=null}function hE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var u=n[l],d=u.instance,p=u.currentTarget;if(u=u.listener,d!==a&&i.isPropagationStopped())break e;Um(i,u,p),a=d}else for(l=0;l<n.length;l++){if(u=n[l],d=u.instance,p=u.currentTarget,u=u.listener,d!==a&&i.isPropagationStopped())break e;Um(i,u,p),a=d}}}if(yf)throw e=P1,yf=!1,P1=null,e}function Jt(e,t){var r=t[z1];r===void 0&&(r=t[z1]=new Set);var n=e+"__bubble";r.has(n)||(dE(t,e,2,!1),r.add(n))}function Sd(e,t,r){var n=0;t&&(n|=4),dE(r,e,n,t)}var _0="_reactListening"+Math.random().toString(36).slice(2);function du(e){if(!e[_0]){e[_0]=!0,yy.forEach(function(r){r!=="selectionchange"&&(VS.has(r)||Sd(r,!1,e),Sd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_0]||(t[_0]=!0,Sd("selectionchange",!1,t))}}function dE(e,t,r,n){switch(qy(t)){case 1:var i=tS;break;case 4:i=rS;break;default:i=pg}r=i.bind(null,t,r,e),i=void 0,!D1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function bd(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;u!==null;){if(l=io(u),l===null)return;if(d=l.tag,d===5||d===6){n=a=l;continue e}u=u.parentNode}}n=n.return}My(function(){var p=a,x=ug(r),v=[];e:{var E=fE.get(e);if(E!==void 0){var y=xg,A=e;switch(e){case"keypress":if(sf(r)===0)break e;case"keydown":case"keyup":y=mS;break;case"focusin":A="focus",y=yd;break;case"focusout":A="blur",y=yd;break;case"beforeblur":case"afterblur":y=yd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yS;break;case oE:case lE:case cE:y=lS;break;case uE:y=_S;break;case"scroll":y=nS;break;case"wheel":y=CS;break;case"copy":case"cut":case"paste":y=uS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Im}var _=(t&4)!==0,S=!_&&e==="scroll",b=_?E!==null?E+"Capture":null:E;_=[];for(var k=p,T;k!==null;){T=k;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,b!==null&&(O=ou(k,b),O!=null&&_.push(pu(k,O,T)))),S)break;k=k.return}0<_.length&&(E=new y(E,A,null,r,x),v.push({event:E,listeners:_}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",E&&r!==O1&&(A=r.relatedTarget||r.fromElement)&&(io(A)||A[Vs]))break e;if((y||E)&&(E=x.window===x?x:(E=x.ownerDocument)?E.defaultView||E.parentWindow:window,y?(A=r.relatedTarget||r.toElement,y=p,A=A?io(A):null,A!==null&&(S=Oo(A),A!==S||A.tag!==5&&A.tag!==6)&&(A=null)):(y=null,A=p),y!==A)){if(_=bm,O="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(_=Im,O="onPointerLeave",b="onPointerEnter",k="pointer"),S=y==null?E:ul(y),T=A==null?E:ul(A),E=new _(O,k+"leave",y,r,x),E.target=S,E.relatedTarget=T,O=null,io(x)===p&&(_=new _(b,k+"enter",A,r,x),_.target=T,_.relatedTarget=S,O=_),S=O,y&&A)t:{for(_=y,b=A,k=0,T=_;T;T=zo(T))k++;for(T=0,O=b;O;O=zo(O))T++;for(;0<k-T;)_=zo(_),k--;for(;0<T-k;)b=zo(b),T--;for(;k--;){if(_===b||b!==null&&_===b.alternate)break t;_=zo(_),b=zo(b)}_=null}else _=null;y!==null&&jm(v,E,y,_,!1),A!==null&&S!==null&&jm(v,S,A,_,!0)}}e:{if(E=p?ul(p):window,y=E.nodeName&&E.nodeName.toLowerCase(),y==="select"||y==="input"&&E.type==="file")var B=OS;else if(Nm(E))if(rE)B=FS;else{B=DS;var F=NS}else(y=E.nodeName)&&y.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(B=PS);if(B&&(B=B(e,p))){tE(v,B,r,x);break e}F&&F(e,E,p),e==="focusout"&&(F=E._wrapperState)&&F.controlled&&E.type==="number"&&S1(E,"number",E.value)}switch(F=p?ul(p):window,e){case"focusin":(Nm(F)||F.contentEditable==="true")&&(ll=F,B1=p,Wc=null);break;case"focusout":Wc=B1=ll=null;break;case"mousedown":U1=!0;break;case"contextmenu":case"mouseup":case"dragend":U1=!1,Lm(v,r,x);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Lm(v,r,x)}var R;if(vg)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else ol?Jy(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(Qy&&r.locale!=="ko"&&(ol||z!=="onCompositionStart"?z==="onCompositionEnd"&&ol&&(R=Zy()):(_a=x,gg="value"in _a?_a.value:_a.textContent,ol=!0)),F=Tf(p,z),0<F.length&&(z=new km(z,e,null,r,x),v.push({event:z,listeners:F}),R?z.data=R:(R=eE(r),R!==null&&(z.data=R)))),(R=SS?bS(e,r):kS(e,r))&&(p=Tf(p,"onBeforeInput"),0<p.length&&(x=new km("onBeforeInput","beforeinput",null,r,x),v.push({event:x,listeners:p}),x.data=R))}hE(v,t)})}function pu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ou(e,r),a!=null&&n.unshift(pu(e,a,i)),a=ou(e,t),a!=null&&n.push(pu(e,a,i))),e=e.return}return n}function zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jm(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var u=r,d=u.alternate,p=u.stateNode;if(d!==null&&d===n)break;u.tag===5&&p!==null&&(u=p,i?(d=ou(r,a),d!=null&&l.unshift(pu(r,d,u))):i||(d=ou(r,a),d!=null&&l.push(pu(r,d,u)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var WS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(WS,`
`).replace(HS,"")}function A0(e,t,r){if(t=Vm(t),Vm(e)!==t&&r)throw Error(Fe(425))}function Sf(){}var j1=null,V1=null;function W1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H1=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,GS=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(e){return Wm.resolve(null).then(e).catch($S)}:H1;function $S(e){setTimeout(function(){throw e})}function kd(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),uu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);uu(t)}function Ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tc=Math.random().toString(36).slice(2),hs="__reactFiber$"+tc,gu="__reactProps$"+tc,Vs="__reactContainer$"+tc,z1="__reactEvents$"+tc,XS="__reactListeners$"+tc,KS="__reactHandles$"+tc;function io(e){var t=e[hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vs]||r[hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hm(e);e!==null;){if(r=e[hs])return r;e=Hm(e)}return t}e=r,r=e.parentNode}return null}function $u(e){return e=e[hs]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ul(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function wh(e){return e[gu]||null}var G1=[],fl=-1;function Ha(e){return{current:e}}function tr(e){0>fl||(e.current=G1[fl],G1[fl]=null,fl--)}function $t(e,t){fl++,G1[fl]=e.current,e.current=t}var La={},wn=Ha(La),zn=Ha(!1),yo=La;function Hl(e,t){var r=e.type.contextTypes;if(!r)return La;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Gn(e){return e=e.childContextTypes,e!=null}function bf(){tr(zn),tr(wn)}function zm(e,t,r){if(wn.current!==La)throw Error(Fe(168));$t(wn,t),$t(zn,r)}function pE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Fe(108,N4(e)||"Unknown",i));return fr({},r,n)}function kf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||La,yo=wn.current,$t(wn,e),$t(zn,zn.current),!0}function Gm(e,t,r){var n=e.stateNode;if(!n)throw Error(Fe(169));r?(e=pE(e,t,yo),n.__reactInternalMemoizedMergedChildContext=e,tr(zn),tr(wn),$t(wn,e)):tr(zn),$t(zn,r)}var Ns=null,yh=!1,Id=!1;function gE(e){Ns===null?Ns=[e]:Ns.push(e)}function YS(e){yh=!0,gE(e)}function za(){if(!Id&&Ns!==null){Id=!0;var e=0,t=Mt;try{var r=Ns;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ns=null,yh=!1}catch(i){throw Ns!==null&&(Ns=Ns.slice(e+1)),jy(fg,za),i}finally{Mt=t,Id=!1}}return null}var hl=[],dl=0,If=null,Rf=0,_i=[],Ai=0,Eo=null,Ps=1,Fs="";function Qa(e,t){hl[dl++]=Rf,hl[dl++]=If,If=e,Rf=t}function xE(e,t,r){_i[Ai++]=Ps,_i[Ai++]=Fs,_i[Ai++]=Eo,Eo=e;var n=Ps;e=Fs;var i=32-Ki(n)-1;n&=~(1<<i),r+=1;var a=32-Ki(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Ps=1<<32-Ki(t)+i|r<<i|n,Fs=a+e}else Ps=1<<a|r<<i|n,Fs=e}function yg(e){e.return!==null&&(Qa(e,1),xE(e,1,0))}function Eg(e){for(;e===If;)If=hl[--dl],hl[dl]=null,Rf=hl[--dl],hl[dl]=null;for(;e===Eo;)Eo=_i[--Ai],_i[Ai]=null,Fs=_i[--Ai],_i[Ai]=null,Ps=_i[--Ai],_i[Ai]=null}var li=null,oi=null,nr=!1,zi=null;function mE(e,t){var r=Ci(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $m(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,li=e,oi=Ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,li=e,oi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Eo!==null?{id:Ps,overflow:Fs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ci(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,li=e,oi=null,!0):!1;default:return!1}}function $1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function X1(e){if(nr){var t=oi;if(t){var r=t;if(!$m(e,t)){if($1(e))throw Error(Fe(418));t=Ra(r.nextSibling);var n=li;t&&$m(e,t)?mE(n,r):(e.flags=e.flags&-4097|2,nr=!1,li=e)}}else{if($1(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,nr=!1,li=e}}}function Xm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;li=e}function C0(e){if(e!==li)return!1;if(!nr)return Xm(e),nr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!W1(e.type,e.memoizedProps)),t&&(t=oi)){if($1(e))throw vE(),Error(Fe(418));for(;t;)mE(e,t),t=Ra(t.nextSibling)}if(Xm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){oi=Ra(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}oi=null}}else oi=li?Ra(e.stateNode.nextSibling):null;return!0}function vE(){for(var e=oi;e;)e=Ra(e.nextSibling)}function zl(){oi=li=null,nr=!1}function _g(e){zi===null?zi=[e]:zi.push(e)}var qS=Ks.ReactCurrentBatchConfig;function Cc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,e))}return e}function T0(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Km(e){var t=e._init;return t(e._payload)}function wE(e){function t(b,k){if(e){var T=b.deletions;T===null?(b.deletions=[k],b.flags|=16):T.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function n(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function i(b,k){return b=Pa(b,k),b.index=0,b.sibling=null,b}function a(b,k,T){return b.index=T,e?(T=b.alternate,T!==null?(T=T.index,T<k?(b.flags|=2,k):T):(b.flags|=2,k)):(b.flags|=1048576,k)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,k,T,O){return k===null||k.tag!==6?(k=Md(T,b.mode,O),k.return=b,k):(k=i(k,T),k.return=b,k)}function d(b,k,T,O){var B=T.type;return B===al?x(b,k,T.props.children,O,T.key):k!==null&&(k.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ca&&Km(B)===k.type)?(O=i(k,T.props),O.ref=Cc(b,k,T),O.return=b,O):(O=hf(T.type,T.key,T.props,null,b.mode,O),O.ref=Cc(b,k,T),O.return=b,O)}function p(b,k,T,O){return k===null||k.tag!==4||k.stateNode.containerInfo!==T.containerInfo||k.stateNode.implementation!==T.implementation?(k=Ld(T,b.mode,O),k.return=b,k):(k=i(k,T.children||[]),k.return=b,k)}function x(b,k,T,O,B){return k===null||k.tag!==7?(k=mo(T,b.mode,O,B),k.return=b,k):(k=i(k,T),k.return=b,k)}function v(b,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Md(""+k,b.mode,T),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case p0:return T=hf(k.type,k.key,k.props,null,b.mode,T),T.ref=Cc(b,null,k),T.return=b,T;case sl:return k=Ld(k,b.mode,T),k.return=b,k;case ca:var O=k._init;return v(b,O(k._payload),T)}if(Rc(k)||wc(k))return k=mo(k,b.mode,T,null),k.return=b,k;T0(b,k)}return null}function E(b,k,T,O){var B=k!==null?k.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return B!==null?null:u(b,k,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case p0:return T.key===B?d(b,k,T,O):null;case sl:return T.key===B?p(b,k,T,O):null;case ca:return B=T._init,E(b,k,B(T._payload),O)}if(Rc(T)||wc(T))return B!==null?null:x(b,k,T,O,null);T0(b,T)}return null}function y(b,k,T,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return b=b.get(T)||null,u(k,b,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case p0:return b=b.get(O.key===null?T:O.key)||null,d(k,b,O,B);case sl:return b=b.get(O.key===null?T:O.key)||null,p(k,b,O,B);case ca:var F=O._init;return y(b,k,T,F(O._payload),B)}if(Rc(O)||wc(O))return b=b.get(T)||null,x(k,b,O,B,null);T0(k,O)}return null}function A(b,k,T,O){for(var B=null,F=null,R=k,z=k=0,M=null;R!==null&&z<T.length;z++){R.index>z?(M=R,R=null):M=R.sibling;var te=E(b,R,T[z],O);if(te===null){R===null&&(R=M);break}e&&R&&te.alternate===null&&t(b,R),k=a(te,k,z),F===null?B=te:F.sibling=te,F=te,R=M}if(z===T.length)return r(b,R),nr&&Qa(b,z),B;if(R===null){for(;z<T.length;z++)R=v(b,T[z],O),R!==null&&(k=a(R,k,z),F===null?B=R:F.sibling=R,F=R);return nr&&Qa(b,z),B}for(R=n(b,R);z<T.length;z++)M=y(R,b,z,T[z],O),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?z:M.key),k=a(M,k,z),F===null?B=M:F.sibling=M,F=M);return e&&R.forEach(function(ae){return t(b,ae)}),nr&&Qa(b,z),B}function _(b,k,T,O){var B=wc(T);if(typeof B!="function")throw Error(Fe(150));if(T=B.call(T),T==null)throw Error(Fe(151));for(var F=B=null,R=k,z=k=0,M=null,te=T.next();R!==null&&!te.done;z++,te=T.next()){R.index>z?(M=R,R=null):M=R.sibling;var ae=E(b,R,te.value,O);if(ae===null){R===null&&(R=M);break}e&&R&&ae.alternate===null&&t(b,R),k=a(ae,k,z),F===null?B=ae:F.sibling=ae,F=ae,R=M}if(te.done)return r(b,R),nr&&Qa(b,z),B;if(R===null){for(;!te.done;z++,te=T.next())te=v(b,te.value,O),te!==null&&(k=a(te,k,z),F===null?B=te:F.sibling=te,F=te);return nr&&Qa(b,z),B}for(R=n(b,R);!te.done;z++,te=T.next())te=y(R,b,z,te.value,O),te!==null&&(e&&te.alternate!==null&&R.delete(te.key===null?z:te.key),k=a(te,k,z),F===null?B=te:F.sibling=te,F=te);return e&&R.forEach(function(q){return t(b,q)}),nr&&Qa(b,z),B}function S(b,k,T,O){if(typeof T=="object"&&T!==null&&T.type===al&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case p0:e:{for(var B=T.key,F=k;F!==null;){if(F.key===B){if(B=T.type,B===al){if(F.tag===7){r(b,F.sibling),k=i(F,T.props.children),k.return=b,b=k;break e}}else if(F.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ca&&Km(B)===F.type){r(b,F.sibling),k=i(F,T.props),k.ref=Cc(b,F,T),k.return=b,b=k;break e}r(b,F);break}else t(b,F);F=F.sibling}T.type===al?(k=mo(T.props.children,b.mode,O,T.key),k.return=b,b=k):(O=hf(T.type,T.key,T.props,null,b.mode,O),O.ref=Cc(b,k,T),O.return=b,b=O)}return l(b);case sl:e:{for(F=T.key;k!==null;){if(k.key===F)if(k.tag===4&&k.stateNode.containerInfo===T.containerInfo&&k.stateNode.implementation===T.implementation){r(b,k.sibling),k=i(k,T.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=Ld(T,b.mode,O),k.return=b,b=k}return l(b);case ca:return F=T._init,S(b,k,F(T._payload),O)}if(Rc(T))return A(b,k,T,O);if(wc(T))return _(b,k,T,O);T0(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,k!==null&&k.tag===6?(r(b,k.sibling),k=i(k,T),k.return=b,b=k):(r(b,k),k=Md(T,b.mode,O),k.return=b,b=k),l(b)):r(b,k)}return S}var Gl=wE(!0),yE=wE(!1),Of=Ha(null),Nf=null,pl=null,Ag=null;function Cg(){Ag=pl=Nf=null}function Tg(e){var t=Of.current;tr(Of),e._currentValue=t}function K1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cl(e,t){Nf=e,Ag=pl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function Si(e){var t=e._currentValue;if(Ag!==e)if(e={context:e,memoizedValue:t,next:null},pl===null){if(Nf===null)throw Error(Fe(308));pl=e,Nf.dependencies={lanes:0,firstContext:e}}else pl=pl.next=e;return t}var so=null;function Sg(e){so===null?so=[e]:so.push(e)}function EE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Sg(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ws(e,n)}function Ws(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ua=!1;function bg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _E(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Dt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ws(e,r)}return i=n.interleaved,i===null?(t.next=t,Sg(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ws(e,r)}function af(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}function Ym(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Df(e,t,r,n){var i=e.updateQueue;ua=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,p=d.next;d.next=null,l===null?a=p:l.next=p,l=d;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==l&&(u===null?x.firstBaseUpdate=p:u.next=p,x.lastBaseUpdate=d))}if(a!==null){var v=i.baseState;l=0,x=p=d=null,u=a;do{var E=u.lane,y=u.eventTime;if((n&E)===E){x!==null&&(x=x.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,_=u;switch(E=t,y=r,_.tag){case 1:if(A=_.payload,typeof A=="function"){v=A.call(y,v,E);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=_.payload,E=typeof A=="function"?A.call(y,v,E):A,E==null)break e;v=fr({},v,E);break e;case 2:ua=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[u]:E.push(u))}else y={eventTime:y,lane:E,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(p=x=y,d=v):x=x.next=y,l|=E;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;E=u,u=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(x===null&&(d=v),i.baseState=d,i.firstBaseUpdate=p,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ao|=l,e.lanes=l,e.memoizedState=v}}function qm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Fe(191,i));i.call(n)}}}var Xu={},xs=Ha(Xu),xu=Ha(Xu),mu=Ha(Xu);function ao(e){if(e===Xu)throw Error(Fe(174));return e}function kg(e,t){switch($t(mu,t),$t(xu,e),$t(xs,Xu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:k1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=k1(t,e)}tr(xs),$t(xs,t)}function $l(){tr(xs),tr(xu),tr(mu)}function AE(e){ao(mu.current);var t=ao(xs.current),r=k1(t,e.type);t!==r&&($t(xu,e),$t(xs,r))}function Ig(e){xu.current===e&&(tr(xs),tr(xu))}var cr=Ha(0);function Pf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rd=[];function Rg(){for(var e=0;e<Rd.length;e++)Rd[e]._workInProgressVersionPrimary=null;Rd.length=0}var of=Ks.ReactCurrentDispatcher,Od=Ks.ReactCurrentBatchConfig,_o=0,ur=null,Fr=null,zr=null,Ff=!1,Hc=!1,vu=0,ZS=0;function un(){throw Error(Fe(321))}function Og(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zi(e[r],t[r]))return!1;return!0}function Ng(e,t,r,n,i,a){if(_o=a,ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,of.current=e===null||e.memoizedState===null?tb:rb,e=r(n,i),Hc){a=0;do{if(Hc=!1,vu=0,25<=a)throw Error(Fe(301));a+=1,zr=Fr=null,t.updateQueue=null,of.current=nb,e=r(n,i)}while(Hc)}if(of.current=Mf,t=Fr!==null&&Fr.next!==null,_o=0,zr=Fr=ur=null,Ff=!1,t)throw Error(Fe(300));return e}function Dg(){var e=vu!==0;return vu=0,e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?ur.memoizedState=zr=e:zr=zr.next=e,zr}function bi(){if(Fr===null){var e=ur.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var t=zr===null?ur.memoizedState:zr.next;if(t!==null)zr=t,Fr=e;else{if(e===null)throw Error(Fe(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},zr===null?ur.memoizedState=zr=e:zr=zr.next=e}return zr}function wu(e,t){return typeof t=="function"?t(e):t}function Nd(e){var t=bi(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=Fr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var u=l=null,d=null,p=a;do{var x=p.lane;if((_o&x)===x)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var v={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(u=d=v,l=n):d=d.next=v,ur.lanes|=x,Ao|=x}p=p.next}while(p!==null&&p!==a);d===null?l=n:d.next=u,Zi(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ur.lanes|=a,Ao|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dd(e){var t=bi(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Zi(a,t.memoizedState)||(Hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function CE(){}function TE(e,t){var r=ur,n=bi(),i=t(),a=!Zi(n.memoizedState,i);if(a&&(n.memoizedState=i,Hn=!0),n=n.queue,Pg(kE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,yu(9,bE.bind(null,r,n,i,t),void 0,null),Gr===null)throw Error(Fe(349));_o&30||SE(r,t,i)}return i}function SE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bE(e,t,r,n){t.value=r,t.getSnapshot=n,IE(t)&&RE(e)}function kE(e,t,r){return r(function(){IE(t)&&RE(e)})}function IE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zi(e,r)}catch{return!0}}function RE(e){var t=Ws(e,1);t!==null&&Yi(t,e,1,-1)}function Zm(e){var t=ls();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:e},t.queue=e,e=e.dispatch=eb.bind(null,ur,e),[t.memoizedState,e]}function yu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function OE(){return bi().memoizedState}function lf(e,t,r,n){var i=ls();ur.flags|=e,i.memoizedState=yu(1|t,r,void 0,n===void 0?null:n)}function Eh(e,t,r,n){var i=bi();n=n===void 0?null:n;var a=void 0;if(Fr!==null){var l=Fr.memoizedState;if(a=l.destroy,n!==null&&Og(n,l.deps)){i.memoizedState=yu(t,r,a,n);return}}ur.flags|=e,i.memoizedState=yu(1|t,r,a,n)}function Qm(e,t){return lf(8390656,8,e,t)}function Pg(e,t){return Eh(2048,8,e,t)}function NE(e,t){return Eh(4,2,e,t)}function DE(e,t){return Eh(4,4,e,t)}function PE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FE(e,t,r){return r=r!=null?r.concat([e]):null,Eh(4,4,PE.bind(null,t,e),r)}function Fg(){}function ME(e,t){var r=bi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LE(e,t){var r=bi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Og(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BE(e,t,r){return _o&21?(Zi(r,t)||(r=Hy(),ur.lanes|=r,Ao|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=r)}function QS(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=Od.transition;Od.transition={};try{e(!1),t()}finally{Mt=r,Od.transition=n}}function UE(){return bi().memoizedState}function JS(e,t,r){var n=Da(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jE(e))VE(t,r);else if(r=EE(e,t,r,n),r!==null){var i=Rn();Yi(r,e,n,i),WE(r,t,n)}}function eb(e,t,r){var n=Da(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jE(e))VE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,u=a(l,r);if(i.hasEagerState=!0,i.eagerState=u,Zi(u,l)){var d=t.interleaved;d===null?(i.next=i,Sg(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=EE(e,t,i,n),r!==null&&(i=Rn(),Yi(r,e,n,i),WE(r,t,n))}}function jE(e){var t=e.alternate;return e===ur||t!==null&&t===ur}function VE(e,t){Hc=Ff=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function WE(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hg(e,r)}}var Mf={readContext:Si,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},tb={readContext:Si,useCallback:function(e,t){return ls().memoizedState=[e,t===void 0?null:t],e},useContext:Si,useEffect:Qm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lf(4194308,4,PE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lf(4194308,4,e,t)},useInsertionEffect:function(e,t){return lf(4,2,e,t)},useMemo:function(e,t){var r=ls();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ls();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=JS.bind(null,ur,e),[n.memoizedState,e]},useRef:function(e){var t=ls();return e={current:e},t.memoizedState=e},useState:Zm,useDebugValue:Fg,useDeferredValue:function(e){return ls().memoizedState=e},useTransition:function(){var e=Zm(!1),t=e[0];return e=QS.bind(null,e[1]),ls().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ur,i=ls();if(nr){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=t(),Gr===null)throw Error(Fe(349));_o&30||SE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Qm(kE.bind(null,n,a,e),[e]),n.flags|=2048,yu(9,bE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ls(),t=Gr.identifierPrefix;if(nr){var r=Fs,n=Ps;r=(n&~(1<<32-Ki(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rb={readContext:Si,useCallback:ME,useContext:Si,useEffect:Pg,useImperativeHandle:FE,useInsertionEffect:NE,useLayoutEffect:DE,useMemo:LE,useReducer:Nd,useRef:OE,useState:function(){return Nd(wu)},useDebugValue:Fg,useDeferredValue:function(e){var t=bi();return BE(t,Fr.memoizedState,e)},useTransition:function(){var e=Nd(wu)[0],t=bi().memoizedState;return[e,t]},useMutableSource:CE,useSyncExternalStore:TE,useId:UE,unstable_isNewReconciler:!1},nb={readContext:Si,useCallback:ME,useContext:Si,useEffect:Pg,useImperativeHandle:FE,useInsertionEffect:NE,useLayoutEffect:DE,useMemo:LE,useReducer:Dd,useRef:OE,useState:function(){return Dd(wu)},useDebugValue:Fg,useDeferredValue:function(e){var t=bi();return Fr===null?t.memoizedState=e:BE(t,Fr.memoizedState,e)},useTransition:function(){var e=Dd(wu)[0],t=bi().memoizedState;return[e,t]},useMutableSource:CE,useSyncExternalStore:TE,useId:UE,unstable_isNewReconciler:!1};function Li(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Y1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _h={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rn(),i=Da(e),a=Ls(n,i);a.payload=t,r!=null&&(a.callback=r),t=Oa(e,a,i),t!==null&&(Yi(t,e,i,n),af(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rn(),i=Da(e),a=Ls(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Oa(e,a,i),t!==null&&(Yi(t,e,i,n),af(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rn(),n=Da(e),i=Ls(r,n);i.tag=2,t!=null&&(i.callback=t),t=Oa(e,i,n),t!==null&&(Yi(t,e,n,r),af(t,e,n))}};function Jm(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!hu(r,n)||!hu(i,a):!0}function HE(e,t,r){var n=!1,i=La,a=t.contextType;return typeof a=="object"&&a!==null?a=Si(a):(i=Gn(t)?yo:wn.current,n=t.contextTypes,a=(n=n!=null)?Hl(e,i):La),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_h,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function e2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_h.enqueueReplaceState(t,t.state,null)}function q1(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},bg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Si(a):(a=Gn(t)?yo:wn.current,i.context=Hl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Y1(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_h.enqueueReplaceState(i,i.state,null),Df(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xl(e,t){try{var r="",n=t;do r+=O4(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Pd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Z1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ib=typeof WeakMap=="function"?WeakMap:Map;function zE(e,t,r){r=Ls(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bf||(Bf=!0,op=n),Z1(e,t)},r}function GE(e,t,r){r=Ls(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Z1(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Z1(e,t),typeof n!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function t2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ib;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vb.bind(null,e,t,r),t.then(e,e))}function r2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function n2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ls(-1,1),t.tag=2,Oa(r,t,1))),r.lanes|=1),e)}var sb=Ks.ReactCurrentOwner,Hn=!1;function Tn(e,t,r,n){t.child=e===null?yE(t,null,r,n):Gl(t,e.child,r,n)}function i2(e,t,r,n,i){r=r.render;var a=t.ref;return Cl(t,i),n=Ng(e,t,r,n,a,i),r=Dg(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(nr&&r&&yg(t),t.flags|=1,Tn(e,t,n,i),t.child)}function s2(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Hg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,$E(e,t,a,n,i)):(e=hf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:hu,r(l,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Pa(a,n),e.ref=t.ref,e.return=t,t.child=e}function $E(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(hu(a,n)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return Q1(e,t,r,n,i)}function XE(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(xl,ti),ti|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(xl,ti),ti|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$t(xl,ti),ti|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,$t(xl,ti),ti|=n;return Tn(e,t,i,r),t.child}function KE(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Q1(e,t,r,n,i){var a=Gn(r)?yo:wn.current;return a=Hl(t,a),Cl(t,i),r=Ng(e,t,r,n,a,i),n=Dg(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(nr&&n&&yg(t),t.flags|=1,Tn(e,t,r,i),t.child)}function a2(e,t,r,n,i){if(Gn(r)){var a=!0;kf(t)}else a=!1;if(Cl(t,i),t.stateNode===null)cf(e,t),HE(t,r,n),q1(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=Si(p):(p=Gn(r)?yo:wn.current,p=Hl(t,p));var x=r.getDerivedStateFromProps,v=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";v||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||d!==p)&&e2(t,l,n,p),ua=!1;var E=t.memoizedState;l.state=E,Df(t,n,l,i),d=t.memoizedState,u!==n||E!==d||zn.current||ua?(typeof x=="function"&&(Y1(t,r,x,n),d=t.memoizedState),(u=ua||Jm(t,r,u,n,E,d,p))?(v||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),l.props=n,l.state=d,l.context=p,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,_E(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:Li(t.type,u),l.props=p,v=t.pendingProps,E=l.context,d=r.contextType,typeof d=="object"&&d!==null?d=Si(d):(d=Gn(r)?yo:wn.current,d=Hl(t,d));var y=r.getDerivedStateFromProps;(x=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==v||E!==d)&&e2(t,l,n,d),ua=!1,E=t.memoizedState,l.state=E,Df(t,n,l,i);var A=t.memoizedState;u!==v||E!==A||zn.current||ua?(typeof y=="function"&&(Y1(t,r,y,n),A=t.memoizedState),(p=ua||Jm(t,r,p,n,E,A,d)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,A,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,A,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),l.props=n,l.state=A,l.context=d,n=p):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),n=!1)}return J1(e,t,r,n,a,i)}function J1(e,t,r,n,i,a){KE(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Gm(t,r,!1),Hs(e,t,a);n=t.stateNode,sb.current=t;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Gl(t,e.child,null,a),t.child=Gl(t,null,u,a)):Tn(e,t,u,a),t.memoizedState=n.state,i&&Gm(t,r,!0),t.child}function YE(e){var t=e.stateNode;t.pendingContext?zm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zm(e,t.context,!1),kg(e,t.containerInfo)}function o2(e,t,r,n,i){return zl(),_g(i),t.flags|=256,Tn(e,t,r,n),t.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function qE(e,t,r){var n=t.pendingProps,i=cr.current,a=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(cr,i&1),e===null)return X1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Th(l,n,0,null),e=mo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=tp(r),t.memoizedState=ep,e):Mg(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return ab(e,t,l,n,u,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=Pa(i,d),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=Pa(u,a):(a=mo(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?tp(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=ep,n}return a=e.child,e=a.sibling,n=Pa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mg(e,t){return t=Th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function S0(e,t,r,n){return n!==null&&_g(n),Gl(t,e.child,null,r),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ab(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Pd(Error(Fe(422))),S0(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Th({mode:"visible",children:n.children},i,0,null),a=mo(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Gl(t,e.child,null,l),t.child.memoizedState=tp(l),t.memoizedState=ep,a);if(!(t.mode&1))return S0(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,a=Error(Fe(419)),n=Pd(a,n,void 0),S0(e,t,l,n)}if(u=(l&e.childLanes)!==0,Hn||u){if(n=Gr,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ws(e,i),Yi(n,e,i,-1))}return Wg(),n=Pd(Error(Fe(421))),S0(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wb.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,oi=Ra(i.nextSibling),li=t,nr=!0,zi=null,e!==null&&(_i[Ai++]=Ps,_i[Ai++]=Fs,_i[Ai++]=Eo,Ps=e.id,Fs=e.overflow,Eo=t),t=Mg(t,n.children),t.flags|=4096,t)}function l2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),K1(e.return,t,r)}function Fd(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ZE(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Tn(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l2(e,r,t);else if(e.tag===19)l2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($t(cr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Pf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Fd(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Pf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Fd(t,!0,r,null,a);break;case"together":Fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ao|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,r=Pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ob(e,t,r){switch(t.tag){case 3:YE(t),zl();break;case 5:AE(t);break;case 1:Gn(t.type)&&kf(t);break;case 4:kg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;$t(Of,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($t(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?qE(e,t,r):($t(cr,cr.current&1),e=Hs(e,t,r),e!==null?e.sibling:null);$t(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ZE(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,XE(e,t,r)}return Hs(e,t,r)}var QE,rp,JE,e_;QE=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rp=function(){};JE=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ao(xs.current);var a=null;switch(r){case"input":i=C1(e,i),n=C1(e,n),a=[];break;case"select":i=fr({},i,{value:void 0}),n=fr({},n,{value:void 0}),a=[];break;case"textarea":i=b1(e,i),n=b1(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sf)}I1(r,n);var l;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(su.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in n){var d=n[p];if(u=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&d!==u&&(d!=null||u!=null))if(p==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(r||(r={}),r[l]=d[l])}else r||(a||(a=[]),a.push(p,r)),r=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(su.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Jt("scroll",e),a||u===d||(a=[])):(a=a||[]).push(p,d))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};e_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Tc(e,t){if(!nr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lb(e,t,r){var n=t.pendingProps;switch(Eg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Gn(t.type)&&bf(),fn(t),null;case 3:return n=t.stateNode,$l(),tr(zn),tr(wn),Rg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(C0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi!==null&&(up(zi),zi=null))),rp(e,t),fn(t),null;case 5:Ig(t);var i=ao(mu.current);if(r=t.type,e!==null&&t.stateNode!=null)JE(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Fe(166));return fn(t),null}if(e=ao(xs.current),C0(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[hs]=t,n[gu]=a,e=(t.mode&1)!==0,r){case"dialog":Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":case"embed":Jt("load",n);break;case"video":case"audio":for(i=0;i<Nc.length;i++)Jt(Nc[i],n);break;case"source":Jt("error",n);break;case"img":case"image":case"link":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"input":mm(n,a),Jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",n);break;case"textarea":wm(n,a),Jt("invalid",n)}I1(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?n.textContent!==u&&(a.suppressHydrationWarning!==!0&&A0(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&A0(n.textContent,u,e),i=["children",""+u]):su.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Jt("scroll",n)}switch(r){case"input":g0(n),vm(n,a,!0);break;case"textarea":g0(n),ym(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ky(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hs]=t,e[gu]=n,QE(e,t,!1,!1),t.stateNode=e;e:{switch(l=R1(r,n),r){case"dialog":Jt("cancel",e),Jt("close",e),i=n;break;case"iframe":case"object":case"embed":Jt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nc.length;i++)Jt(Nc[i],e);i=n;break;case"source":Jt("error",e),i=n;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),i=n;break;case"details":Jt("toggle",e),i=n;break;case"input":mm(e,n),i=C1(e,n),Jt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=fr({},n,{value:void 0}),Jt("invalid",e);break;case"textarea":wm(e,n),i=b1(e,n),Jt("invalid",e);break;default:i=n}I1(r,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?Oy(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Iy(e,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&au(e,d):typeof d=="number"&&au(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(su.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Jt("scroll",e):d!=null&&ag(e,a,d,l))}switch(r){case"input":g0(e),vm(e,n,!1);break;case"textarea":g0(e),ym(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ma(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yl(e,!!n.multiple,a,!1):n.defaultValue!=null&&yl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)e_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Fe(166));if(r=ao(mu.current),ao(xs.current),C0(t)){if(n=t.stateNode,r=t.memoizedProps,n[hs]=t,(a=n.nodeValue!==r)&&(e=li,e!==null))switch(e.tag){case 3:A0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A0(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=t,t.stateNode=n}return fn(t),null;case 13:if(tr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nr&&oi!==null&&t.mode&1&&!(t.flags&128))vE(),zl(),t.flags|=98560,a=!1;else if(a=C0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Fe(317));a[hs]=t}else zl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),a=!1}else zi!==null&&(up(zi),zi=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Mr===0&&(Mr=3):Wg())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return $l(),rp(e,t),e===null&&du(t.stateNode.containerInfo),fn(t),null;case 10:return Tg(t.type._context),fn(t),null;case 17:return Gn(t.type)&&bf(),fn(t),null;case 19:if(tr(cr),a=t.memoizedState,a===null)return fn(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)Tc(a,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Pf(e),l!==null){for(t.flags|=128,Tc(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(cr,cr.current&1|2),t.child}e=e.sibling}a.tail!==null&&_r()>Kl&&(t.flags|=128,n=!0,Tc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Pf(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Tc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!nr)return fn(t),null}else 2*_r()-a.renderingStartTime>Kl&&r!==1073741824&&(t.flags|=128,n=!0,Tc(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=_r(),t.sibling=null,r=cr.current,$t(cr,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return Vg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ti&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function cb(e,t){switch(Eg(t),t.tag){case 1:return Gn(t.type)&&bf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $l(),tr(zn),tr(wn),Rg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ig(t),null;case 13:if(tr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));zl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(cr),null;case 4:return $l(),null;case 10:return Tg(t.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var b0=!1,gn=!1,ub=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function gl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(e,t,n)}else r.current=null}function np(e,t,r){try{r()}catch(n){xr(e,t,n)}}var c2=!1;function fb(e,t){if(j1=Af,e=sE(),wg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,u=-1,d=-1,p=0,x=0,v=e,E=null;t:for(;;){for(var y;v!==r||i!==0&&v.nodeType!==3||(u=l+i),v!==a||n!==0&&v.nodeType!==3||(d=l+n),v.nodeType===3&&(l+=v.nodeValue.length),(y=v.firstChild)!==null;)E=v,v=y;for(;;){if(v===e)break t;if(E===r&&++p===i&&(u=l),E===a&&++x===n&&(d=l),(y=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=y}r=u===-1||d===-1?null:{start:u,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(V1={focusedElem:e,selectionRange:r},Af=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var _=A.memoizedProps,S=A.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?_:Li(t.type,_),S);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(O){xr(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return A=c2,c2=!1,A}function zc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&np(t,r,a)}i=i.next}while(i!==n)}}function Ah(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ip(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t_(e){var t=e.alternate;t!==null&&(e.alternate=null,t_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hs],delete t[gu],delete t[z1],delete t[XS],delete t[KS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r_(e){return e.tag===5||e.tag===3||e.tag===4}function u2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sf));else if(n!==4&&(e=e.child,e!==null))for(sp(e,t,r),e=e.sibling;e!==null;)sp(e,t,r),e=e.sibling}function ap(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ap(e,t,r),e=e.sibling;e!==null;)ap(e,t,r),e=e.sibling}var Jr=null,Wi=!1;function na(e,t,r){for(r=r.child;r!==null;)n_(e,t,r),r=r.sibling}function n_(e,t,r){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(gh,r)}catch{}switch(r.tag){case 5:gn||gl(r,t);case 6:var n=Jr,i=Wi;Jr=null,na(e,t,r),Jr=n,Wi=i,Jr!==null&&(Wi?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Wi?(e=Jr,r=r.stateNode,e.nodeType===8?kd(e.parentNode,r):e.nodeType===1&&kd(e,r),uu(e)):kd(Jr,r.stateNode));break;case 4:n=Jr,i=Wi,Jr=r.stateNode.containerInfo,Wi=!0,na(e,t,r),Jr=n,Wi=i;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&np(r,t,l),i=i.next}while(i!==n)}na(e,t,r);break;case 1:if(!gn&&(gl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){xr(r,t,u)}na(e,t,r);break;case 21:na(e,t,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,na(e,t,r),gn=n):na(e,t,r);break;default:na(e,t,r)}}function f2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ub),t.forEach(function(n){var i=yb.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ni(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Jr=u.stateNode,Wi=!1;break e;case 3:Jr=u.stateNode.containerInfo,Wi=!0;break e;case 4:Jr=u.stateNode.containerInfo,Wi=!0;break e}u=u.return}if(Jr===null)throw Error(Fe(160));n_(a,l,i),Jr=null,Wi=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(p){xr(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i_(t,e),t=t.sibling}function i_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ni(t,e),ss(e),n&4){try{zc(3,e,e.return),Ah(3,e)}catch(_){xr(e,e.return,_)}try{zc(5,e,e.return)}catch(_){xr(e,e.return,_)}}break;case 1:Ni(t,e),ss(e),n&512&&r!==null&&gl(r,r.return);break;case 5:if(Ni(t,e),ss(e),n&512&&r!==null&&gl(r,r.return),e.flags&32){var i=e.stateNode;try{au(i,"")}catch(_){xr(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&Sy(i,a),R1(u,l);var p=R1(u,a);for(l=0;l<d.length;l+=2){var x=d[l],v=d[l+1];x==="style"?Oy(i,v):x==="dangerouslySetInnerHTML"?Iy(i,v):x==="children"?au(i,v):ag(i,x,v,p)}switch(u){case"input":T1(i,a);break;case"textarea":by(i,a);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?yl(i,!!a.multiple,y,!1):E!==!!a.multiple&&(a.defaultValue!=null?yl(i,!!a.multiple,a.defaultValue,!0):yl(i,!!a.multiple,a.multiple?[]:"",!1))}i[gu]=a}catch(_){xr(e,e.return,_)}}break;case 6:if(Ni(t,e),ss(e),n&4){if(e.stateNode===null)throw Error(Fe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(_){xr(e,e.return,_)}}break;case 3:if(Ni(t,e),ss(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uu(t.containerInfo)}catch(_){xr(e,e.return,_)}break;case 4:Ni(t,e),ss(e);break;case 13:Ni(t,e),ss(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ug=_r())),n&4&&f2(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(gn=(p=gn)||x,Ni(t,e),gn=p):Ni(t,e),ss(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for(Ge=e,x=e.child;x!==null;){for(v=Ge=x;Ge!==null;){switch(E=Ge,y=E.child,E.tag){case 0:case 11:case 14:case 15:zc(4,E,E.return);break;case 1:gl(E,E.return);var A=E.stateNode;if(typeof A.componentWillUnmount=="function"){n=E,r=E.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(_){xr(n,r,_)}}break;case 5:gl(E,E.return);break;case 22:if(E.memoizedState!==null){d2(v);continue}}y!==null?(y.return=E,Ge=y):d2(v)}x=x.sibling}e:for(x=null,v=e;;){if(v.tag===5){if(x===null){x=v;try{i=v.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=v.stateNode,d=v.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Ry("display",l))}catch(_){xr(e,e.return,_)}}}else if(v.tag===6){if(x===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(_){xr(e,e.return,_)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;x===v&&(x=null),v=v.return}x===v&&(x=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Ni(t,e),ss(e),n&4&&f2(e);break;case 21:break;default:Ni(t,e),ss(e)}}function ss(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r_(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(au(i,""),n.flags&=-33);var a=u2(e);ap(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,u=u2(e);sp(e,u,l);break;default:throw Error(Fe(161))}}catch(d){xr(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hb(e,t,r){Ge=e,s_(e)}function s_(e,t,r){for(var n=(e.mode&1)!==0;Ge!==null;){var i=Ge,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||b0;if(!l){var u=i.alternate,d=u!==null&&u.memoizedState!==null||gn;u=b0;var p=gn;if(b0=l,(gn=d)&&!p)for(Ge=i;Ge!==null;)l=Ge,d=l.child,l.tag===22&&l.memoizedState!==null?p2(i):d!==null?(d.return=l,Ge=d):p2(i);for(;a!==null;)Ge=a,s_(a),a=a.sibling;Ge=i,b0=u,gn=p}h2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ge=a):h2(e)}}function h2(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||Ah(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Li(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&qm(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qm(t,l,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var v=x.dehydrated;v!==null&&uu(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}gn||t.flags&512&&ip(t)}catch(E){xr(t,t.return,E)}}if(t===e){Ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function d2(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function p2(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ah(4,t)}catch(d){xr(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){xr(t,i,d)}}var a=t.return;try{ip(t)}catch(d){xr(t,a,d)}break;case 5:var l=t.return;try{ip(t)}catch(d){xr(t,l,d)}}}catch(d){xr(t,t.return,d)}if(t===e){Ge=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Ge=u;break}Ge=t.return}}var db=Math.ceil,Lf=Ks.ReactCurrentDispatcher,Lg=Ks.ReactCurrentOwner,Ti=Ks.ReactCurrentBatchConfig,Dt=0,Gr=null,kr=null,tn=0,ti=0,xl=Ha(0),Mr=0,Eu=null,Ao=0,Ch=0,Bg=0,Gc=null,Wn=null,Ug=0,Kl=1/0,Rs=null,Bf=!1,op=null,Na=null,k0=!1,Aa=null,Uf=0,$c=0,lp=null,uf=-1,ff=0;function Rn(){return Dt&6?_r():uf!==-1?uf:uf=_r()}function Da(e){return e.mode&1?Dt&2&&tn!==0?tn&-tn:qS.transition!==null?(ff===0&&(ff=Hy()),ff):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:qy(e.type)),e):1}function Yi(e,t,r,n){if(50<$c)throw $c=0,lp=null,Error(Fe(185));zu(e,r,n),(!(Dt&2)||e!==Gr)&&(e===Gr&&(!(Dt&2)&&(Ch|=r),Mr===4&&da(e,tn)),$n(e,n),r===1&&Dt===0&&!(t.mode&1)&&(Kl=_r()+500,yh&&za()))}function $n(e,t){var r=e.callbackNode;q4(e,t);var n=_f(e,e===Gr?tn:0);if(n===0)r!==null&&Am(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Am(r),t===1)e.tag===0?YS(g2.bind(null,e)):gE(g2.bind(null,e)),GS(function(){!(Dt&6)&&za()}),r=null;else{switch(zy(n)){case 1:r=fg;break;case 4:r=Vy;break;case 16:r=Ef;break;case 536870912:r=Wy;break;default:r=Ef}r=d_(r,a_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function a_(e,t){if(uf=-1,ff=0,Dt&6)throw Error(Fe(327));var r=e.callbackNode;if(Tl()&&e.callbackNode!==r)return null;var n=_f(e,e===Gr?tn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jf(e,n);else{t=n;var i=Dt;Dt|=2;var a=l_();(Gr!==e||tn!==t)&&(Rs=null,Kl=_r()+500,xo(e,t));do try{xb();break}catch(u){o_(e,u)}while(!0);Cg(),Lf.current=a,Dt=i,kr!==null?t=0:(Gr=null,tn=0,t=Mr)}if(t!==0){if(t===2&&(i=F1(e),i!==0&&(n=i,t=cp(e,i))),t===1)throw r=Eu,xo(e,0),da(e,n),$n(e,_r()),r;if(t===6)da(e,n);else{if(i=e.current.alternate,!(n&30)&&!pb(i)&&(t=jf(e,n),t===2&&(a=F1(e),a!==0&&(n=a,t=cp(e,a))),t===1))throw r=Eu,xo(e,0),da(e,n),$n(e,_r()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Fe(345));case 2:Ja(e,Wn,Rs);break;case 3:if(da(e,n),(n&130023424)===n&&(t=Ug+500-_r(),10<t)){if(_f(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H1(Ja.bind(null,e,Wn,Rs),t);break}Ja(e,Wn,Rs);break;case 4:if(da(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Ki(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=_r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*db(n/1960))-n,10<n){e.timeoutHandle=H1(Ja.bind(null,e,Wn,Rs),n);break}Ja(e,Wn,Rs);break;case 5:Ja(e,Wn,Rs);break;default:throw Error(Fe(329))}}}return $n(e,_r()),e.callbackNode===r?a_.bind(null,e):null}function cp(e,t){var r=Gc;return e.current.memoizedState.isDehydrated&&(xo(e,t).flags|=256),e=jf(e,t),e!==2&&(t=Wn,Wn=r,t!==null&&up(t)),e}function up(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function pb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Zi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function da(e,t){for(t&=~Bg,t&=~Ch,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ki(t),n=1<<r;e[r]=-1,t&=~n}}function g2(e){if(Dt&6)throw Error(Fe(327));Tl();var t=_f(e,0);if(!(t&1))return $n(e,_r()),null;var r=jf(e,t);if(e.tag!==0&&r===2){var n=F1(e);n!==0&&(t=n,r=cp(e,n))}if(r===1)throw r=Eu,xo(e,0),da(e,t),$n(e,_r()),r;if(r===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ja(e,Wn,Rs),$n(e,_r()),null}function jg(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(Kl=_r()+500,yh&&za())}}function Co(e){Aa!==null&&Aa.tag===0&&!(Dt&6)&&Tl();var t=Dt;Dt|=1;var r=Ti.transition,n=Mt;try{if(Ti.transition=null,Mt=1,e)return e()}finally{Mt=n,Ti.transition=r,Dt=t,!(Dt&6)&&za()}}function Vg(){ti=xl.current,tr(xl)}function xo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zS(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(Eg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bf();break;case 3:$l(),tr(zn),tr(wn),Rg();break;case 5:Ig(n);break;case 4:$l();break;case 13:tr(cr);break;case 19:tr(cr);break;case 10:Tg(n.type._context);break;case 22:case 23:Vg()}r=r.return}if(Gr=e,kr=e=Pa(e.current,null),tn=ti=t,Mr=0,Eu=null,Bg=Ch=Ao=0,Wn=Gc=null,so!==null){for(t=0;t<so.length;t++)if(r=so[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}so=null}return e}function o_(e,t){do{var r=kr;try{if(Cg(),of.current=Mf,Ff){for(var n=ur.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ff=!1}if(_o=0,zr=Fr=ur=null,Hc=!1,vu=0,Lg.current=null,r===null||r.return===null){Mr=1,Eu=t,kr=null;break}e:{var a=e,l=r.return,u=r,d=t;if(t=tn,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,x=u,v=x.tag;if(!(x.mode&1)&&(v===0||v===11||v===15)){var E=x.alternate;E?(x.updateQueue=E.updateQueue,x.memoizedState=E.memoizedState,x.lanes=E.lanes):(x.updateQueue=null,x.memoizedState=null)}var y=r2(l);if(y!==null){y.flags&=-257,n2(y,l,u,a,t),y.mode&1&&t2(a,p,t),t=y,d=p;var A=t.updateQueue;if(A===null){var _=new Set;_.add(d),t.updateQueue=_}else A.add(d);break e}else{if(!(t&1)){t2(a,p,t),Wg();break e}d=Error(Fe(426))}}else if(nr&&u.mode&1){var S=r2(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),n2(S,l,u,a,t),_g(Xl(d,u));break e}}a=d=Xl(d,u),Mr!==4&&(Mr=2),Gc===null?Gc=[a]:Gc.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=zE(a,d,t);Ym(a,b);break e;case 1:u=d;var k=a.type,T=a.stateNode;if(!(a.flags&128)&&(typeof k.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Na===null||!Na.has(T)))){a.flags|=65536,t&=-t,a.lanes|=t;var O=GE(a,u,t);Ym(a,O);break e}}a=a.return}while(a!==null)}u_(r)}catch(B){t=B,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function l_(){var e=Lf.current;return Lf.current=Mf,e===null?Mf:e}function Wg(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Gr===null||!(Ao&268435455)&&!(Ch&268435455)||da(Gr,tn)}function jf(e,t){var r=Dt;Dt|=2;var n=l_();(Gr!==e||tn!==t)&&(Rs=null,xo(e,t));do try{gb();break}catch(i){o_(e,i)}while(!0);if(Cg(),Dt=r,Lf.current=n,kr!==null)throw Error(Fe(261));return Gr=null,tn=0,Mr}function gb(){for(;kr!==null;)c_(kr)}function xb(){for(;kr!==null&&!V4();)c_(kr)}function c_(e){var t=h_(e.alternate,e,ti);e.memoizedProps=e.pendingProps,t===null?u_(e):kr=t,Lg.current=null}function u_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cb(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,kr=null;return}}else if(r=lb(r,t,ti),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Mr===0&&(Mr=5)}function Ja(e,t,r){var n=Mt,i=Ti.transition;try{Ti.transition=null,Mt=1,mb(e,t,r,n)}finally{Ti.transition=i,Mt=n}return null}function mb(e,t,r,n){do Tl();while(Aa!==null);if(Dt&6)throw Error(Fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Z4(e,a),e===Gr&&(kr=Gr=null,tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||k0||(k0=!0,d_(Ef,function(){return Tl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ti.transition,Ti.transition=null;var l=Mt;Mt=1;var u=Dt;Dt|=4,Lg.current=null,fb(e,r),i_(r,e),LS(V1),Af=!!j1,V1=j1=null,e.current=r,hb(r),W4(),Dt=u,Mt=l,Ti.transition=a}else e.current=r;if(k0&&(k0=!1,Aa=e,Uf=i),a=e.pendingLanes,a===0&&(Na=null),G4(r.stateNode),$n(e,_r()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,e=op,op=null,e;return Uf&1&&e.tag!==0&&Tl(),a=e.pendingLanes,a&1?e===lp?$c++:($c=0,lp=e):$c=0,za(),null}function Tl(){if(Aa!==null){var e=zy(Uf),t=Ti.transition,r=Mt;try{if(Ti.transition=null,Mt=16>e?16:e,Aa===null)var n=!1;else{if(e=Aa,Aa=null,Uf=0,Dt&6)throw Error(Fe(331));var i=Dt;for(Dt|=4,Ge=e.current;Ge!==null;){var a=Ge,l=a.child;if(Ge.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var p=u[d];for(Ge=p;Ge!==null;){var x=Ge;switch(x.tag){case 0:case 11:case 15:zc(8,x,a)}var v=x.child;if(v!==null)v.return=x,Ge=v;else for(;Ge!==null;){x=Ge;var E=x.sibling,y=x.return;if(t_(x),x===p){Ge=null;break}if(E!==null){E.return=y,Ge=E;break}Ge=y}}}var A=a.alternate;if(A!==null){var _=A.child;if(_!==null){A.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}Ge=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Ge=l;else e:for(;Ge!==null;){if(a=Ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Ge=b;break e}Ge=a.return}}var k=e.current;for(Ge=k;Ge!==null;){l=Ge;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,Ge=T;else e:for(l=k;Ge!==null;){if(u=Ge,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ah(9,u)}}catch(B){xr(u,u.return,B)}if(u===l){Ge=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,Ge=O;break e}Ge=u.return}}if(Dt=i,za(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(gh,e)}catch{}n=!0}return n}finally{Mt=r,Ti.transition=t}}return!1}function x2(e,t,r){t=Xl(r,t),t=zE(e,t,1),e=Oa(e,t,1),t=Rn(),e!==null&&(zu(e,1,t),$n(e,t))}function xr(e,t,r){if(e.tag===3)x2(e,e,r);else for(;t!==null;){if(t.tag===3){x2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Na===null||!Na.has(n))){e=Xl(r,e),e=GE(t,e,1),t=Oa(t,e,1),e=Rn(),t!==null&&(zu(t,1,e),$n(t,e));break}}t=t.return}}function vb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&r,Gr===e&&(tn&r)===r&&(Mr===4||Mr===3&&(tn&130023424)===tn&&500>_r()-Ug?xo(e,0):Bg|=r),$n(e,t)}function f_(e,t){t===0&&(e.mode&1?(t=v0,v0<<=1,!(v0&130023424)&&(v0=4194304)):t=1);var r=Rn();e=Ws(e,t),e!==null&&(zu(e,t,r),$n(e,r))}function wb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f_(e,r)}function yb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(t),f_(e,r)}var h_;h_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)Hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hn=!1,ob(e,t,r);Hn=!!(e.flags&131072)}else Hn=!1,nr&&t.flags&1048576&&xE(t,Rf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cf(e,t),e=t.pendingProps;var i=Hl(t,wn.current);Cl(t,r),i=Ng(null,t,n,e,i,r);var a=Dg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gn(n)?(a=!0,kf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bg(t),i.updater=_h,t.stateNode=i,i._reactInternals=t,q1(t,n,e,r),t=J1(null,t,n,!0,a,r)):(t.tag=0,nr&&a&&yg(t),Tn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=_b(n),e=Li(n,e),i){case 0:t=Q1(null,t,n,e,r);break e;case 1:t=a2(null,t,n,e,r);break e;case 11:t=i2(null,t,n,e,r);break e;case 14:t=s2(null,t,n,Li(n.type,e),r);break e}throw Error(Fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Li(n,i),Q1(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Li(n,i),a2(e,t,n,i,r);case 3:e:{if(YE(t),e===null)throw Error(Fe(387));n=t.pendingProps,a=t.memoizedState,i=a.element,_E(e,t),Df(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xl(Error(Fe(423)),t),t=o2(e,t,n,r,i);break e}else if(n!==i){i=Xl(Error(Fe(424)),t),t=o2(e,t,n,r,i);break e}else for(oi=Ra(t.stateNode.containerInfo.firstChild),li=t,nr=!0,zi=null,r=yE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zl(),n===i){t=Hs(e,t,r);break e}Tn(e,t,n,r)}t=t.child}return t;case 5:return AE(t),e===null&&X1(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,W1(n,i)?l=null:a!==null&&W1(n,a)&&(t.flags|=32),KE(e,t),Tn(e,t,l,r),t.child;case 6:return e===null&&X1(t),null;case 13:return qE(e,t,r);case 4:return kg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gl(t,null,n,r):Tn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Li(n,i),i2(e,t,n,i,r);case 7:return Tn(e,t,t.pendingProps,r),t.child;case 8:return Tn(e,t,t.pendingProps.children,r),t.child;case 12:return Tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,$t(Of,n._currentValue),n._currentValue=l,a!==null)if(Zi(a.value,l)){if(a.children===i.children&&!zn.current){t=Hs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var d=u.firstContext;d!==null;){if(d.context===n){if(a.tag===1){d=Ls(-1,r&-r),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?d.next=d:(d.next=x.next,x.next=d),p.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),K1(a.return,r,t),u.lanes|=r;break}d=d.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Fe(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),K1(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Tn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Cl(t,r),i=Si(i),n=n(i),t.flags|=1,Tn(e,t,n,r),t.child;case 14:return n=t.type,i=Li(n,t.pendingProps),i=Li(n.type,i),s2(e,t,n,i,r);case 15:return $E(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Li(n,i),cf(e,t),t.tag=1,Gn(n)?(e=!0,kf(t)):e=!1,Cl(t,r),HE(t,n,i),q1(t,n,i,r),J1(null,t,n,!0,e,r);case 19:return ZE(e,t,r);case 22:return XE(e,t,r)}throw Error(Fe(156,t.tag))};function d_(e,t){return jy(e,t)}function Eb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,r,n){return new Eb(e,t,r,n)}function Hg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _b(e){if(typeof e=="function")return Hg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lg)return 11;if(e===cg)return 14}return 2}function Pa(e,t){var r=e.alternate;return r===null?(r=Ci(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hf(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Hg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case al:return mo(r.children,i,a,t);case og:l=8,i|=8;break;case y1:return e=Ci(12,r,t,i|2),e.elementType=y1,e.lanes=a,e;case E1:return e=Ci(13,r,t,i),e.elementType=E1,e.lanes=a,e;case _1:return e=Ci(19,r,t,i),e.elementType=_1,e.lanes=a,e;case Ay:return Th(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ey:l=10;break e;case _y:l=9;break e;case lg:l=11;break e;case cg:l=14;break e;case ca:l=16,n=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=Ci(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function mo(e,t,r,n){return e=Ci(7,e,n,t),e.lanes=r,e}function Th(e,t,r,n){return e=Ci(22,e,n,t),e.elementType=Ay,e.lanes=r,e.stateNode={isHidden:!1},e}function Md(e,t,r){return e=Ci(6,e,null,t),e.lanes=r,e}function Ld(e,t,r){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ab(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zg(e,t,r,n,i,a,l,u,d){return e=new Ab(e,t,r,u,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ci(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(a),e}function Cb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p_(e){if(!e)return La;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var r=e.type;if(Gn(r))return pE(e,r,t)}return t}function g_(e,t,r,n,i,a,l,u,d){return e=zg(r,n,!0,e,i,a,l,u,d),e.context=p_(null),r=e.current,n=Rn(),i=Da(r),a=Ls(n,i),a.callback=t??null,Oa(r,a,i),e.current.lanes=i,zu(e,i,n),$n(e,n),e}function Sh(e,t,r,n){var i=t.current,a=Rn(),l=Da(i);return r=p_(r),t.context===null?t.context=r:t.pendingContext=r,t=Ls(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oa(i,t,l),e!==null&&(Yi(e,i,l,a),af(e,i,l)),l}function Vf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function m2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gg(e,t){m2(e,t),(e=e.alternate)&&m2(e,t)}function Tb(){return null}var x_=typeof reportError=="function"?reportError:function(e){console.error(e)};function $g(e){this._internalRoot=e}bh.prototype.render=$g.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));Sh(e,t,null,null)};bh.prototype.unmount=$g.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Co(function(){Sh(null,e,null,null)}),t[Vs]=null}};function bh(e){this._internalRoot=e}bh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ha.length&&t!==0&&t<ha[r].priority;r++);ha.splice(r,0,e),r===0&&Yy(e)}};function Xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v2(){}function Sb(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var p=Vf(l);a.call(p)}}var l=g_(t,n,e,0,null,!1,!1,"",v2);return e._reactRootContainer=l,e[Vs]=l.current,du(e.nodeType===8?e.parentNode:e),Co(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var p=Vf(d);u.call(p)}}var d=zg(e,0,!1,null,null,!1,!1,"",v2);return e._reactRootContainer=d,e[Vs]=d.current,du(e.nodeType===8?e.parentNode:e),Co(function(){Sh(t,d,r,n)}),d}function Ih(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var d=Vf(l);u.call(d)}}Sh(t,l,e,i)}else l=Sb(r,t,e,i,n);return Vf(l)}Gy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Oc(t.pendingLanes);r!==0&&(hg(t,r|1),$n(t,_r()),!(Dt&6)&&(Kl=_r()+500,za()))}break;case 13:Co(function(){var n=Ws(e,1);if(n!==null){var i=Rn();Yi(n,e,1,i)}}),Gg(e,1)}};dg=function(e){if(e.tag===13){var t=Ws(e,134217728);if(t!==null){var r=Rn();Yi(t,e,134217728,r)}Gg(e,134217728)}};$y=function(e){if(e.tag===13){var t=Da(e),r=Ws(e,t);if(r!==null){var n=Rn();Yi(r,e,t,n)}Gg(e,t)}};Xy=function(){return Mt};Ky=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};N1=function(e,t,r){switch(t){case"input":if(T1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wh(n);if(!i)throw Error(Fe(90));Ty(n),T1(n,i)}}}break;case"textarea":by(e,r);break;case"select":t=r.value,t!=null&&yl(e,!!r.multiple,t,!1)}};Py=jg;Fy=Co;var bb={usingClientEntryPoint:!1,Events:[$u,ul,wh,Ny,Dy,jg]},Sc={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kb={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=By(e),e===null?null:e.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||Tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var I0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!I0.isDisabled&&I0.supportsFiber)try{gh=I0.inject(kb),gs=I0}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bb;hi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(t))throw Error(Fe(200));return Cb(e,t,null,r)};hi.createRoot=function(e,t){if(!Xg(e))throw Error(Fe(299));var r=!1,n="",i=x_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zg(e,1,!1,null,null,r,!1,n,i),e[Vs]=t.current,du(e.nodeType===8?e.parentNode:e),new $g(t)};hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=By(t),e=e===null?null:e.stateNode,e};hi.flushSync=function(e){return Co(e)};hi.hydrate=function(e,t,r){if(!kh(t))throw Error(Fe(200));return Ih(null,e,t,!0,r)};hi.hydrateRoot=function(e,t,r){if(!Xg(e))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=x_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=g_(t,null,e,1,r??null,i,!1,a,l),e[Vs]=t.current,du(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new bh(t)};hi.render=function(e,t,r){if(!kh(t))throw Error(Fe(200));return Ih(null,e,t,!1,r)};hi.unmountComponentAtNode=function(e){if(!kh(e))throw Error(Fe(40));return e._reactRootContainer?(Co(function(){Ih(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};hi.unstable_batchedUpdates=jg;hi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kh(r))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return Ih(e,t,r,!1,n)};hi.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(e){console.error(e)}}m_(),my.exports=hi;var Ku=my.exports;const v_=Qp(Ku);var w_,w2=Ku;w_=w2.createRoot,w2.hydrateRoot;const Ib=1,Rb=1e6;let Bd=0;function Ob(){return Bd=(Bd+1)%Number.MAX_SAFE_INTEGER,Bd.toString()}const Ud=new Map,y2=e=>{if(Ud.has(e))return;const t=setTimeout(()=>{Ud.delete(e),Xc({type:"REMOVE_TOAST",toastId:e})},Rb);Ud.set(e,t)},Nb=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ib)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?y2(r):e.toasts.forEach(n=>{y2(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},df=[];let pf={toasts:[]};function Xc(e){pf=Nb(pf,e),df.forEach(t=>{t(pf)})}function Db({...e}){const t=Ob(),r=i=>Xc({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Xc({type:"DISMISS_TOAST",toastId:t});return Xc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Yu(){const[e,t]=j.useState(pf);return j.useEffect(()=>(df.push(t),()=>{const r=df.indexOf(t);r>-1&&df.splice(r,1)}),[e]),{...e,toast:Db,dismiss:r=>Xc({type:"DISMISS_TOAST",toastId:r})}}function ir(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function E2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function y_(...e){return t=>{let r=!1;const n=e.map(i=>{const a=E2(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():E2(e[i],null)}}}}function Nn(...e){return j.useCallback(y_(...e),e)}function Pb(e,t){const r=j.createContext(t),n=a=>{const{children:l,...u}=a,d=j.useMemo(()=>u,Object.values(u));return V.jsx(r.Provider,{value:d,children:l})};n.displayName=e+"Provider";function i(a){const l=j.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function qu(e,t=[]){let r=[];function n(a,l){const u=j.createContext(l),d=r.length;r=[...r,l];const p=v=>{var b;const{scope:E,children:y,...A}=v,_=((b=E==null?void 0:E[e])==null?void 0:b[d])||u,S=j.useMemo(()=>A,Object.values(A));return V.jsx(_.Provider,{value:S,children:y})};p.displayName=a+"Provider";function x(v,E){var _;const y=((_=E==null?void 0:E[e])==null?void 0:_[d])||u,A=j.useContext(y);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,x]}const i=()=>{const a=r.map(l=>j.createContext(l));return function(u){const d=(u==null?void 0:u[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return i.scopeName=e,[n,Fb(i,...t)]}function Fb(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=n.reduce((u,{useScope:d,scopeName:p})=>{const v=d(a)[`__scope${p}`];return{...u,...v}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function _u(e){const t=Lb(e),r=j.forwardRef((n,i)=>{const{children:a,...l}=n,u=j.Children.toArray(a),d=u.find(Ub);if(d){const p=d.props.children,x=u.map(v=>v===d?j.Children.count(p)>1?j.Children.only(null):j.isValidElement(p)?p.props.children:null:v);return V.jsx(t,{...l,ref:i,children:j.isValidElement(p)?j.cloneElement(p,void 0,x):null})}return V.jsx(t,{...l,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Mb=_u("Slot");function Lb(e){const t=j.forwardRef((r,n)=>{const{children:i,...a}=r;if(j.isValidElement(i)){const l=Vb(i),u=jb(a,i.props);return i.type!==j.Fragment&&(u.ref=n?y_(n,l):l),j.cloneElement(i,u)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var E_=Symbol("radix.slottable");function Bb(e){const t=({children:r})=>V.jsx(V.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=E_,t}function Ub(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===E_}function jb(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...u)=>{const d=a(...u);return i(...u),d}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Vb(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wb(e){const t=e+"CollectionProvider",[r,n]=qu(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:S,children:b}=_,k=Ve.useRef(null),T=Ve.useRef(new Map).current;return V.jsx(i,{scope:S,itemMap:T,collectionRef:k,children:b})};l.displayName=t;const u=e+"CollectionSlot",d=_u(u),p=Ve.forwardRef((_,S)=>{const{scope:b,children:k}=_,T=a(u,b),O=Nn(S,T.collectionRef);return V.jsx(d,{ref:O,children:k})});p.displayName=u;const x=e+"CollectionItemSlot",v="data-radix-collection-item",E=_u(x),y=Ve.forwardRef((_,S)=>{const{scope:b,children:k,...T}=_,O=Ve.useRef(null),B=Nn(S,O),F=a(x,b);return Ve.useEffect(()=>(F.itemMap.set(O,{ref:O,...T}),()=>void F.itemMap.delete(O))),V.jsx(E,{[v]:"",ref:B,children:k})});y.displayName=x;function A(_){const S=a(e+"CollectionConsumer",_);return Ve.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${v}]`));return Array.from(S.itemMap.values()).sort((F,R)=>T.indexOf(F.ref.current)-T.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:p,ItemSlot:y},A,n]}var Hb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ir=Hb.reduce((e,t)=>{const r=_u(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:l,...u}=i,d=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(d,{...u,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function __(e,t){e&&Ku.flushSync(()=>e.dispatchEvent(t))}function vs(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function zb(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Gb="DismissableLayer",fp="dismissableLayer.update",$b="dismissableLayer.pointerDownOutside",Xb="dismissableLayer.focusOutside",_2,A_=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rh=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=e,p=j.useContext(A_),[x,v]=j.useState(null),E=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=j.useState({}),A=Nn(t,R=>v(R)),_=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(S),k=x?_.indexOf(x):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,O=k>=b,B=Yb(R=>{const z=R.target,M=[...p.branches].some(te=>te.contains(z));!O||M||(i==null||i(R),l==null||l(R),R.defaultPrevented||u==null||u())},E),F=qb(R=>{const z=R.target;[...p.branches].some(te=>te.contains(z))||(a==null||a(R),l==null||l(R),R.defaultPrevented||u==null||u())},E);return zb(R=>{k===p.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&u&&(R.preventDefault(),u()))},E),j.useEffect(()=>{if(x)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(_2=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(x)),p.layers.add(x),A2(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=_2)}},[x,E,r,p]),j.useEffect(()=>()=>{x&&(p.layers.delete(x),p.layersWithOutsidePointerEventsDisabled.delete(x),A2())},[x,p]),j.useEffect(()=>{const R=()=>y({});return document.addEventListener(fp,R),()=>document.removeEventListener(fp,R)},[]),V.jsx(Ir.div,{...d,ref:A,style:{pointerEvents:T?O?"auto":"none":void 0,...e.style},onFocusCapture:ir(e.onFocusCapture,F.onFocusCapture),onBlurCapture:ir(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ir(e.onPointerDownCapture,B.onPointerDownCapture)})});Rh.displayName=Gb;var Kb="DismissableLayerBranch",C_=j.forwardRef((e,t)=>{const r=j.useContext(A_),n=j.useRef(null),i=Nn(t,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),V.jsx(Ir.div,{...e,ref:i})});C_.displayName=Kb;function Yb(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=u=>{if(u.target&&!n.current){let d=function(){T_($b,r,p,{discrete:!0})};const p={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function qb(e,t=globalThis==null?void 0:globalThis.document){const r=vs(e),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&T_(Xb,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function A2(){const e=new CustomEvent(fp);document.dispatchEvent(e)}function T_(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?__(i,a):i.dispatchEvent(a)}var Zb=Rh,Qb=C_,zs=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Jb="Portal",Kg=j.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[i,a]=j.useState(!1);zs(()=>a(!0),[]);const l=r||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?v_.createPortal(V.jsx(Ir.div,{...n,ref:t}),l):null});Kg.displayName=Jb;function e8(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var rc=e=>{const{present:t,children:r}=e,n=t8(t),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=Nn(n.ref,r8(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};rc.displayName="Presence";function t8(e){const[t,r]=j.useState(),n=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),l=e?"mounted":"unmounted",[u,d]=e8(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const p=R0(n.current);a.current=u==="mounted"?p:"none"},[u]),zs(()=>{const p=n.current,x=i.current;if(x!==e){const E=a.current,y=R0(p);e?d("MOUNT"):y==="none"||(p==null?void 0:p.display)==="none"?d("UNMOUNT"):d(x&&E!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),zs(()=>{if(t){let p;const x=t.ownerDocument.defaultView??window,v=y=>{const _=R0(n.current).includes(y.animationName);if(y.target===t&&_&&(d("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=x.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},E=y=>{y.target===t&&(a.current=R0(n.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{x.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(p=>{n.current=p?getComputedStyle(p):null,r(p)},[])}}function R0(e){return(e==null?void 0:e.animationName)||"none"}function r8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var n8=ng[" useInsertionEffect ".trim().toString()]||zs;function S_({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,l]=i8({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:i;{const x=j.useRef(e!==void 0);j.useEffect(()=>{const v=x.current;v!==u&&console.warn(`${n} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=u},[u,n])}const p=j.useCallback(x=>{var v;if(u){const E=s8(x)?x(e):x;E!==e&&((v=l.current)==null||v.call(l,E))}else a(x)},[u,e,a,l]);return[d,p]}function i8({defaultProp:e,onChange:t}){const[r,n]=j.useState(e),i=j.useRef(r),a=j.useRef(t);return n8(()=>{a.current=t},[t]),j.useEffect(()=>{var l;i.current!==r&&((l=a.current)==null||l.call(a,r),i.current=r)},[r,i]),[r,n,a]}function s8(e){return typeof e=="function"}var a8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),o8="VisuallyHidden",Oh=j.forwardRef((e,t)=>V.jsx(Ir.span,{...e,ref:t,style:{...a8,...e.style}}));Oh.displayName=o8;var l8=Oh,Yg="ToastProvider",[qg,c8,u8]=Wb("Toast"),[b_,PV]=qu("Toast",[u8]),[f8,Nh]=b_(Yg),k_=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=e,[u,d]=j.useState(null),[p,x]=j.useState(0),v=j.useRef(!1),E=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yg}\`. Expected non-empty \`string\`.`),V.jsx(qg.Provider,{scope:t,children:V.jsx(f8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:u,onViewportChange:d,onToastAdd:j.useCallback(()=>x(y=>y+1),[]),onToastRemove:j.useCallback(()=>x(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};k_.displayName=Yg;var I_="ToastViewport",h8=["F8"],hp="toast.viewportPause",dp="toast.viewportResume",R_=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=h8,label:i="Notifications ({hotkey})",...a}=e,l=Nh(I_,r),u=c8(r),d=j.useRef(null),p=j.useRef(null),x=j.useRef(null),v=j.useRef(null),E=Nn(t,v,l.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=l.toastCount>0;j.useEffect(()=>{const S=b=>{var T;n.length!==0&&n.every(O=>b[O]||b.code===O)&&((T=v.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]),j.useEffect(()=>{const S=d.current,b=v.current;if(A&&S&&b){const k=()=>{if(!l.isClosePausedRef.current){const F=new CustomEvent(hp);b.dispatchEvent(F),l.isClosePausedRef.current=!0}},T=()=>{if(l.isClosePausedRef.current){const F=new CustomEvent(dp);b.dispatchEvent(F),l.isClosePausedRef.current=!1}},O=F=>{!S.contains(F.relatedTarget)&&T()},B=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",k),S.addEventListener("focusout",O),S.addEventListener("pointermove",k),S.addEventListener("pointerleave",B),window.addEventListener("blur",k),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",k),S.removeEventListener("focusout",O),S.removeEventListener("pointermove",k),S.removeEventListener("pointerleave",B),window.removeEventListener("blur",k),window.removeEventListener("focus",T)}}},[A,l.isClosePausedRef]);const _=j.useCallback(({tabbingDirection:S})=>{const k=u().map(T=>{const O=T.ref.current,B=[O,...T8(O)];return S==="forwards"?B:B.reverse()});return(S==="forwards"?k.reverse():k).flat()},[u]);return j.useEffect(()=>{const S=v.current;if(S){const b=k=>{var B,F,R;const T=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!T){const z=document.activeElement,M=k.shiftKey;if(k.target===S&&M){(B=p.current)==null||B.focus();return}const q=_({tabbingDirection:M?"backwards":"forwards"}),de=q.findIndex(pe=>pe===z);jd(q.slice(de+1))?k.preventDefault():M?(F=p.current)==null||F.focus():(R=x.current)==null||R.focus()}};return S.addEventListener("keydown",b),()=>S.removeEventListener("keydown",b)}},[u,_]),V.jsxs(Qb,{ref:d,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&V.jsx(pp,{ref:p,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"forwards"});jd(S)}}),V.jsx(qg.Slot,{scope:r,children:V.jsx(Ir.ol,{tabIndex:-1,...a,ref:E})}),A&&V.jsx(pp,{ref:x,onFocusFromOutsideViewport:()=>{const S=_({tabbingDirection:"backwards"});jd(S)}})]})});R_.displayName=I_;var O_="ToastFocusProxy",pp=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Nh(O_,r);return V.jsx(Oh,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var p;const u=l.relatedTarget;!((p=a.viewport)!=null&&p.contains(u))&&n()}})});pp.displayName=O_;var Zu="Toast",d8="toast.swipeStart",p8="toast.swipeMove",g8="toast.swipeCancel",x8="toast.swipeEnd",N_=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...l}=e,[u,d]=S_({prop:n,defaultProp:i??!0,onChange:a,caller:Zu});return V.jsx(rc,{present:r||u,children:V.jsx(w8,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:vs(e.onPause),onResume:vs(e.onResume),onSwipeStart:ir(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ir(e.onSwipeMove,p=>{const{x,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ir(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ir(e.onSwipeEnd,p=>{const{x,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),d(!1)})})})});N_.displayName=Zu;var[m8,v8]=b_(Zu,{onClose(){}}),w8=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:p,onSwipeStart:x,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:y,...A}=e,_=Nh(Zu,r),[S,b]=j.useState(null),k=Nn(t,pe=>b(pe)),T=j.useRef(null),O=j.useRef(null),B=i||_.duration,F=j.useRef(0),R=j.useRef(B),z=j.useRef(0),{onToastAdd:M,onToastRemove:te}=_,ae=vs(()=>{var ee;(S==null?void 0:S.contains(document.activeElement))&&((ee=_.viewport)==null||ee.focus()),l()}),q=j.useCallback(pe=>{!pe||pe===1/0||(window.clearTimeout(z.current),F.current=new Date().getTime(),z.current=window.setTimeout(ae,pe))},[ae]);j.useEffect(()=>{const pe=_.viewport;if(pe){const ee=()=>{q(R.current),p==null||p()},_e=()=>{const xe=new Date().getTime()-F.current;R.current=R.current-xe,window.clearTimeout(z.current),d==null||d()};return pe.addEventListener(hp,_e),pe.addEventListener(dp,ee),()=>{pe.removeEventListener(hp,_e),pe.removeEventListener(dp,ee)}}},[_.viewport,B,d,p,q]),j.useEffect(()=>{a&&!_.isClosePausedRef.current&&q(B)},[a,B,_.isClosePausedRef,q]),j.useEffect(()=>(M(),()=>te()),[M,te]);const de=j.useMemo(()=>S?U_(S):null,[S]);return _.viewport?V.jsxs(V.Fragment,{children:[de&&V.jsx(y8,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:de}),V.jsx(m8,{scope:r,onClose:ae,children:Ku.createPortal(V.jsx(qg.ItemSlot,{scope:r,children:V.jsx(Zb,{asChild:!0,onEscapeKeyDown:ir(u,()=>{_.isFocusedToastEscapeKeyDownRef.current||ae(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:V.jsx(Ir.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...A,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ir(e.onKeyDown,pe=>{pe.key==="Escape"&&(u==null||u(pe.nativeEvent),pe.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,ae()))}),onPointerDown:ir(e.onPointerDown,pe=>{pe.button===0&&(T.current={x:pe.clientX,y:pe.clientY})}),onPointerMove:ir(e.onPointerMove,pe=>{if(!T.current)return;const ee=pe.clientX-T.current.x,_e=pe.clientY-T.current.y,xe=!!O.current,ve=["left","right"].includes(_.swipeDirection),Q=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Ce=ve?Q(0,ee):0,Be=ve?0:Q(0,_e),H=pe.pointerType==="touch"?10:2,oe={x:Ce,y:Be},re={originalEvent:pe,delta:oe};xe?(O.current=oe,O0(p8,v,re,{discrete:!1})):C2(oe,_.swipeDirection,H)?(O.current=oe,O0(d8,x,re,{discrete:!1}),pe.target.setPointerCapture(pe.pointerId)):(Math.abs(ee)>H||Math.abs(_e)>H)&&(T.current=null)}),onPointerUp:ir(e.onPointerUp,pe=>{const ee=O.current,_e=pe.target;if(_e.hasPointerCapture(pe.pointerId)&&_e.releasePointerCapture(pe.pointerId),O.current=null,T.current=null,ee){const xe=pe.currentTarget,ve={originalEvent:pe,delta:ee};C2(ee,_.swipeDirection,_.swipeThreshold)?O0(x8,y,ve,{discrete:!0}):O0(g8,E,ve,{discrete:!0}),xe.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),y8=e=>{const{__scopeToast:t,children:r,...n}=e,i=Nh(Zu,t),[a,l]=j.useState(!1),[u,d]=j.useState(!1);return A8(()=>l(!0)),j.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),u?null:V.jsx(Kg,{asChild:!0,children:V.jsx(Oh,{...n,children:a&&V.jsxs(V.Fragment,{children:[i.label," ",r]})})})},E8="ToastTitle",D_=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return V.jsx(Ir.div,{...n,ref:t})});D_.displayName=E8;var _8="ToastDescription",P_=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return V.jsx(Ir.div,{...n,ref:t})});P_.displayName=_8;var F_="ToastAction",M_=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?V.jsx(B_,{altText:r,asChild:!0,children:V.jsx(Zg,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${F_}\`. Expected non-empty \`string\`.`),null)});M_.displayName=F_;var L_="ToastClose",Zg=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=v8(L_,r);return V.jsx(B_,{asChild:!0,children:V.jsx(Ir.button,{type:"button",...n,ref:t,onClick:ir(e.onClick,i.onClose)})})});Zg.displayName=L_;var B_=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return V.jsx(Ir.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function U_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),C8(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...U_(n))}}),t}function O0(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?__(i,a):i.dispatchEvent(a)}var C2=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function A8(e=()=>{}){const t=vs(e);zs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function C8(e){return e.nodeType===e.ELEMENT_NODE}function T8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function jd(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var S8=k_,j_=R_,V_=N_,W_=D_,H_=P_,z_=M_,G_=Zg;function $_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function X_(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$_(e))&&(n&&(n+=" "),n+=t);return n}const T2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,S2=X_,K_=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return S2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,l=Object.keys(i).map(p=>{const x=r==null?void 0:r[p],v=a==null?void 0:a[p];if(x===null)return null;const E=T2(x)||T2(v);return i[p][E]}),u=r&&Object.entries(r).reduce((p,x)=>{let[v,E]=x;return E===void 0||(p[v]=E),p},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((p,x)=>{let{class:v,className:E,...y}=x;return Object.entries(y).every(A=>{let[_,S]=A;return Array.isArray(S)?S.includes({...a,...u}[_]):{...a,...u}[_]===S})?[...p,v,E]:p},[]);return S2(e,l,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...u},d)=>j.createElement("svg",{ref:d,...k8,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Y_("lucide",i),...u},[...l.map(([p,x])=>j.createElement(p,x)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=(e,t)=>{const r=j.forwardRef(({className:n,...i},a)=>j.createElement(I8,{ref:a,iconNode:t,className:Y_(`lucide-${b8(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=hr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=hr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=hr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=hr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=hr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=hr("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=hr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=hr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=hr("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=hr("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=hr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=hr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=hr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=hr("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=hr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=hr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=hr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=hr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=hr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=hr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=hr("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=hr("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=hr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jg="-",$8=e=>{const t=K8(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(Jg);return u[0]===""&&u.length!==1&&u.shift(),J_(u,t)||X8(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},J_=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?J_(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Jg);return(l=t.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},I2=/^\[(.+)\]$/,X8=e=>{if(I2.test(e)){const t=I2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},K8=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return q8(Object.entries(e.classGroups),r).forEach(([a,l])=>{gp(l,n,a,t)}),n},gp=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:R2(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Y8(i)){gp(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,l])=>{gp(l,R2(t,a),r,n)})})},R2=(e,t)=>{let r=e;return t.split(Jg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Y8=e=>e.isThemeGetter,q8=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[t+l,u])):a);return[r,i]}):e,Z8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return i(a,l),l},set(a,l){r.has(a)?r.set(a,l):i(a,l)}}},e3="!",Q8=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,l=u=>{const d=[];let p=0,x=0,v;for(let S=0;S<u.length;S++){let b=u[S];if(p===0){if(b===i&&(n||u.slice(S,S+a)===t)){d.push(u.slice(x,S)),x=S+a;continue}if(b==="/"){v=S;continue}}b==="["?p++:b==="]"&&p--}const E=d.length===0?u:u.substring(x),y=E.startsWith(e3),A=y?E.substring(1):E,_=v&&v>x?v-x:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:A,maybePostfixModifierPosition:_}};return r?u=>r({className:u,parseClassName:l}):l},J8=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ek=e=>({cache:Z8(e.cacheSize),parseClassName:Q8(e),...$8(e)}),tk=/\s+/,rk=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],l=e.trim().split(tk);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:x,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:y}=r(p);let A=!!y,_=n(A?E.substring(0,y):E);if(!_){if(!A){u=p+(u.length>0?" "+u:u);continue}if(_=n(E),!_){u=p+(u.length>0?" "+u:u);continue}A=!1}const S=J8(x).join(":"),b=v?S+e3:S,k=b+_;if(a.includes(k))continue;a.push(k);const T=i(_,A);for(let O=0;O<T.length;++O){const B=T[O];a.push(b+B)}u=p+(u.length>0?" "+u:u)}return u};function nk(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=t3(t))&&(n&&(n+=" "),n+=r);return n}const t3=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=t3(e[n]))&&(r&&(r+=" "),r+=t);return r};function ik(e,...t){let r,n,i,a=l;function l(d){const p=t.reduce((x,v)=>v(x),e());return r=ek(p),n=r.cache.get,i=r.cache.set,a=u,u(d)}function u(d){const p=n(d);if(p)return p;const x=rk(d,r);return i(d,x),x}return function(){return a(nk.apply(null,arguments))}}const Qt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},r3=/^\[(?:([a-z-]+):)?(.+)\]$/i,sk=/^\d+\/\d+$/,ak=new Set(["px","full","screen"]),ok=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ck=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,bs=e=>Sl(e)||ak.has(e)||sk.test(e),ia=e=>nc(e,"length",wk),Sl=e=>!!e&&!Number.isNaN(Number(e)),Vd=e=>nc(e,"number",Sl),bc=e=>!!e&&Number.isInteger(Number(e)),hk=e=>e.endsWith("%")&&Sl(e.slice(0,-1)),xt=e=>r3.test(e),sa=e=>ok.test(e),dk=new Set(["length","size","percentage"]),pk=e=>nc(e,dk,n3),gk=e=>nc(e,"position",n3),xk=new Set(["image","url"]),mk=e=>nc(e,xk,Ek),vk=e=>nc(e,"",yk),kc=()=>!0,nc=(e,t,r)=>{const n=r3.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},wk=e=>lk.test(e)&&!ck.test(e),n3=()=>!1,yk=e=>uk.test(e),Ek=e=>fk.test(e),_k=()=>{const e=Qt("colors"),t=Qt("spacing"),r=Qt("blur"),n=Qt("brightness"),i=Qt("borderColor"),a=Qt("borderRadius"),l=Qt("borderSpacing"),u=Qt("borderWidth"),d=Qt("contrast"),p=Qt("grayscale"),x=Qt("hueRotate"),v=Qt("invert"),E=Qt("gap"),y=Qt("gradientColorStops"),A=Qt("gradientColorStopPositions"),_=Qt("inset"),S=Qt("margin"),b=Qt("opacity"),k=Qt("padding"),T=Qt("saturate"),O=Qt("scale"),B=Qt("sepia"),F=Qt("skew"),R=Qt("space"),z=Qt("translate"),M=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],ae=()=>["auto",xt,t],q=()=>[xt,t],de=()=>["",bs,ia],pe=()=>["auto",Sl,xt],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",xt],Ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Be=()=>[Sl,xt];return{cacheSize:500,separator:":",theme:{colors:[kc],spacing:[bs,ia],blur:["none","",sa,xt],brightness:Be(),borderColor:[e],borderRadius:["none","","full",sa,xt],borderSpacing:q(),borderWidth:de(),contrast:Be(),grayscale:Q(),hueRotate:Be(),invert:Q(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[hk,ia],inset:ae(),margin:ae(),opacity:Be(),padding:q(),saturate:Be(),scale:Be(),sepia:Q(),skew:Be(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[sa]}],"break-after":[{"break-after":Ce()}],"break-before":[{"break-before":Ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),xt]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bc,xt]}],basis:[{basis:ae()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",bc,xt]}],"grid-cols":[{"grid-cols":[kc]}],"col-start-end":[{col:["auto",{span:["full",bc,xt]},xt]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[kc]}],"row-start-end":[{row:["auto",{span:[bc,xt]},xt]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,t]}],"min-w":[{"min-w":[xt,t,"min","max","fit"]}],"max-w":[{"max-w":[xt,t,"none","full","min","max","fit","prose",{screen:[sa]},sa]}],h:[{h:[xt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sa,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vd]}],"font-family":[{font:[kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Sl,Vd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",bs,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",bs,ia]}],"underline-offset":[{"underline-offset":["auto",bs,xt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),gk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mk]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:_e()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[bs,xt]}],"outline-w":[{outline:[bs,ia]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[bs,ia]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sa,vk]}],"shadow-color":[{shadow:[kc]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",sa,xt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[v]}],saturate:[{saturate:[T]}],sepia:[{sepia:[B]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[B]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:Be()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:Be()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[bc,xt]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[bs,ia,Vd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ak=ik(_k);function Kn(...e){return Ak(X_(e))}const Ck=S8,i3=j.forwardRef(({className:e,...t},r)=>V.jsx(j_,{ref:r,className:Kn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));i3.displayName=j_.displayName;const Tk=K_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s3=j.forwardRef(({className:e,variant:t,...r},n)=>V.jsx(V_,{ref:n,className:Kn(Tk({variant:t}),e),...r}));s3.displayName=V_.displayName;const Sk=j.forwardRef(({className:e,...t},r)=>V.jsx(z_,{ref:r,className:Kn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Sk.displayName=z_.displayName;const a3=j.forwardRef(({className:e,...t},r)=>V.jsx(G_,{ref:r,className:Kn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:V.jsx(Dh,{className:"h-4 w-4"})}));a3.displayName=G_.displayName;const o3=j.forwardRef(({className:e,...t},r)=>V.jsx(W_,{ref:r,className:Kn("text-sm font-semibold",e),...t}));o3.displayName=W_.displayName;const l3=j.forwardRef(({className:e,...t},r)=>V.jsx(H_,{ref:r,className:Kn("text-sm opacity-90",e),...t}));l3.displayName=H_.displayName;function bk(){const{toasts:e}=Yu();return V.jsxs(Ck,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return V.jsxs(s3,{...a,children:[V.jsxs("div",{className:"grid gap-1",children:[r&&V.jsx(o3,{children:r}),n&&V.jsx(l3,{children:n})]}),i,V.jsx(a3,{})]},t)}),V.jsx(i3,{})]})}var O2=["light","dark"],kk="(prefers-color-scheme: dark)",Ik=j.createContext(void 0),Rk={setTheme:e=>{},themes:[]},Ok=()=>{var e;return(e=j.useContext(Ik))!=null?e:Rk};j.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:l,attrs:u,nonce:d})=>{let p=a==="system",x=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(A=>`'${A}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,v=i?O2.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(A,_=!1,S=!0)=>{let b=l?l[A]:A,k=_?A+"|| ''":`'${b}'`,T="";return i&&S&&!_&&O2.includes(A)&&(T+=`d.style.colorScheme = '${A}';`),r==="class"?_||b?T+=`c.add(${k})`:T+="null":b&&(T+=`d[s](n,${k})`),T},y=e?`!function(){${x}${E(e)}}()`:n?`!function(){try{${x}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${kk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}${p?"":"else{"+E(a,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}else{${E(a,!1,!1)};}${v}}catch(t){}}();`;return j.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:y}})});var Nk=e=>{switch(e){case"success":return Fk;case"info":return Lk;case"warning":return Mk;case"error":return Bk;default:return null}},Dk=Array(12).fill(0),Pk=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},Dk.map((r,n)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Fk=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Mk=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Lk=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Bk=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uk=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jk=()=>{let[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},xp=1,Vk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xp++,a=this.toasts.find(u=>u.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...e,id:i,title:r}),{...u,...e,id:i,dismissible:l,title:r}):u):this.addToast({title:r,...n,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,a,l=n.then(async d=>{if(a=["resolve",d],Ve.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(Hk(d)&&!d.ok){i=!1;let p=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:p,description:x})}else if(t.success!==void 0){i=!1;let p=typeof t.success=="function"?await t.success(d):t.success,x=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:p,description:x})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){i=!1;let p=typeof t.error=="function"?await t.error(d):t.error,x=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:p,description:x})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,p)=>l.then(()=>a[0]==="reject"?p(a[1]):d(a[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||xp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},jn=new Vk,Wk=(e,t)=>{let r=(t==null?void 0:t.id)||xp++;return jn.addToast({title:e,...t,id:r}),r},Hk=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zk=Wk,Gk=()=>jn.toasts,$k=()=>jn.getActiveToasts();Object.assign(zk,{success:jn.success,info:jn.info,warning:jn.warning,error:jn.error,custom:jn.custom,message:jn.message,promise:jn.promise,dismiss:jn.dismiss,loading:jn.loading},{getHistory:Gk,getToasts:$k});function Xk(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Xk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function N0(e){return e.label!==void 0}var Kk=3,Yk="32px",qk="16px",N2=4e3,Zk=356,Qk=14,Jk=20,e6=200;function Di(...e){return e.filter(Boolean).join(" ")}function t6(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var r6=e=>{var t,r,n,i,a,l,u,d,p,x,v;let{invert:E,toast:y,unstyled:A,interacting:_,setHeights:S,visibleToasts:b,heights:k,index:T,toasts:O,expanded:B,removeToast:F,defaultRichColors:R,closeButton:z,style:M,cancelButtonStyle:te,actionButtonStyle:ae,className:q="",descriptionClassName:de="",duration:pe,position:ee,gap:_e,loadingIcon:xe,expandByDefault:ve,classNames:Q,icons:Ce,closeButtonAriaLabel:Be="Close toast",pauseWhenPageIsHidden:H}=e,[oe,re]=Ve.useState(null),[ie,le]=Ve.useState(null),[Se,De]=Ve.useState(!1),[Pe,be]=Ve.useState(!1),[Ke,J]=Ve.useState(!1),[$e,lt]=Ve.useState(!1),[dt,it]=Ve.useState(!1),[Re,Ze]=Ve.useState(0),[Qe,Ur]=Ve.useState(0),He=Ve.useRef(y.duration||pe||N2),Yn=Ve.useRef(null),Rr=Ve.useRef(null),Kt=T===0,_n=T+1<=b,Ot=y.type,An=y.dismissible!==!1,Wt=y.className||"",Lt=y.descriptionClassName||"",ot=Ve.useMemo(()=>k.findIndex(Ye=>Ye.toastId===y.id)||0,[k,y.id]),Bt=Ve.useMemo(()=>{var Ye;return(Ye=y.closeButton)!=null?Ye:z},[y.closeButton,z]),Xr=Ve.useMemo(()=>y.duration||pe||N2,[y.duration,pe]),ct=Ve.useRef(0),Oe=Ve.useRef(0),Yt=Ve.useRef(0),At=Ve.useRef(null),[Ht,ts]=ee.split("-"),Ts=Ve.useMemo(()=>k.reduce((Ye,kt,ft)=>ft>=ot?Ye:Ye+kt.height,0),[k,ot]),Zs=jk(),St=y.invert||E,qn=Ot==="loading";Oe.current=Ve.useMemo(()=>ot*_e+Ts,[ot,Ts]),Ve.useEffect(()=>{He.current=Xr},[Xr]),Ve.useEffect(()=>{De(!0)},[]),Ve.useEffect(()=>{let Ye=Rr.current;if(Ye){let kt=Ye.getBoundingClientRect().height;return Ur(kt),S(ft=>[{toastId:y.id,height:kt,position:y.position},...ft]),()=>S(ft=>ft.filter(Ar=>Ar.toastId!==y.id))}},[S,y.id]),Ve.useLayoutEffect(()=>{if(!Se)return;let Ye=Rr.current,kt=Ye.style.height;Ye.style.height="auto";let ft=Ye.getBoundingClientRect().height;Ye.style.height=kt,Ur(ft),S(Ar=>Ar.find(jr=>jr.toastId===y.id)?Ar.map(jr=>jr.toastId===y.id?{...jr,height:ft}:jr):[{toastId:y.id,height:ft,position:y.position},...Ar])},[Se,y.title,y.description,S,y.id]);let an=Ve.useCallback(()=>{be(!0),Ze(Oe.current),S(Ye=>Ye.filter(kt=>kt.toastId!==y.id)),setTimeout(()=>{F(y)},e6)},[y,F,S,Oe]);Ve.useEffect(()=>{if(y.promise&&Ot==="loading"||y.duration===1/0||y.type==="loading")return;let Ye;return B||_||H&&Zs?(()=>{if(Yt.current<ct.current){let kt=new Date().getTime()-ct.current;He.current=He.current-kt}Yt.current=new Date().getTime()})():He.current!==1/0&&(ct.current=new Date().getTime(),Ye=setTimeout(()=>{var kt;(kt=y.onAutoClose)==null||kt.call(y,y),an()},He.current)),()=>clearTimeout(Ye)},[B,_,y,Ot,H,Zs,an]),Ve.useEffect(()=>{y.delete&&an()},[an,y.delete]);function Bo(){var Ye,kt,ft;return Ce!=null&&Ce.loading?Ve.createElement("div",{className:Di(Q==null?void 0:Q.loader,(Ye=y==null?void 0:y.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":Ot==="loading"},Ce.loading):xe?Ve.createElement("div",{className:Di(Q==null?void 0:Q.loader,(kt=y==null?void 0:y.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Ot==="loading"},xe):Ve.createElement(Pk,{className:Di(Q==null?void 0:Q.loader,(ft=y==null?void 0:y.classNames)==null?void 0:ft.loader),visible:Ot==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:Rr,className:Di(q,Wt,Q==null?void 0:Q.toast,(t=y==null?void 0:y.classNames)==null?void 0:t.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[Ot],(r=y==null?void 0:y.classNames)==null?void 0:r[Ot]),"data-sonner-toast":"","data-rich-colors":(n=y.richColors)!=null?n:R,"data-styled":!(y.jsx||y.unstyled||A),"data-mounted":Se,"data-promise":!!y.promise,"data-swiped":dt,"data-removed":Pe,"data-visible":_n,"data-y-position":Ht,"data-x-position":ts,"data-index":T,"data-front":Kt,"data-swiping":Ke,"data-dismissible":An,"data-type":Ot,"data-invert":St,"data-swipe-out":$e,"data-swipe-direction":ie,"data-expanded":!!(B||ve&&Se),style:{"--index":T,"--toasts-before":T,"--z-index":O.length-T,"--offset":`${Pe?Re:Oe.current}px`,"--initial-height":ve?"auto":`${Qe}px`,...M,...y.style},onDragEnd:()=>{J(!1),re(null),At.current=null},onPointerDown:Ye=>{qn||!An||(Yn.current=new Date,Ze(Oe.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(J(!0),At.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,kt,ft,Ar;if($e||!An)return;At.current=null;let jr=Number(((Ye=Rr.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wr=Number(((kt=Rr.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ri=new Date().getTime()-((ft=Yn.current)==null?void 0:ft.getTime()),sr=oe==="x"?jr:wr,Mn=Math.abs(sr)/Ri;if(Math.abs(sr)>=Jk||Mn>.11){Ze(Oe.current),(Ar=y.onDismiss)==null||Ar.call(y,y),le(oe==="x"?jr>0?"right":"left":wr>0?"down":"up"),an(),lt(!0),it(!1);return}J(!1),re(null)},onPointerMove:Ye=>{var kt,ft,Ar,jr;if(!At.current||!An||((kt=window.getSelection())==null?void 0:kt.toString().length)>0)return;let wr=Ye.clientY-At.current.y,Ri=Ye.clientX-At.current.x,sr=(ft=e.swipeDirections)!=null?ft:t6(ee);!oe&&(Math.abs(Ri)>1||Math.abs(wr)>1)&&re(Math.abs(Ri)>Math.abs(wr)?"x":"y");let Mn={x:0,y:0};oe==="y"?(sr.includes("top")||sr.includes("bottom"))&&(sr.includes("top")&&wr<0||sr.includes("bottom")&&wr>0)&&(Mn.y=wr):oe==="x"&&(sr.includes("left")||sr.includes("right"))&&(sr.includes("left")&&Ri<0||sr.includes("right")&&Ri>0)&&(Mn.x=Ri),(Math.abs(Mn.x)>0||Math.abs(Mn.y)>0)&&it(!0),(Ar=Rr.current)==null||Ar.style.setProperty("--swipe-amount-x",`${Mn.x}px`),(jr=Rr.current)==null||jr.style.setProperty("--swipe-amount-y",`${Mn.y}px`)}},Bt&&!y.jsx?Ve.createElement("button",{"aria-label":Be,"data-disabled":qn,"data-close-button":!0,onClick:qn||!An?()=>{}:()=>{var Ye;an(),(Ye=y.onDismiss)==null||Ye.call(y,y)},className:Di(Q==null?void 0:Q.closeButton,(i=y==null?void 0:y.classNames)==null?void 0:i.closeButton)},(a=Ce==null?void 0:Ce.close)!=null?a:Uk):null,y.jsx||j.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Ve.createElement(Ve.Fragment,null,Ot||y.icon||y.promise?Ve.createElement("div",{"data-icon":"",className:Di(Q==null?void 0:Q.icon,(l=y==null?void 0:y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Bo():null,y.type!=="loading"?y.icon||(Ce==null?void 0:Ce[Ot])||Nk(Ot):null):null,Ve.createElement("div",{"data-content":"",className:Di(Q==null?void 0:Q.content,(u=y==null?void 0:y.classNames)==null?void 0:u.content)},Ve.createElement("div",{"data-title":"",className:Di(Q==null?void 0:Q.title,(d=y==null?void 0:y.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?Ve.createElement("div",{"data-description":"",className:Di(de,Lt,Q==null?void 0:Q.description,(p=y==null?void 0:y.classNames)==null?void 0:p.description)},typeof y.description=="function"?y.description():y.description):null),j.isValidElement(y.cancel)?y.cancel:y.cancel&&N0(y.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||te,onClick:Ye=>{var kt,ft;N0(y.cancel)&&An&&((ft=(kt=y.cancel).onClick)==null||ft.call(kt,Ye),an())},className:Di(Q==null?void 0:Q.cancelButton,(x=y==null?void 0:y.classNames)==null?void 0:x.cancelButton)},y.cancel.label):null,j.isValidElement(y.action)?y.action:y.action&&N0(y.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||ae,onClick:Ye=>{var kt,ft;N0(y.action)&&((ft=(kt=y.action).onClick)==null||ft.call(kt,Ye),!Ye.defaultPrevented&&an())},className:Di(Q==null?void 0:Q.actionButton,(v=y==null?void 0:y.classNames)==null?void 0:v.actionButton)},y.action.label):null))};function D2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function n6(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,l=a?"--mobile-offset":"--offset",u=a?qk:Yk;function d(p){["top","right","bottom","left"].forEach(x=>{r[`${l}-${x}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?r[`${l}-${p}`]=u:r[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):d(u)}),r}var i6=j.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:d,mobileOffset:p,theme:x="light",richColors:v,duration:E,style:y,visibleToasts:A=Kk,toastOptions:_,dir:S=D2(),gap:b=Qk,loadingIcon:k,icons:T,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:B}=e,[F,R]=Ve.useState([]),z=Ve.useMemo(()=>Array.from(new Set([n].concat(F.filter(H=>H.position).map(H=>H.position)))),[F,n]),[M,te]=Ve.useState([]),[ae,q]=Ve.useState(!1),[de,pe]=Ve.useState(!1),[ee,_e]=Ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),xe=Ve.useRef(null),ve=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=Ve.useRef(null),Ce=Ve.useRef(!1),Be=Ve.useCallback(H=>{R(oe=>{var re;return(re=oe.find(ie=>ie.id===H.id))!=null&&re.delete||jn.dismiss(H.id),oe.filter(({id:ie})=>ie!==H.id)})},[]);return Ve.useEffect(()=>jn.subscribe(H=>{if(H.dismiss){R(oe=>oe.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{v_.flushSync(()=>{R(oe=>{let re=oe.findIndex(ie=>ie.id===H.id);return re!==-1?[...oe.slice(0,re),{...oe[re],...H},...oe.slice(re+1)]:[H,...oe]})})})}),[]),Ve.useEffect(()=>{if(x!=="system"){_e(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:oe})=>{_e(oe?"dark":"light")})}catch{H.addListener(({matches:re})=>{try{_e(re?"dark":"light")}catch(ie){console.error(ie)}})}},[x]),Ve.useEffect(()=>{F.length<=1&&q(!1)},[F]),Ve.useEffect(()=>{let H=oe=>{var re,ie;i.every(le=>oe[le]||oe.code===le)&&(q(!0),(re=xe.current)==null||re.focus()),oe.code==="Escape"&&(document.activeElement===xe.current||(ie=xe.current)!=null&&ie.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),Ve.useEffect(()=>{if(xe.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,Ce.current=!1)}},[xe.current]),Ve.createElement("section",{ref:t,"aria-label":`${O} ${ve}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((H,oe)=>{var re;let[ie,le]=H.split("-");return F.length?Ve.createElement("ol",{key:H,dir:S==="auto"?D2():S,tabIndex:-1,ref:xe,className:u,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":ie,"data-lifted":ae&&F.length>1&&!a,"data-x-position":le,style:{"--front-toast-height":`${((re=M[0])==null?void 0:re.height)||0}px`,"--width":`${Zk}px`,"--gap":`${b}px`,...y,...n6(d,p)},onBlur:Se=>{Ce.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(Ce.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||Ce.current||(Ce.current=!0,Q.current=Se.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{de||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||pe(!0)},onPointerUp:()=>pe(!1)},F.filter(Se=>!Se.position&&oe===0||Se.position===H).map((Se,De)=>{var Pe,be;return Ve.createElement(r6,{key:Se.id,icons:T,index:De,toast:Se,defaultRichColors:v,duration:(Pe=_==null?void 0:_.duration)!=null?Pe:E,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:r,visibleToasts:A,closeButton:(be=_==null?void 0:_.closeButton)!=null?be:l,interacting:de,position:H,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:Be,toasts:F.filter(Ke=>Ke.position==Se.position),heights:M.filter(Ke=>Ke.position==Se.position),setHeights:te,expandByDefault:a,gap:b,loadingIcon:k,expanded:ae,pauseWhenPageIsHidden:B,swipeDirections:e.swipeDirections})})):null}))});const s6=({...e})=>{const{theme:t="system"}=Ok();return V.jsx(i6,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var a6=ng[" useId ".trim().toString()]||(()=>{}),o6=0;function Wd(e){const[t,r]=j.useState(a6());return zs(()=>{e||r(n=>n??String(o6++))},[e]),e||(t?`radix-${t}`:"")}const l6=["top","right","bottom","left"],Ba=Math.min,ri=Math.max,Wf=Math.round,D0=Math.floor,ms=e=>({x:e,y:e}),c6={left:"right",right:"left",bottom:"top",top:"bottom"},u6={start:"end",end:"start"};function mp(e,t,r){return ri(e,Ba(t,r))}function Gs(e,t){return typeof e=="function"?e(t):e}function $s(e){return e.split("-")[0]}function ic(e){return e.split("-")[1]}function ex(e){return e==="x"?"y":"x"}function tx(e){return e==="y"?"height":"width"}const f6=new Set(["top","bottom"]);function ps(e){return f6.has($s(e))?"y":"x"}function rx(e){return ex(ps(e))}function h6(e,t,r){r===void 0&&(r=!1);const n=ic(e),i=rx(e),a=tx(i);let l=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Hf(l)),[l,Hf(l)]}function d6(e){const t=Hf(e);return[vp(e),t,vp(t)]}function vp(e){return e.replace(/start|end/g,t=>u6[t])}const P2=["left","right"],F2=["right","left"],p6=["top","bottom"],g6=["bottom","top"];function x6(e,t,r){switch(e){case"top":case"bottom":return r?t?F2:P2:t?P2:F2;case"left":case"right":return t?p6:g6;default:return[]}}function m6(e,t,r,n){const i=ic(e);let a=x6($s(e),r==="start",n);return i&&(a=a.map(l=>l+"-"+i),t&&(a=a.concat(a.map(vp)))),a}function Hf(e){return e.replace(/left|right|bottom|top/g,t=>c6[t])}function v6(e){return{top:0,right:0,bottom:0,left:0,...e}}function c3(e){return typeof e!="number"?v6(e):{top:e,right:e,bottom:e,left:e}}function zf(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function M2(e,t,r){let{reference:n,floating:i}=e;const a=ps(t),l=rx(t),u=tx(l),d=$s(t),p=a==="y",x=n.x+n.width/2-i.width/2,v=n.y+n.height/2-i.height/2,E=n[u]/2-i[u]/2;let y;switch(d){case"top":y={x,y:n.y-i.height};break;case"bottom":y={x,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:v};break;case"left":y={x:n.x-i.width,y:v};break;default:y={x:n.x,y:n.y}}switch(ic(t)){case"start":y[l]-=E*(r&&p?-1:1);break;case"end":y[l]+=E*(r&&p?-1:1);break}return y}const w6=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=r,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let p=await l.getElementRects({reference:e,floating:t,strategy:i}),{x,y:v}=M2(p,n,d),E=n,y={},A=0;for(let _=0;_<u.length;_++){const{name:S,fn:b}=u[_],{x:k,y:T,data:O,reset:B}=await b({x,y:v,initialPlacement:n,placement:E,strategy:i,middlewareData:y,rects:p,platform:l,elements:{reference:e,floating:t}});x=k??x,v=T??v,y={...y,[S]:{...y[S],...O}},B&&A<=50&&(A++,typeof B=="object"&&(B.placement&&(E=B.placement),B.rects&&(p=B.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):B.rects),{x,y:v}=M2(p,E,d)),_=-1)}return{x,y:v,placement:E,strategy:i,middlewareData:y}};async function Au(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:l,elements:u,strategy:d}=e,{boundary:p="clippingAncestors",rootBoundary:x="viewport",elementContext:v="floating",altBoundary:E=!1,padding:y=0}=Gs(t,e),A=c3(y),S=u[E?v==="floating"?"reference":"floating":v],b=zf(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(S)))==null||r?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:p,rootBoundary:x,strategy:d})),k=v==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),O=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},B=zf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:T,strategy:d}):k);return{top:(b.top-B.top+A.top)/O.y,bottom:(B.bottom-b.bottom+A.bottom)/O.y,left:(b.left-B.left+A.left)/O.x,right:(B.right-b.right+A.right)/O.x}}const y6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:l,elements:u,middlewareData:d}=t,{element:p,padding:x=0}=Gs(e,t)||{};if(p==null)return{};const v=c3(x),E={x:r,y:n},y=rx(i),A=tx(y),_=await l.getDimensions(p),S=y==="y",b=S?"top":"left",k=S?"bottom":"right",T=S?"clientHeight":"clientWidth",O=a.reference[A]+a.reference[y]-E[y]-a.floating[A],B=E[y]-a.reference[y],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let R=F?F[T]:0;(!R||!await(l.isElement==null?void 0:l.isElement(F)))&&(R=u.floating[T]||a.floating[A]);const z=O/2-B/2,M=R/2-_[A]/2-1,te=Ba(v[b],M),ae=Ba(v[k],M),q=te,de=R-_[A]-ae,pe=R/2-_[A]/2+z,ee=mp(q,pe,de),_e=!d.arrow&&ic(i)!=null&&pe!==ee&&a.reference[A]/2-(pe<q?te:ae)-_[A]/2<0,xe=_e?pe<q?pe-q:pe-de:0;return{[y]:E[y]+xe,data:{[y]:ee,centerOffset:pe-ee-xe,..._e&&{alignmentOffset:xe}},reset:_e}}}),E6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:p}=t,{mainAxis:x=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:_=!0,...S}=Gs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=$s(i),k=ps(u),T=$s(u)===u,O=await(d.isRTL==null?void 0:d.isRTL(p.floating)),B=E||(T||!_?[Hf(u)]:d6(u)),F=A!=="none";!E&&F&&B.push(...m6(u,_,A,O));const R=[u,...B],z=await Au(t,S),M=[];let te=((n=a.flip)==null?void 0:n.overflows)||[];if(x&&M.push(z[b]),v){const pe=h6(i,l,O);M.push(z[pe[0]],z[pe[1]])}if(te=[...te,{placement:i,overflows:M}],!M.every(pe=>pe<=0)){var ae,q;const pe=(((ae=a.flip)==null?void 0:ae.index)||0)+1,ee=R[pe];if(ee&&(!(v==="alignment"?k!==ps(ee):!1)||te.every(ve=>ve.overflows[0]>0&&ps(ve.placement)===k)))return{data:{index:pe,overflows:te},reset:{placement:ee}};let _e=(q=te.filter(xe=>xe.overflows[0]<=0).sort((xe,ve)=>xe.overflows[1]-ve.overflows[1])[0])==null?void 0:q.placement;if(!_e)switch(y){case"bestFit":{var de;const xe=(de=te.filter(ve=>{if(F){const Q=ps(ve.placement);return Q===k||Q==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(Q=>Q>0).reduce((Q,Ce)=>Q+Ce,0)]).sort((ve,Q)=>ve[1]-Q[1])[0])==null?void 0:de[0];xe&&(_e=xe);break}case"initialPlacement":_e=u;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function L2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B2(e){return l6.some(t=>e[t]>=0)}const _6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Gs(e,t);switch(n){case"referenceHidden":{const a=await Au(t,{...i,elementContext:"reference"}),l=L2(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:B2(l)}}}case"escaped":{const a=await Au(t,{...i,altBoundary:!0}),l=L2(a,r.floating);return{data:{escapedOffsets:l,escaped:B2(l)}}}default:return{}}}}},u3=new Set(["left","top"]);async function A6(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=$s(r),u=ic(r),d=ps(r)==="y",p=u3.has(l)?-1:1,x=a&&d?-1:1,v=Gs(t,e);let{mainAxis:E,crossAxis:y,alignmentAxis:A}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof A=="number"&&(y=u==="end"?A*-1:A),d?{x:y*x,y:E*p}:{x:E*p,y:y*x}}const C6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:l,middlewareData:u}=t,d=await A6(t,e);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},T6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:b,y:k}=S;return{x:b,y:k}}},...d}=Gs(e,t),p={x:r,y:n},x=await Au(t,d),v=ps($s(i)),E=ex(v);let y=p[E],A=p[v];if(a){const S=E==="y"?"top":"left",b=E==="y"?"bottom":"right",k=y+x[S],T=y-x[b];y=mp(k,y,T)}if(l){const S=v==="y"?"top":"left",b=v==="y"?"bottom":"right",k=A+x[S],T=A-x[b];A=mp(k,A,T)}const _=u.fn({...t,[E]:y,[v]:A});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[E]:a,[v]:l}}}}}},S6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:p=!0}=Gs(e,t),x={x:r,y:n},v=ps(i),E=ex(v);let y=x[E],A=x[v];const _=Gs(u,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const T=E==="y"?"height":"width",O=a.reference[E]-a.floating[T]+S.mainAxis,B=a.reference[E]+a.reference[T]-S.mainAxis;y<O?y=O:y>B&&(y=B)}if(p){var b,k;const T=E==="y"?"width":"height",O=u3.has($s(i)),B=a.reference[v]-a.floating[T]+(O&&((b=l.offset)==null?void 0:b[v])||0)+(O?0:S.crossAxis),F=a.reference[v]+a.reference[T]+(O?0:((k=l.offset)==null?void 0:k[v])||0)-(O?S.crossAxis:0);A<B?A=B:A>F&&(A=F)}return{[E]:y,[v]:A}}}},b6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:l,elements:u}=t,{apply:d=()=>{},...p}=Gs(e,t),x=await Au(t,p),v=$s(i),E=ic(i),y=ps(i)==="y",{width:A,height:_}=a.floating;let S,b;v==="top"||v==="bottom"?(S=v,b=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(b=v,S=E==="end"?"top":"bottom");const k=_-x.top-x.bottom,T=A-x.left-x.right,O=Ba(_-x[S],k),B=Ba(A-x[b],T),F=!t.middlewareData.shift;let R=O,z=B;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=T),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=k),F&&!E){const te=ri(x.left,0),ae=ri(x.right,0),q=ri(x.top,0),de=ri(x.bottom,0);y?z=A-2*(te!==0||ae!==0?te+ae:ri(x.left,x.right)):R=_-2*(q!==0||de!==0?q+de:ri(x.top,x.bottom))}await d({...t,availableWidth:z,availableHeight:R});const M=await l.getDimensions(u.floating);return A!==M.width||_!==M.height?{reset:{rects:!0}}:{}}}};function Ph(){return typeof window<"u"}function sc(e){return f3(e)?(e.nodeName||"").toLowerCase():"#document"}function ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _s(e){var t;return(t=(f3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f3(e){return Ph()?e instanceof Node||e instanceof ci(e).Node:!1}function Qi(e){return Ph()?e instanceof Element||e instanceof ci(e).Element:!1}function ws(e){return Ph()?e instanceof HTMLElement||e instanceof ci(e).HTMLElement:!1}function U2(e){return!Ph()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ci(e).ShadowRoot}const k6=new Set(["inline","contents"]);function Qu(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!k6.has(i)}const I6=new Set(["table","td","th"]);function R6(e){return I6.has(sc(e))}const O6=[":popover-open",":modal"];function Fh(e){return O6.some(t=>{try{return e.matches(t)}catch{return!1}})}const N6=["transform","translate","scale","rotate","perspective"],D6=["transform","translate","scale","rotate","perspective","filter"],P6=["paint","layout","strict","content"];function nx(e){const t=ix(),r=Qi(e)?Ji(e):e;return N6.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||D6.some(n=>(r.willChange||"").includes(n))||P6.some(n=>(r.contain||"").includes(n))}function F6(e){let t=Ua(e);for(;ws(t)&&!Yl(t);){if(nx(t))return t;if(Fh(t))return null;t=Ua(t)}return null}function ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const M6=new Set(["html","body","#document"]);function Yl(e){return M6.has(sc(e))}function Ji(e){return ci(e).getComputedStyle(e)}function Mh(e){return Qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ua(e){if(sc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||U2(e)&&e.host||_s(e);return U2(t)?t.host:t}function h3(e){const t=Ua(e);return Yl(t)?e.ownerDocument?e.ownerDocument.body:e.body:ws(t)&&Qu(t)?t:h3(t)}function Cu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=h3(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),l=ci(i);if(a){const u=wp(l);return t.concat(l,l.visualViewport||[],Qu(i)?i:[],u&&r?Cu(u):[])}return t.concat(i,Cu(i,[],r))}function wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function d3(e){const t=Ji(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ws(e),a=i?e.offsetWidth:r,l=i?e.offsetHeight:n,u=Wf(r)!==a||Wf(n)!==l;return u&&(r=a,n=l),{width:r,height:n,$:u}}function sx(e){return Qi(e)?e:e.contextElement}function bl(e){const t=sx(e);if(!ws(t))return ms(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=d3(t);let l=(a?Wf(r.width):r.width)/n,u=(a?Wf(r.height):r.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const L6=ms(0);function p3(e){const t=ci(e);return!ix()||!t.visualViewport?L6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B6(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ci(e)?!1:t}function To(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=sx(e);let l=ms(1);t&&(n?Qi(n)&&(l=bl(n)):l=bl(e));const u=B6(a,r,n)?p3(a):ms(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,x=i.width/l.x,v=i.height/l.y;if(a){const E=ci(a),y=n&&Qi(n)?ci(n):n;let A=E,_=wp(A);for(;_&&n&&y!==A;){const S=bl(_),b=_.getBoundingClientRect(),k=Ji(_),T=b.left+(_.clientLeft+parseFloat(k.paddingLeft))*S.x,O=b.top+(_.clientTop+parseFloat(k.paddingTop))*S.y;d*=S.x,p*=S.y,x*=S.x,v*=S.y,d+=T,p+=O,A=ci(_),_=wp(A)}}return zf({width:x,height:v,x:d,y:p})}function ax(e,t){const r=Mh(e).scrollLeft;return t?t.left+r:To(_s(e)).left+r}function g3(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:ax(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function U6(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",l=_s(n),u=t?Fh(t.floating):!1;if(n===l||u&&a)return r;let d={scrollLeft:0,scrollTop:0},p=ms(1);const x=ms(0),v=ws(n);if((v||!v&&!a)&&((sc(n)!=="body"||Qu(l))&&(d=Mh(n)),ws(n))){const y=To(n);p=bl(n),x.x=y.x+n.clientLeft,x.y=y.y+n.clientTop}const E=l&&!v&&!a?g3(l,d,!0):ms(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-d.scrollLeft*p.x+x.x+E.x,y:r.y*p.y-d.scrollTop*p.y+x.y+E.y}}function j6(e){return Array.from(e.getClientRects())}function V6(e){const t=_s(e),r=Mh(e),n=e.ownerDocument.body,i=ri(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ri(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+ax(e);const u=-r.scrollTop;return Ji(n).direction==="rtl"&&(l+=ri(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:u}}function W6(e,t){const r=ci(e),n=_s(e),i=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){a=i.width,l=i.height;const p=ix();(!p||p&&t==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:u,y:d}}const H6=new Set(["absolute","fixed"]);function z6(e,t){const r=To(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ws(e)?bl(e):ms(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,d=i*a.x,p=n*a.y;return{width:l,height:u,x:d,y:p}}function j2(e,t,r){let n;if(t==="viewport")n=W6(e,r);else if(t==="document")n=V6(_s(e));else if(Qi(t))n=z6(t,r);else{const i=p3(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return zf(n)}function x3(e,t){const r=Ua(e);return r===t||!Qi(r)||Yl(r)?!1:Ji(r).position==="fixed"||x3(r,t)}function G6(e,t){const r=t.get(e);if(r)return r;let n=Cu(e,[],!1).filter(u=>Qi(u)&&sc(u)!=="body"),i=null;const a=Ji(e).position==="fixed";let l=a?Ua(e):e;for(;Qi(l)&&!Yl(l);){const u=Ji(l),d=nx(l);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&H6.has(i.position)||Qu(l)&&!d&&x3(e,l))?n=n.filter(x=>x!==l):i=u,l=Ua(l)}return t.set(e,n),n}function $6(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const l=[...r==="clippingAncestors"?Fh(t)?[]:G6(t,this._c):[].concat(r),n],u=l[0],d=l.reduce((p,x)=>{const v=j2(t,x,i);return p.top=ri(v.top,p.top),p.right=Ba(v.right,p.right),p.bottom=Ba(v.bottom,p.bottom),p.left=ri(v.left,p.left),p},j2(t,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function X6(e){const{width:t,height:r}=d3(e);return{width:t,height:r}}function K6(e,t,r){const n=ws(t),i=_s(t),a=r==="fixed",l=To(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const d=ms(0);function p(){d.x=ax(i)}if(n||!n&&!a)if((sc(t)!=="body"||Qu(i))&&(u=Mh(t)),n){const y=To(t,!0,a,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else i&&p();a&&!n&&i&&p();const x=i&&!n&&!a?g3(i,u):ms(0),v=l.left+u.scrollLeft-d.x-x.x,E=l.top+u.scrollTop-d.y-x.y;return{x:v,y:E,width:l.width,height:l.height}}function Hd(e){return Ji(e).position==="static"}function V2(e,t){if(!ws(e)||Ji(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return _s(e)===r&&(r=r.ownerDocument.body),r}function m3(e,t){const r=ci(e);if(Fh(e))return r;if(!ws(e)){let i=Ua(e);for(;i&&!Yl(i);){if(Qi(i)&&!Hd(i))return i;i=Ua(i)}return r}let n=V2(e,t);for(;n&&R6(n)&&Hd(n);)n=V2(n,t);return n&&Yl(n)&&Hd(n)&&!nx(n)?r:n||F6(e)||r}const Y6=async function(e){const t=this.getOffsetParent||m3,r=this.getDimensions,n=await r(e.floating);return{reference:K6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function q6(e){return Ji(e).direction==="rtl"}const Z6={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:_s,getClippingRect:$6,getOffsetParent:m3,getElementRects:Y6,getClientRects:j6,getDimensions:X6,getScale:bl,isElement:Qi,isRTL:q6};function v3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Q6(e,t){let r=null,n;const i=_s(e);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const p=e.getBoundingClientRect(),{left:x,top:v,width:E,height:y}=p;if(u||t(),!E||!y)return;const A=D0(v),_=D0(i.clientWidth-(x+E)),S=D0(i.clientHeight-(v+y)),b=D0(x),T={rootMargin:-A+"px "+-_+"px "+-S+"px "+-b+"px",threshold:ri(0,Ba(1,d))||1};let O=!0;function B(F){const R=F[0].intersectionRatio;if(R!==d){if(!O)return l();R?l(!1,R):n=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!v3(p,e.getBoundingClientRect())&&l(),O=!1}try{r=new IntersectionObserver(B,{...T,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,T)}r.observe(e)}return l(!0),a}function J6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=sx(e),x=i||a?[...p?Cu(p):[],...Cu(t)]:[];x.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const v=p&&u?Q6(p,r):null;let E=-1,y=null;l&&(y=new ResizeObserver(b=>{let[k]=b;k&&k.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(t)})),r()}),p&&!d&&y.observe(p),y.observe(t));let A,_=d?To(e):null;d&&S();function S(){const b=To(e);_&&!v3(_,b)&&r(),_=b,A=requestAnimationFrame(S)}return r(),()=>{var b;x.forEach(k=>{i&&k.removeEventListener("scroll",r),a&&k.removeEventListener("resize",r)}),v==null||v(),(b=y)==null||b.disconnect(),y=null,d&&cancelAnimationFrame(A)}}const eI=C6,tI=T6,rI=E6,nI=b6,iI=_6,W2=y6,sI=S6,aI=(e,t,r)=>{const n=new Map,i={platform:Z6,...r},a={...i.platform,_c:n};return w6(e,t,{...i,platform:a})};var oI=typeof document<"u",lI=function(){},gf=oI?j.useLayoutEffect:lI;function Gf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gf(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Gf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function w3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function H2(e,t){const r=w3(e);return Math.round(t*r)/r}function zd(e){const t=j.useRef(e);return gf(()=>{t.current=e}),t}function cI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=e,[x,v]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[E,y]=j.useState(n);Gf(E,n)||y(n);const[A,_]=j.useState(null),[S,b]=j.useState(null),k=j.useCallback(ve=>{ve!==F.current&&(F.current=ve,_(ve))},[]),T=j.useCallback(ve=>{ve!==R.current&&(R.current=ve,b(ve))},[]),O=a||A,B=l||S,F=j.useRef(null),R=j.useRef(null),z=j.useRef(x),M=d!=null,te=zd(d),ae=zd(i),q=zd(p),de=j.useCallback(()=>{if(!F.current||!R.current)return;const ve={placement:t,strategy:r,middleware:E};ae.current&&(ve.platform=ae.current),aI(F.current,R.current,ve).then(Q=>{const Ce={...Q,isPositioned:q.current!==!1};pe.current&&!Gf(z.current,Ce)&&(z.current=Ce,Ku.flushSync(()=>{v(Ce)}))})},[E,t,r,ae,q]);gf(()=>{p===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,v(ve=>({...ve,isPositioned:!1})))},[p]);const pe=j.useRef(!1);gf(()=>(pe.current=!0,()=>{pe.current=!1}),[]),gf(()=>{if(O&&(F.current=O),B&&(R.current=B),O&&B){if(te.current)return te.current(O,B,de);de()}},[O,B,de,te,M]);const ee=j.useMemo(()=>({reference:F,floating:R,setReference:k,setFloating:T}),[k,T]),_e=j.useMemo(()=>({reference:O,floating:B}),[O,B]),xe=j.useMemo(()=>{const ve={position:r,left:0,top:0};if(!_e.floating)return ve;const Q=H2(_e.floating,x.x),Ce=H2(_e.floating,x.y);return u?{...ve,transform:"translate("+Q+"px, "+Ce+"px)",...w3(_e.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Q,top:Ce}},[r,u,_e.floating,x.x,x.y]);return j.useMemo(()=>({...x,update:de,refs:ee,elements:_e,floatingStyles:xe}),[x,de,ee,_e,xe])}const uI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?W2({element:n.current,padding:i}).fn(r):{}:n?W2({element:n,padding:i}).fn(r):{}}}},fI=(e,t)=>({...eI(e),options:[e,t]}),hI=(e,t)=>({...tI(e),options:[e,t]}),dI=(e,t)=>({...sI(e),options:[e,t]}),pI=(e,t)=>({...rI(e),options:[e,t]}),gI=(e,t)=>({...nI(e),options:[e,t]}),xI=(e,t)=>({...iI(e),options:[e,t]}),mI=(e,t)=>({...uI(e),options:[e,t]});var vI="Arrow",y3=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return V.jsx(Ir.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});y3.displayName=vI;var wI=y3;function yI(e){const[t,r]=j.useState(void 0);return zs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,p=Array.isArray(d)?d[0]:d;l=p.inlineSize,u=p.blockSize}else l=e.offsetWidth,u=e.offsetHeight;r({width:l,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var E3="Popper",[_3,A3]=qu(E3),[FV,C3]=_3(E3),T3="PopperAnchor",S3=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=C3(T3,r),l=j.useRef(null),u=Nn(t,l);return j.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:V.jsx(Ir.div,{...i,ref:u})});S3.displayName=T3;var ox="PopperContent",[EI,_I]=_3(ox),b3=j.forwardRef((e,t)=>{var Se,De,Pe,be,Ke,J;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:y="optimized",onPlaced:A,..._}=e,S=C3(ox,r),[b,k]=j.useState(null),T=Nn(t,$e=>k($e)),[O,B]=j.useState(null),F=yI(O),R=(F==null?void 0:F.width)??0,z=(F==null?void 0:F.height)??0,M=n+(a!=="center"?"-"+a:""),te=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ae=Array.isArray(p)?p:[p],q=ae.length>0,de={padding:te,boundary:ae.filter(CI),altBoundary:q},{refs:pe,floatingStyles:ee,placement:_e,isPositioned:xe,middlewareData:ve}=cI({strategy:"fixed",placement:M,whileElementsMounted:(...$e)=>J6(...$e,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[fI({mainAxis:i+z,alignmentAxis:l}),d&&hI({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?dI():void 0,...de}),d&&pI({...de}),gI({...de,apply:({elements:$e,rects:lt,availableWidth:dt,availableHeight:it})=>{const{width:Re,height:Ze}=lt.reference,Qe=$e.floating.style;Qe.setProperty("--radix-popper-available-width",`${dt}px`),Qe.setProperty("--radix-popper-available-height",`${it}px`),Qe.setProperty("--radix-popper-anchor-width",`${Re}px`),Qe.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),O&&mI({element:O,padding:u}),TI({arrowWidth:R,arrowHeight:z}),E&&xI({strategy:"referenceHidden",...de})]}),[Q,Ce]=R3(_e),Be=vs(A);zs(()=>{xe&&(Be==null||Be())},[xe,Be]);const H=(Se=ve.arrow)==null?void 0:Se.x,oe=(De=ve.arrow)==null?void 0:De.y,re=((Pe=ve.arrow)==null?void 0:Pe.centerOffset)!==0,[ie,le]=j.useState();return zs(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),V.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:xe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(be=ve.transformOrigin)==null?void 0:be.x,(Ke=ve.transformOrigin)==null?void 0:Ke.y].join(" "),...((J=ve.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:V.jsx(EI,{scope:r,placedSide:Q,onArrowChange:B,arrowX:H,arrowY:oe,shouldHideArrow:re,children:V.jsx(Ir.div,{"data-side":Q,"data-align":Ce,..._,ref:T,style:{..._.style,animation:xe?void 0:"none"}})})})});b3.displayName=ox;var k3="PopperArrow",AI={top:"bottom",right:"left",bottom:"top",left:"right"},I3=j.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=_I(k3,n),l=AI[a.placedSide];return V.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:V.jsx(wI,{...i,ref:r,style:{...i.style,display:"block"}})})});I3.displayName=k3;function CI(e){return e!==null}var TI=e=>({name:"transformOrigin",options:e,fn(t){var S,b,k;const{placement:r,rects:n,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[p,x]=R3(r),v={start:"0%",center:"50%",end:"100%"}[x],E=(((b=i.arrow)==null?void 0:b.x)??0)+u/2,y=(((k=i.arrow)==null?void 0:k.y)??0)+d/2;let A="",_="";return p==="bottom"?(A=l?v:`${E}px`,_=`${-d}px`):p==="top"?(A=l?v:`${E}px`,_=`${n.floating.height+d}px`):p==="right"?(A=`${-d}px`,_=l?v:`${y}px`):p==="left"&&(A=`${n.floating.width+d}px`,_=l?v:`${y}px`),{data:{x:A,y:_}}}});function R3(e){const[t,r="center"]=e.split("-");return[t,r]}var SI=S3,bI=b3,kI=I3,[Lh,MV]=qu("Tooltip",[A3]),lx=A3(),O3="TooltipProvider",II=700,z2="tooltip.open",[RI,N3]=Lh(O3),D3=e=>{const{__scopeTooltip:t,delayDuration:r=II,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,l=j.useRef(!0),u=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),V.jsx(RI,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:j.useCallback(p=>{u.current=p},[]),disableHoverableContent:i,children:a})};D3.displayName=O3;var P3="Tooltip",[LV,Bh]=Lh(P3),yp="TooltipTrigger",OI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Bh(yp,r),a=N3(yp,r),l=lx(r),u=j.useRef(null),d=Nn(t,u,i.onTriggerChange),p=j.useRef(!1),x=j.useRef(!1),v=j.useCallback(()=>p.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),V.jsx(SI,{asChild:!0,...l,children:V.jsx(Ir.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:ir(e.onPointerMove,E=>{E.pointerType!=="touch"&&!x.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),x.current=!0)}),onPointerLeave:ir(e.onPointerLeave,()=>{i.onTriggerLeave(),x.current=!1}),onPointerDown:ir(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:ir(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:ir(e.onBlur,i.onClose),onClick:ir(e.onClick,i.onClose)})})});OI.displayName=yp;var NI="TooltipPortal",[BV,DI]=Lh(NI,{forceMount:void 0}),ql="TooltipContent",F3=j.forwardRef((e,t)=>{const r=DI(ql,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,l=Bh(ql,e.__scopeTooltip);return V.jsx(rc,{present:n||l.open,children:l.disableHoverableContent?V.jsx(M3,{side:i,...a,ref:t}):V.jsx(PI,{side:i,...a,ref:t})})}),PI=j.forwardRef((e,t)=>{const r=Bh(ql,e.__scopeTooltip),n=N3(ql,e.__scopeTooltip),i=j.useRef(null),a=Nn(t,i),[l,u]=j.useState(null),{trigger:d,onClose:p}=r,x=i.current,{onPointerInTransitChange:v}=n,E=j.useCallback(()=>{u(null),v(!1)},[v]),y=j.useCallback((A,_)=>{const S=A.currentTarget,b={x:A.clientX,y:A.clientY},k=UI(b,S.getBoundingClientRect()),T=jI(b,k),O=VI(_.getBoundingClientRect()),B=HI([...T,...O]);u(B),v(!0)},[v]);return j.useEffect(()=>()=>E(),[E]),j.useEffect(()=>{if(d&&x){const A=S=>y(S,x),_=S=>y(S,d);return d.addEventListener("pointerleave",A),x.addEventListener("pointerleave",_),()=>{d.removeEventListener("pointerleave",A),x.removeEventListener("pointerleave",_)}}},[d,x,y,E]),j.useEffect(()=>{if(l){const A=_=>{const S=_.target,b={x:_.clientX,y:_.clientY},k=(d==null?void 0:d.contains(S))||(x==null?void 0:x.contains(S)),T=!WI(b,l);k?E():T&&(E(),p())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[d,x,l,p,E]),V.jsx(M3,{...e,ref:a})}),[FI,MI]=Lh(P3,{isInside:!1}),LI=Bb("TooltipContent"),M3=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,d=Bh(ql,r),p=lx(r),{onClose:x}=d;return j.useEffect(()=>(document.addEventListener(z2,x),()=>document.removeEventListener(z2,x)),[x]),j.useEffect(()=>{if(d.trigger){const v=E=>{const y=E.target;y!=null&&y.contains(d.trigger)&&x()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,x]),V.jsx(Rh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:x,children:V.jsxs(bI,{"data-state":d.stateAttribute,...p,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(LI,{children:n}),V.jsx(FI,{scope:r,isInside:!0,children:V.jsx(l8,{id:d.contentId,role:"tooltip",children:i||n})})]})})});F3.displayName=ql;var L3="TooltipArrow",BI=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=lx(r);return MI(L3,r).isInside?null:V.jsx(kI,{...i,...n,ref:t})});BI.displayName=L3;function UI(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function jI(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function VI(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function WI(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a],d=t[l],p=u.x,x=u.y,v=d.x,E=d.y;x>n!=E>n&&r<(v-p)*(n-x)/(E-x)+p&&(i=!i)}return i}function HI(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zI(t)}function zI(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var GI=D3,B3=F3;const $I=GI,XI=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>V.jsx(B3,{ref:n,sideOffset:t,className:Kn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));XI.displayName=B3.displayName;var Uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jh=typeof window>"u"||"Deno"in globalThis;function Bi(){}function KI(e,t){return typeof e=="function"?e(t):e}function YI(e){return typeof e=="number"&&e>=0&&e!==1/0}function qI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ep(e,t){return typeof e=="function"?e(t):e}function ZI(e,t){return typeof e=="function"?e(t):e}function G2(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:l,stale:u}=e;if(l){if(n){if(t.queryHash!==cx(l,t.options))return!1}else if(!Su(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||i&&i!==t.state.fetchStatus||a&&!a(t))}function $2(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Tu(t.options.mutationKey)!==Tu(a))return!1}else if(!Su(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function cx(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tu)(e)}function Tu(e){return JSON.stringify(e,(t,r)=>_p(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Su(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Su(e[r],t[r])):!1}function U3(e,t){if(e===t)return e;const r=X2(e)&&X2(t);if(r||_p(e)&&_p(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),l=a.length,u=r?[]:{},d=new Set(n);let p=0;for(let x=0;x<l;x++){const v=r?x:a[x];(!r&&d.has(v)||r)&&e[v]===void 0&&t[v]===void 0?(u[v]=void 0,p++):(u[v]=U3(e[v],t[v]),u[v]===e[v]&&e[v]!==void 0&&p++)}return i===l&&p===i?e:u}return t}function X2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _p(e){if(!K2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!K2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function K2(e){return Object.prototype.toString.call(e)==="[object Object]"}function QI(e){return new Promise(t=>{setTimeout(t,e)})}function JI(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?U3(e,t):t}function eR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function tR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ux=Symbol();function j3(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ux?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var co,ma,Pl,Zw,rR=(Zw=class extends Uh{constructor(){super();Ft(this,co);Ft(this,ma);Ft(this,Pl);ht(this,Pl,t=>{if(!jh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Te(this,ma)||this.setEventListener(Te(this,Pl))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,ma))==null||t.call(this),ht(this,ma,void 0))}setEventListener(t){var r;ht(this,Pl,t),(r=Te(this,ma))==null||r.call(this),ht(this,ma,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Te(this,co)!==t&&(ht(this,co,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Te(this,co)=="boolean"?Te(this,co):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},co=new WeakMap,ma=new WeakMap,Pl=new WeakMap,Zw),V3=new rR,Fl,va,Ml,Qw,nR=(Qw=class extends Uh{constructor(){super();Ft(this,Fl,!0);Ft(this,va);Ft(this,Ml);ht(this,Ml,t=>{if(!jh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Te(this,va)||this.setEventListener(Te(this,Ml))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,va))==null||t.call(this),ht(this,va,void 0))}setEventListener(t){var r;ht(this,Ml,t),(r=Te(this,va))==null||r.call(this),ht(this,va,t(this.setOnline.bind(this)))}setOnline(t){Te(this,Fl)!==t&&(ht(this,Fl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Te(this,Fl)}},Fl=new WeakMap,va=new WeakMap,Ml=new WeakMap,Qw),$f=new nR;function iR(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function sR(e){return Math.min(1e3*2**e,3e4)}function W3(e){return(e??"online")==="online"?$f.isOnline():!0}var H3=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Gd(e){return e instanceof H3}function z3(e){let t=!1,r=0,n=!1,i;const a=iR(),l=_=>{var S;n||(E(new H3(_)),(S=e.abort)==null||S.call(e))},u=()=>{t=!0},d=()=>{t=!1},p=()=>V3.isFocused()&&(e.networkMode==="always"||$f.isOnline())&&e.canRun(),x=()=>W3(e.networkMode)&&e.canRun(),v=_=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,_),i==null||i(),a.resolve(_))},E=_=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,_),i==null||i(),a.reject(_))},y=()=>new Promise(_=>{var S;i=b=>{(n||p())&&_(b)},(S=e.onPause)==null||S.call(e)}).then(()=>{var _;i=void 0,n||(_=e.onContinue)==null||_.call(e)}),A=()=>{if(n)return;let _;const S=r===0?e.initialPromise:void 0;try{_=S??e.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(v).catch(b=>{var F;if(n)return;const k=e.retry??(jh?0:3),T=e.retryDelay??sR,O=typeof T=="function"?T(r,b):T,B=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,b);if(t||!B){E(b);return}r++,(F=e.onFail)==null||F.call(e,r,b),QI(O).then(()=>p()?void 0:y()).then(()=>{t?E(b):A()})})};return{promise:a,cancel:l,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:x,start:()=>(x()?A():y().then(A),a)}}var aR=e=>setTimeout(e,0);function oR(){let e=[],t=0,r=u=>{u()},n=u=>{u()},i=aR;const a=u=>{t?e.push(u):i(()=>{r(u)})},l=()=>{const u=e;e=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var bn=oR(),uo,Jw,G3=(Jw=class{constructor(){Ft(this,uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YI(this.gcTime)&&ht(this,uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(jh?1/0:5*60*1e3))}clearGcTimeout(){Te(this,uo)&&(clearTimeout(Te(this,uo)),ht(this,uo,void 0))}},uo=new WeakMap,Jw),Ll,fo,Ei,ho,dn,Vu,po,ji,ks,ey,lR=(ey=class extends G3{constructor(t){super();Ft(this,ji);Ft(this,Ll);Ft(this,fo);Ft(this,Ei);Ft(this,ho);Ft(this,dn);Ft(this,Vu);Ft(this,po);ht(this,po,!1),ht(this,Vu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,ho,t.client),ht(this,Ei,Te(this,ho).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,Ll,uR(this.options)),this.state=t.state??Te(this,Ll),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Te(this,dn))==null?void 0:t.promise}setOptions(t){this.options={...Te(this,Vu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Te(this,Ei).remove(this)}setData(t,r){const n=JI(this.state.data,t,this.options);return cn(this,ji,ks).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){cn(this,ji,ks).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=Te(this,dn))==null?void 0:n.promise;return(i=Te(this,dn))==null||i.cancel(t),r?r.then(Bi).catch(Bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Te(this,Ll))}isActive(){return this.observers.some(t=>ZI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ux||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ep(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,dn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,dn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Te(this,Ei).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Te(this,dn)&&(Te(this,po)?Te(this,dn).cancel({revert:!0}):Te(this,dn).cancelRetry()),this.scheduleGc()),Te(this,Ei).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,ji,ks).call(this,{type:"invalidate"})}fetch(t,r){var p,x,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Te(this,dn))return Te(this,dn).continueRetry(),Te(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(y=>y.options.queryFn);E&&this.setOptions(E.options)}const n=new AbortController,i=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(ht(this,po,!0),n.signal)})},a=()=>{const E=j3(this.options,r),A=(()=>{const _={client:Te(this,ho),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return ht(this,po,!1),this.options.persister?this.options.persister(E,A,this):E(A)},u=(()=>{const E={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Te(this,ho),state:this.state,fetchFn:a};return i(E),E})();(p=this.options.behavior)==null||p.onFetch(u,this),ht(this,fo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=u.fetchOptions)==null?void 0:x.meta))&&cn(this,ji,ks).call(this,{type:"fetch",meta:(v=u.fetchOptions)==null?void 0:v.meta});const d=E=>{var y,A,_,S;Gd(E)&&E.silent||cn(this,ji,ks).call(this,{type:"error",error:E}),Gd(E)||((A=(y=Te(this,Ei).config).onError)==null||A.call(y,E,this),(S=(_=Te(this,Ei).config).onSettled)==null||S.call(_,this.state.data,E,this)),this.scheduleGc()};return ht(this,dn,z3({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:E=>{var y,A,_,S;if(E===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(b){d(b);return}(A=(y=Te(this,Ei).config).onSuccess)==null||A.call(y,E,this),(S=(_=Te(this,Ei).config).onSettled)==null||S.call(_,E,this.state.error,this),this.scheduleGc()},onError:d,onFail:(E,y)=>{cn(this,ji,ks).call(this,{type:"failed",failureCount:E,error:y})},onPause:()=>{cn(this,ji,ks).call(this,{type:"pause"})},onContinue:()=>{cn(this,ji,ks).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),Te(this,dn).start()}},Ll=new WeakMap,fo=new WeakMap,Ei=new WeakMap,ho=new WeakMap,dn=new WeakMap,Vu=new WeakMap,po=new WeakMap,ji=new WeakSet,ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cR(n.data,this.options),fetchMeta:t.meta??null};case"success":return ht(this,fo,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Gd(i)&&i.revert&&Te(this,fo)?{...Te(this,fo),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),bn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Te(this,Ei).notify({query:this,type:"updated",action:t})})},ey);function cR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var cs,ty,fR=(ty=class extends Uh{constructor(t={}){super();Ft(this,cs);this.config=t,ht(this,cs,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??cx(i,r);let l=this.get(a);return l||(l=new lR({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){Te(this,cs).has(t.queryHash)||(Te(this,cs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Te(this,cs).get(t.queryHash);r&&(t.destroy(),r===t&&Te(this,cs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Te(this,cs).get(t)}getAll(){return[...Te(this,cs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>G2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>G2(t,n)):r}notify(t){bn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cs=new WeakMap,ty),us,Cn,go,fs,oa,ry,hR=(ry=class extends G3{constructor(t){super();Ft(this,fs);Ft(this,us);Ft(this,Cn);Ft(this,go);this.mutationId=t.mutationId,ht(this,Cn,t.mutationCache),ht(this,us,[]),this.state=t.state||dR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Te(this,us).includes(t)||(Te(this,us).push(t),this.clearGcTimeout(),Te(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,us,Te(this,us).filter(r=>r!==t)),this.scheduleGc(),Te(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Te(this,us).length||(this.state.status==="pending"?this.scheduleGc():Te(this,Cn).remove(this))}continue(){var t;return((t=Te(this,go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,d,p,x,v,E,y,A,_,S,b,k,T,O,B,F,R,z;const r=()=>{cn(this,fs,oa).call(this,{type:"continue"})};ht(this,go,z3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,te)=>{cn(this,fs,oa).call(this,{type:"failed",failureCount:M,error:te})},onPause:()=>{cn(this,fs,oa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Te(this,Cn).canRun(this)}));const n=this.state.status==="pending",i=!Te(this,go).canStart();try{if(n)r();else{cn(this,fs,oa).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=Te(this,Cn).config).onMutate)==null?void 0:l.call(a,t,this));const te=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));te!==this.state.context&&cn(this,fs,oa).call(this,{type:"pending",context:te,variables:t,isPaused:i})}const M=await Te(this,go).start();return await((x=(p=Te(this,Cn).config).onSuccess)==null?void 0:x.call(p,M,t,this.state.context,this)),await((E=(v=this.options).onSuccess)==null?void 0:E.call(v,M,t,this.state.context)),await((A=(y=Te(this,Cn).config).onSettled)==null?void 0:A.call(y,M,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,M,null,t,this.state.context)),cn(this,fs,oa).call(this,{type:"success",data:M}),M}catch(M){try{throw await((k=(b=Te(this,Cn).config).onError)==null?void 0:k.call(b,M,t,this.state.context,this)),await((O=(T=this.options).onError)==null?void 0:O.call(T,M,t,this.state.context)),await((F=(B=Te(this,Cn).config).onSettled)==null?void 0:F.call(B,void 0,M,this.state.variables,this.state.context,this)),await((z=(R=this.options).onSettled)==null?void 0:z.call(R,void 0,M,t,this.state.context)),M}finally{cn(this,fs,oa).call(this,{type:"error",error:M})}}finally{Te(this,Cn).runNext(this)}}},us=new WeakMap,Cn=new WeakMap,go=new WeakMap,fs=new WeakSet,oa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bn.batch(()=>{Te(this,us).forEach(n=>{n.onMutationUpdate(t)}),Te(this,Cn).notify({mutation:this,type:"updated",action:t})})},ry);function dR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ds,Vi,Wu,ny,pR=(ny=class extends Uh{constructor(t={}){super();Ft(this,Ds);Ft(this,Vi);Ft(this,Wu);this.config=t,ht(this,Ds,new Set),ht(this,Vi,new Map),ht(this,Wu,0)}build(t,r,n){const i=new hR({mutationCache:this,mutationId:++h0(this,Wu)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){Te(this,Ds).add(t);const r=P0(t);if(typeof r=="string"){const n=Te(this,Vi).get(r);n?n.push(t):Te(this,Vi).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Te(this,Ds).delete(t)){const r=P0(t);if(typeof r=="string"){const n=Te(this,Vi).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&Te(this,Vi).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=P0(t);if(typeof r=="string"){const n=Te(this,Vi).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=P0(t);if(typeof r=="string"){const i=(n=Te(this,Vi).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bn.batch(()=>{Te(this,Ds).forEach(t=>{this.notify({type:"removed",mutation:t})}),Te(this,Ds).clear(),Te(this,Vi).clear()})}getAll(){return Array.from(Te(this,Ds))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$2(r,n))}findAll(t={}){return this.getAll().filter(r=>$2(t,r))}notify(t){bn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return bn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Bi))))}},Ds=new WeakMap,Vi=new WeakMap,Wu=new WeakMap,ny);function P0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Y2(e){return{onFetch:(t,r)=>{var x,v,E,y,A;const n=t.options,i=(E=(v=(x=t.fetchOptions)==null?void 0:x.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],l=((A=t.state.data)==null?void 0:A.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const p=async()=>{let _=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},b=j3(t.options,t.fetchOptions),k=async(T,O,B)=>{if(_)return Promise.reject();if(O==null&&T.pages.length)return Promise.resolve(T);const R=(()=>{const ae={client:t.client,queryKey:t.queryKey,pageParam:O,direction:B?"backward":"forward",meta:t.options.meta};return S(ae),ae})(),z=await b(R),{maxPages:M}=t.options,te=B?tR:eR;return{pages:te(T.pages,z,M),pageParams:te(T.pageParams,O,M)}};if(i&&a.length){const T=i==="backward",O=T?gR:q2,B={pages:a,pageParams:l},F=O(n,B);u=await k(B,F,T)}else{const T=e??a.length;do{const O=d===0?l[0]??n.initialPageParam:q2(n,u);if(d>0&&O==null)break;u=await k(u,O),d++}while(d<T)}return u};t.options.persister?t.fetchFn=()=>{var _,S;return(S=(_=t.options).persister)==null?void 0:S.call(_,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=p}}}function q2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function gR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var pr,wa,ya,Bl,Ul,Ea,jl,Vl,iy,xR=(iy=class{constructor(e={}){Ft(this,pr);Ft(this,wa);Ft(this,ya);Ft(this,Bl);Ft(this,Ul);Ft(this,Ea);Ft(this,jl);Ft(this,Vl);ht(this,pr,e.queryCache||new fR),ht(this,wa,e.mutationCache||new pR),ht(this,ya,e.defaultOptions||{}),ht(this,Bl,new Map),ht(this,Ul,new Map),ht(this,Ea,0)}mount(){h0(this,Ea)._++,Te(this,Ea)===1&&(ht(this,jl,V3.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,pr).onFocus())})),ht(this,Vl,$f.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,pr).onOnline())})))}unmount(){var e,t;h0(this,Ea)._--,Te(this,Ea)===0&&((e=Te(this,jl))==null||e.call(this),ht(this,jl,void 0),(t=Te(this,Vl))==null||t.call(this),ht(this,Vl,void 0))}isFetching(e){return Te(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Te(this,wa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,pr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Te(this,pr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ep(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Te(this,pr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Te(this,pr).get(n.queryHash),a=i==null?void 0:i.state.data,l=KI(t,a);if(l!==void 0)return Te(this,pr).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return bn.batch(()=>Te(this,pr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,pr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Te(this,pr);bn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Te(this,pr);return bn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=bn.batch(()=>Te(this,pr).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Bi).catch(Bi)}invalidateQueries(e,t={}){return bn.batch(()=>(Te(this,pr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=bn.batch(()=>Te(this,pr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Bi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Bi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Te(this,pr).build(this,t);return r.isStaleByTime(Ep(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Bi).catch(Bi)}fetchInfiniteQuery(e){return e.behavior=Y2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Bi).catch(Bi)}ensureInfiniteQueryData(e){return e.behavior=Y2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $f.isOnline()?Te(this,wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return Te(this,pr)}getMutationCache(){return Te(this,wa)}getDefaultOptions(){return Te(this,ya)}setDefaultOptions(e){ht(this,ya,e)}setQueryDefaults(e,t){Te(this,Bl).set(Tu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Te(this,Bl).values()],r={};return t.forEach(n=>{Su(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Te(this,Ul).set(Tu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Te(this,Ul).values()],r={};return t.forEach(n=>{Su(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Te(this,ya).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ux&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Te(this,ya).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Te(this,pr).clear(),Te(this,wa).clear()}},pr=new WeakMap,wa=new WeakMap,ya=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,Ea=new WeakMap,jl=new WeakMap,Vl=new WeakMap,iy),mR=j.createContext(void 0),vR=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),V.jsx(mR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const Z2="popstate";function wR(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:u}=n.location;return Ap("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:X3(i)}return ER(t,r,null,e)}function Xn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yR(){return Math.random().toString(36).substr(2,8)}function Q2(e,t){return{usr:e.state,key:e.key,idx:t}}function Ap(e,t,r,n){return r===void 0&&(r=null),Xf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vh(t):t,{state:r,key:t&&t.key||n||yR()})}function X3(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ER(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,u=Ca.Pop,d=null,p=x();p==null&&(p=0,l.replaceState(Xf({},l.state,{idx:p}),""));function x(){return(l.state||{idx:null}).idx}function v(){u=Ca.Pop;let S=x(),b=S==null?null:S-p;p=S,d&&d({action:u,location:_.location,delta:b})}function E(S,b){u=Ca.Push;let k=Ap(_.location,S,b);p=x()+1;let T=Q2(k,p),O=_.createHref(k);try{l.pushState(T,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(O)}a&&d&&d({action:u,location:_.location,delta:1})}function y(S,b){u=Ca.Replace;let k=Ap(_.location,S,b);p=x();let T=Q2(k,p),O=_.createHref(k);l.replaceState(T,"",O),a&&d&&d({action:u,location:_.location,delta:0})}function A(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof S=="string"?S:X3(S);return k=k.replace(/ $/,"%20"),Xn(b,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,b)}let _={get action(){return u},get location(){return e(i,l)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Z2,v),d=S,()=>{i.removeEventListener(Z2,v),d=null}},createHref(S){return t(i,S)},createURL:A,encodeLocation(S){let b=A(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:E,replace:y,go(S){return l.go(S)}};return _}var J2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J2||(J2={}));function _R(e,t,r){return r===void 0&&(r="/"),AR(e,t,r,!1)}function AR(e,t,r,n){let i=typeof t=="string"?Vh(t):t,a=q3(i.pathname||"/",r);if(a==null)return null;let l=K3(e);CR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let p=FR(a);u=DR(l[d],p,n)}return u}function K3(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Xn(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let p=kl([n,d.relativePath]),x=r.concat(d);a.children&&a.children.length>0&&(Xn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),K3(a.children,t,x,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:OR(p,a.index),routesMeta:x})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let d of Y3(a.path))i(a,l,d)}),t}function Y3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Y3(n.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function CR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const TR=/^:[\w-]+$/,SR=3,bR=2,kR=1,IR=10,RR=-2,ev=e=>e==="*";function OR(e,t){let r=e.split("/"),n=r.length;return r.some(ev)&&(n+=RR),t&&(n+=bR),r.filter(i=>!ev(i)).reduce((i,a)=>i+(TR.test(a)?SR:a===""?kR:IR),n)}function NR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function DR(e,t,r){let{routesMeta:n}=e,i={},a="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],p=u===n.length-1,x=a==="/"?t:t.slice(a.length)||"/",v=tv({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},x),E=d.route;if(!v&&p&&r&&!n[n.length-1].route.index&&(v=tv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},x)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:kl([a,v.pathname]),pathnameBase:MR(kl([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=kl([a,v.pathnameBase]))}return l}function tv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=PR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((p,x,v)=>{let{paramName:E,isOptional:y}=x;if(E==="*"){let _=u[v]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const A=u[v];return y&&!A?p[E]=void 0:p[E]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:e}}function PR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function FR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function q3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const kl=e=>e.join("/").replace(/\/\/+/g,"/"),MR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function LR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Z3=["post","put","patch","delete"];new Set(Z3);const BR=["get",...Z3];new Set(BR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kf.apply(this,arguments)}const UR=j.createContext(null),jR=j.createContext(null),Q3=j.createContext(null),Wh=j.createContext(null),Hh=j.createContext({outlet:null,matches:[],isDataRoute:!1}),J3=j.createContext(null);function fx(){return j.useContext(Wh)!=null}function eA(){return fx()||Xn(!1),j.useContext(Wh).location}function VR(e,t){return WR(e,t)}function WR(e,t,r,n){fx()||Xn(!1);let{navigator:i}=j.useContext(Q3),{matches:a}=j.useContext(Hh),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let p=eA(),x;if(t){var v;let S=typeof t=="string"?Vh(t):t;d==="/"||(v=S.pathname)!=null&&v.startsWith(d)||Xn(!1),x=S}else x=p;let E=x.pathname||"/",y=E;if(d!=="/"){let S=d.replace(/^\//,"").split("/");y="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=_R(e,{pathname:y}),_=XR(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:kl([d,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:kl([d,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,r,n);return t&&_?j.createElement(Wh.Provider,{value:{location:Kf({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ca.Pop}},_):_}function HR(){let e=ZR(),t=LR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,null)}const zR=j.createElement(HR,null);class GR extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(Hh.Provider,{value:this.props.routeContext},j.createElement(J3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $R(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(UR);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Hh.Provider,{value:t},n)}function XR(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=(i=r)==null?void 0:i.errors;if(u!=null){let x=l.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);x>=0||Xn(!1),l=l.slice(0,Math.min(l.length,x+1))}let d=!1,p=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<l.length;x++){let v=l[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=x),v.route.id){let{loaderData:E,errors:y}=r,A=v.route.loader&&E[v.route.id]===void 0&&(!y||y[v.route.id]===void 0);if(v.route.lazy||A){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((x,v,E)=>{let y,A=!1,_=null,S=null;r&&(y=u&&v.route.id?u[v.route.id]:void 0,_=v.route.errorElement||zR,d&&(p<0&&E===0?(A=!0,S=null):p===E&&(A=!0,S=v.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,E+1)),k=()=>{let T;return y?T=_:A?T=S:v.route.Component?T=j.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=x,j.createElement($R,{match:v,routeContext:{outlet:x,matches:b,isDataRoute:r!=null},children:T})};return r&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?j.createElement(GR,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:k(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):k()},null)}var Cp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cp||{});function KR(e){let t=j.useContext(jR);return t||Xn(!1),t}function YR(e){let t=j.useContext(Hh);return t||Xn(!1),t}function qR(e){let t=YR(),r=t.matches[t.matches.length-1];return r.route.id||Xn(!1),r.route.id}function ZR(){var e;let t=j.useContext(J3),r=KR(Cp.UseRouteError),n=qR(Cp.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function QR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tp(e){Xn(!1)}function JR(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ca.Pop,navigator:a,static:l=!1,future:u}=e;fx()&&Xn(!1);let d=t.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:a,static:l,future:Kf({v7_relativeSplatPath:!1},u)}),[d,u,a,l]);typeof n=="string"&&(n=Vh(n));let{pathname:x="/",search:v="",hash:E="",state:y=null,key:A="default"}=n,_=j.useMemo(()=>{let S=q3(x,d);return S==null?null:{location:{pathname:S,search:v,hash:E,state:y,key:A},navigationType:i}},[d,x,v,E,y,A,i]);return _==null?null:j.createElement(Q3.Provider,{value:p},j.createElement(Wh.Provider,{children:r,value:_}))}function eO(e){let{children:t,location:r}=e;return VR(Sp(t),r)}new Promise(()=>{});function Sp(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;let a=[...t,i];if(n.type===j.Fragment){r.push.apply(r,Sp(n.props.children,a));return}n.type!==Tp&&Xn(!1),!n.props.index||!n.props.children||Xn(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Sp(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tO="6";try{window.__reactRouterVersion=tO}catch{}const rO="startTransition",rv=ng[rO];function nO(e){let{basename:t,children:r,future:n,window:i}=e,a=j.useRef();a.current==null&&(a.current=wR({window:i,v5Compat:!0}));let l=a.current,[u,d]=j.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},x=j.useCallback(v=>{p&&rv?rv(()=>d(v)):d(v)},[d,p]);return j.useLayoutEffect(()=>l.listen(x),[l,x]),j.useEffect(()=>QR(n),[n]),j.createElement(JR,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}var nv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(nv||(nv={}));var iv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iv||(iv={}));const iO=({isConnected:e,employeeCount:t})=>{const[r,n]=j.useState(!1);return j.useEffect(()=>{n(!0);const i=setTimeout(()=>n(!1),500);return()=>clearTimeout(i)},[t]),V.jsxs("header",{className:"relative z-10",children:[V.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neon-cyan/5 to-transparent pointer-events-none"}),V.jsx("div",{className:"container mx-auto px-4 py-6",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsxs("div",{className:"relative",children:[V.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-neon-cyan to-neon-purple flex items-center justify-center shadow-neon-cyan",children:V.jsx("span",{className:"text-2xl font-black text-primary-foreground",children:"E"})}),V.jsx("div",{className:"absolute -inset-1 rounded-2xl bg-gradient-to-br from-neon-cyan to-neon-purple opacity-30 blur-lg animate-pulse-glow"})]}),V.jsxs("div",{children:[V.jsxs("h1",{className:"text-2xl font-black tracking-tight gradient-text",children:["EMPLOYEE",V.jsx("span",{className:"text-foreground",children:"HUB"})]}),V.jsx("p",{className:"text-xs text-muted-foreground tracking-widest-xl uppercase",children:"QR Lookup System"})]})]}),V.jsx("div",{className:"flex items-center gap-4",children:V.jsxs("div",{className:`
              glass-card px-4 py-2 flex items-center gap-3
              ${e?"border-neon-emerald/30":"border-destructive/30"}
            `,children:[V.jsxs("div",{className:"relative",children:[e?V.jsx(P8,{className:"w-5 h-5 text-neon-emerald"}):V.jsx(G8,{className:"w-5 h-5 text-destructive"}),e&&V.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-neon-emerald rounded-full status-ping"})]}),V.jsxs("div",{className:"flex flex-col",children:[V.jsx("span",{className:`text-xs font-bold tracking-wide ${e?"text-neon-emerald":"text-destructive"}`,children:e?"CLOUD LINKED":"OFFLINE"}),V.jsxs("span",{className:`text-[10px] text-muted-foreground transition-all ${r?"scale-110":""}`,children:[t.toLocaleString()," Records"]})]})]})})]})})]})},sO=K_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-bold tracking-wide ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",neon:"bg-gradient-to-r from-primary to-secondary text-primary-foreground hover:shadow-neon-cyan transition-shadow",glass:"backdrop-blur-xl bg-card/50 border border-border/50 text-foreground hover:bg-card/80 hover:border-primary/50",scan:"bg-primary text-primary-foreground shadow-neon-cyan hover:shadow-[0_0_30px_hsl(185_100%_50%/0.7),0_0_60px_hsl(185_100%_50%/0.4)] active:scale-95"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4",lg:"h-14 rounded-2xl px-10 text-base",xl:"h-16 rounded-2xl px-12 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ys=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const l=n?Mb:"button";return V.jsx(l,{className:Kn(sO({variant:t,size:r,className:e})),ref:a,...i})});ys.displayName="Button";const aO=({employeeCount:e,lastSync:t,onReset:r,onRefresh:n,isLoading:i})=>{const a=l=>l?l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Never";return V.jsx("div",{className:"glass-card mx-4 mb-6 px-4 py-3",children:V.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[V.jsxs("div",{className:"flex items-center gap-6",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(M8,{className:"w-4 h-4 text-neon-cyan"}),V.jsxs("span",{className:"text-sm font-medium",children:[V.jsx("span",{className:"text-neon-cyan font-bold",children:e.toLocaleString()}),V.jsx("span",{className:"text-muted-foreground ml-1",children:"employees loaded"})]})]}),V.jsx("div",{className:"h-4 w-px bg-border"}),V.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last sync: ",V.jsx("span",{className:"text-foreground font-medium",children:a(t)})]})]}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsxs(ys,{variant:"ghost",size:"sm",onClick:n,disabled:i,className:"text-muted-foreground hover:text-neon-cyan",children:[V.jsx(V8,{className:`w-4 h-4 mr-1 ${i?"animate-spin":""}`}),"Sync"]}),V.jsxs(ys,{variant:"ghost",size:"sm",onClick:r,className:"text-destructive/70 hover:text-destructive hover:bg-destructive/10",children:[V.jsx(H8,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]})})},Yf=j.forwardRef(({className:e,type:t,...r},n)=>V.jsx("input",{type:t,className:Kn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Yf.displayName="Input";const oO=({onSearch:e,onScanClick:t,isLoading:r})=>{const[n,i]=j.useState(""),a=l=>{l.preventDefault(),n.trim()&&e(n.trim())};return V.jsxs("div",{className:"px-4 mb-8",children:[V.jsxs(ys,{variant:"scan",size:"xl",className:"w-full mb-4 relative overflow-hidden group",onClick:t,children:[V.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan via-neon-purple to-neon-cyan opacity-0 group-hover:opacity-20 transition-opacity bg-[length:200%_100%] animate-[shimmer_3s_infinite]"}),V.jsx(j8,{className:"w-6 h-6 mr-2"}),V.jsx("span",{className:"font-black text-lg tracking-wide",children:"SCAN QR CODE"})]}),V.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[V.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-border to-transparent"}),V.jsx("span",{className:"text-xs text-muted-foreground font-medium tracking-widest",children:"OR SEARCH"}),V.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-border to-transparent"})]}),V.jsxs("form",{onSubmit:a,className:"flex gap-2",children:[V.jsxs("div",{className:"relative flex-1",children:[V.jsx(k2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),V.jsx(Yf,{type:"text",placeholder:"Enter Employee ID or Card Number...",value:n,onChange:l=>i(l.target.value),className:"pl-12"})]}),V.jsx(ys,{type:"submit",variant:"glass",disabled:!n.trim()||r,className:"px-6",children:r?V.jsx(Qg,{className:"w-5 h-5 animate-spin"}):V.jsx(k2,{className:"w-5 h-5"})})]})]})},lO=({employee:e,status:t})=>{var r;return t==="idle"?V.jsxs("div",{className:"glass-card p-8 mx-4 text-center",children:[V.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:V.jsx(Q_,{className:"w-10 h-10 text-muted-foreground"})}),V.jsx("h3",{className:"text-lg font-bold text-muted-foreground",children:"No Employee Selected"}),V.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Scan a QR code or search by ID to view employee details"})]}):t==="not-found"?V.jsxs("div",{className:"glass-card p-8 mx-4 text-center border-destructive/30 animate-fade-in-up",children:[V.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-destructive/20 flex items-center justify-center",children:V.jsx(Dh,{className:"w-10 h-10 text-destructive"})}),V.jsx("h3",{className:"text-lg font-bold text-destructive",children:"Employee Not Found"}),V.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No matching record found. Please verify the ID and try again."})]}):e?V.jsx("div",{className:"mx-4 animate-fade-in-up",children:V.jsxs("div",{className:"relative",children:[V.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neon-cyan/20 via-neon-purple/10 to-neon-pink/20 rounded-3xl blur-xl"}),V.jsxs("div",{className:"relative glass-card overflow-hidden",children:[V.jsx("div",{className:"bg-gradient-to-r from-neon-emerald/20 to-transparent px-6 py-3 border-b border-border/50",children:V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("div",{className:"w-6 h-6 rounded-full bg-neon-emerald flex items-center justify-center",children:V.jsx(b2,{className:"w-4 h-4 text-primary-foreground"})}),V.jsx("span",{className:"text-sm font-bold text-neon-emerald tracking-wide",children:"EMPLOYEE VERIFIED"})]})}),V.jsxs("div",{className:"p-6",children:[V.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[V.jsxs("div",{className:"relative",children:[V.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-neon-cyan to-neon-purple flex items-center justify-center shadow-neon-cyan",children:V.jsx("span",{className:"text-2xl font-black text-primary-foreground",children:((r=e.employee_name)==null?void 0:r.charAt(0))||"E"})}),V.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-neon-emerald rounded-full flex items-center justify-center border-2 border-card",children:V.jsx(b2,{className:"w-3 h-3 text-primary-foreground"})})]}),V.jsxs("div",{className:"flex-1",children:[V.jsx("h2",{className:"text-xl font-black tracking-tight",children:e.employee_name}),V.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:["ID: ",e.employee_id]})]})]}),V.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[V.jsx(F0,{icon:V.jsx(z8,{className:"w-4 h-4"}),label:"Meal Type",value:e.meal_type}),V.jsx(F0,{icon:V.jsx(R8,{className:"w-4 h-4"}),label:"Company",value:e.company_name}),V.jsx(F0,{icon:V.jsx(U8,{className:"w-4 h-4"}),label:"Camp",value:e.camp_allocation}),V.jsx(F0,{icon:V.jsx(F8,{className:"w-4 h-4"}),label:"Access Card",value:e.access_card})]}),e.card_number&&V.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-muted/50 border border-border/50",children:[V.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[V.jsx(B8,{className:"w-4 h-4"}),V.jsx("span",{className:"text-xs font-medium tracking-wide uppercase",children:"Card Number"})]}),V.jsx("p",{className:"font-mono text-lg font-bold tracking-widest text-neon-cyan",children:e.card_number})]})]})]})]})}):null},F0=({icon:e,label:t,value:r})=>V.jsxs("div",{className:"p-3 rounded-xl bg-muted/30 border border-border/30",children:[V.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[e,V.jsx("span",{className:"text-xs font-medium tracking-wide uppercase",children:t})]}),V.jsx("p",{className:"font-semibold truncate",children:r||"-"})]});var $d="focusScope.autoFocusOnMount",Xd="focusScope.autoFocusOnUnmount",sv={bubbles:!1,cancelable:!0},cO="FocusScope",tA=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=e,[u,d]=j.useState(null),p=vs(i),x=vs(a),v=j.useRef(null),E=Nn(t,_=>d(_)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let _=function(T){if(y.paused||!u)return;const O=T.target;u.contains(O)?v.current=O:la(v.current,{select:!0})},S=function(T){if(y.paused||!u)return;const O=T.relatedTarget;O!==null&&(u.contains(O)||la(v.current,{select:!0}))},b=function(T){if(document.activeElement===document.body)for(const B of T)B.removedNodes.length>0&&la(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const k=new MutationObserver(b);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),k.disconnect()}}},[n,u,y.paused]),j.useEffect(()=>{if(u){ov.add(y);const _=document.activeElement;if(!u.contains(_)){const b=new CustomEvent($d,sv);u.addEventListener($d,p),u.dispatchEvent(b),b.defaultPrevented||(uO(gO(rA(u)),{select:!0}),document.activeElement===_&&la(u))}return()=>{u.removeEventListener($d,p),setTimeout(()=>{const b=new CustomEvent(Xd,sv);u.addEventListener(Xd,x),u.dispatchEvent(b),b.defaultPrevented||la(_??document.body,{select:!0}),u.removeEventListener(Xd,x),ov.remove(y)},0)}}},[u,p,x,y]);const A=j.useCallback(_=>{if(!r&&!n||y.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(S&&b){const k=_.currentTarget,[T,O]=fO(k);T&&O?!_.shiftKey&&b===O?(_.preventDefault(),r&&la(T,{select:!0})):_.shiftKey&&b===T&&(_.preventDefault(),r&&la(O,{select:!0})):b===k&&_.preventDefault()}},[r,n,y.paused]);return V.jsx(Ir.div,{tabIndex:-1,...l,ref:E,onKeyDown:A})});tA.displayName=cO;function uO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(la(n,{select:t}),document.activeElement!==r)return}function fO(e){const t=rA(e),r=av(t,e),n=av(t.reverse(),e);return[r,n]}function rA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function av(e,t){for(const r of e)if(!hO(r,{upTo:t}))return r}function hO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dO(e){return e instanceof HTMLInputElement&&"select"in e}function la(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dO(e)&&t&&e.select()}}var ov=pO();function pO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=lv(e,t),e.unshift(t)},remove(t){var r;e=lv(e,t),(r=e[0])==null||r.resume()}}}function lv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function gO(e){return e.filter(t=>t.tagName!=="A")}var Kd=0;function xO(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??cv()),document.body.insertAdjacentElement("beforeend",e[1]??cv()),Kd++,()=>{Kd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kd--}},[])}function cv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ds=function(){return ds=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ds.apply(this,arguments)};function ac(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function mO(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})}function vO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var xf="right-scroll-bar-position",mf="width-before-scroll-bar",wO="with-scroll-bars-hidden",yO="--removed-body-scroll-bar-size";function Yd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EO(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var _O=typeof window<"u"?j.useLayoutEffect:j.useEffect,uv=new WeakMap;function AO(e,t){var r=EO(null,function(n){return e.forEach(function(i){return Yd(i,n)})});return _O(function(){var n=uv.get(r);if(n){var i=new Set(n),a=new Set(e),l=r.current;i.forEach(function(u){a.has(u)||Yd(u,null)}),a.forEach(function(u){i.has(u)||Yd(u,l)})}uv.set(r,e)},[e]),r}function CO(e){return e}function TO(e,t){t===void 0&&(t=CO);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(u){return a(u)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(a),l=r}var d=function(){var x=l;l=[],x.forEach(a)},p=function(){return Promise.resolve().then(d)};p(),r={push:function(x){l.push(x),p()},filter:function(x){return l=l.filter(x),r}}}};return i}function SO(e){e===void 0&&(e={});var t=TO(null);return t.options=ds({async:!0,ssr:!1},e),t}var nA=function(e){var t=e.sideCar,r=ac(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,ds({},r))};nA.isSideCarExport=!0;function bO(e,t){return e.useMedium(t),nA}var iA=SO(),qd=function(){},zh=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:qd,onWheelCapture:qd,onTouchMoveCapture:qd}),i=n[0],a=n[1],l=e.forwardProps,u=e.children,d=e.className,p=e.removeScrollBar,x=e.enabled,v=e.shards,E=e.sideCar,y=e.noRelative,A=e.noIsolation,_=e.inert,S=e.allowPinchZoom,b=e.as,k=b===void 0?"div":b,T=e.gapMode,O=ac(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=E,F=AO([r,t]),R=ds(ds({},O),i);return j.createElement(j.Fragment,null,x&&j.createElement(B,{sideCar:iA,removeScrollBar:p,shards:v,noRelative:y,noIsolation:A,inert:_,setCallbacks:a,allowPinchZoom:!!S,lockRef:r,gapMode:T}),l?j.cloneElement(j.Children.only(u),ds(ds({},R),{ref:F})):j.createElement(k,ds({},R,{className:d,ref:F}),u))});zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zh.classNames={fullWidth:mf,zeroRight:xf};var kO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function IO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kO();return t&&e.setAttribute("nonce",t),e}function RO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function OO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var NO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=IO())&&(RO(t,r),OO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DO=function(){var e=NO();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sA=function(){var e=DO(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},PO={left:0,top:0,right:0,gap:0},Zd=function(e){return parseInt(e||"",10)||0},FO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Zd(r),Zd(n),Zd(i)]},MO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PO;var t=FO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},LO=sA(),Il="data-scroll-locked",BO=function(e,t,r,n){var i=e.left,a=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Il,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(mf,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(xf," .").concat(xf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Il,`] {
    `).concat(yO,": ").concat(u,`px;
  }
`)},fv=function(){var e=parseInt(document.body.getAttribute(Il)||"0",10);return isFinite(e)?e:0},UO=function(){j.useEffect(function(){return document.body.setAttribute(Il,(fv()+1).toString()),function(){var e=fv()-1;e<=0?document.body.removeAttribute(Il):document.body.setAttribute(Il,e.toString())}},[])},jO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;UO();var a=j.useMemo(function(){return MO(i)},[i]);return j.createElement(LO,{styles:BO(a,!t,i,r?"":"!important")})},bp=!1;if(typeof window<"u")try{var M0=Object.defineProperty({},"passive",{get:function(){return bp=!0,!0}});window.addEventListener("test",M0,M0),window.removeEventListener("test",M0,M0)}catch{bp=!1}var Go=bp?{passive:!1}:!1,VO=function(e){return e.tagName==="TEXTAREA"},aA=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!VO(e)&&r[t]==="visible")},WO=function(e){return aA(e,"overflowY")},HO=function(e){return aA(e,"overflowX")},hv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=oA(e,n);if(i){var a=lA(e,n),l=a[1],u=a[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},GO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},oA=function(e,t){return e==="v"?WO(t):HO(t)},lA=function(e,t){return e==="v"?zO(t):GO(t)},$O=function(e,t){return e==="h"&&t==="rtl"?-1:1},XO=function(e,t,r,n,i){var a=$O(e,window.getComputedStyle(t).direction),l=a*n,u=r.target,d=t.contains(u),p=!1,x=l>0,v=0,E=0;do{if(!u)break;var y=lA(e,u),A=y[0],_=y[1],S=y[2],b=_-S-a*A;(A||b)&&oA(e,u)&&(v+=b,E+=A);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(x&&(Math.abs(v)<1||!i)||!x&&(Math.abs(E)<1||!i))&&(p=!0),p},L0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dv=function(e){return[e.deltaX,e.deltaY]},pv=function(e){return e&&"current"in e?e.current:e},KO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qO=0,$o=[];function ZO(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(qO++)[0],a=j.useState(sA)[0],l=j.useRef(e);j.useEffect(function(){l.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=vO([e.lockRef.current],(e.shards||[]).map(pv),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=j.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var b=L0(_),k=r.current,T="deltaX"in _?_.deltaX:k[0]-b[0],O="deltaY"in _?_.deltaY:k[1]-b[1],B,F=_.target,R=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in _&&R==="h"&&F.type==="range")return!1;var z=hv(R,F);if(!z)return!0;if(z?B=R:(B=R==="v"?"h":"v",z=hv(R,F)),!z)return!1;if(!n.current&&"changedTouches"in _&&(T||O)&&(n.current=B),!B)return!0;var M=n.current||B;return XO(M,S,_,M==="h"?T:O,!0)},[]),d=j.useCallback(function(_){var S=_;if(!(!$o.length||$o[$o.length-1]!==a)){var b="deltaY"in S?dv(S):L0(S),k=t.current.filter(function(B){return B.name===S.type&&(B.target===S.target||S.target===B.shadowParent)&&KO(B.delta,b)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var T=(l.current.shards||[]).map(pv).filter(Boolean).filter(function(B){return B.contains(S.target)}),O=T.length>0?u(S,T[0]):!l.current.noIsolation;O&&S.cancelable&&S.preventDefault()}}},[]),p=j.useCallback(function(_,S,b,k){var T={name:_,delta:S,target:b,should:k,shadowParent:QO(b)};t.current.push(T),setTimeout(function(){t.current=t.current.filter(function(O){return O!==T})},1)},[]),x=j.useCallback(function(_){r.current=L0(_),n.current=void 0},[]),v=j.useCallback(function(_){p(_.type,dv(_),_.target,u(_,e.lockRef.current))},[]),E=j.useCallback(function(_){p(_.type,L0(_),_.target,u(_,e.lockRef.current))},[]);j.useEffect(function(){return $o.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",d,Go),document.addEventListener("touchmove",d,Go),document.addEventListener("touchstart",x,Go),function(){$o=$o.filter(function(_){return _!==a}),document.removeEventListener("wheel",d,Go),document.removeEventListener("touchmove",d,Go),document.removeEventListener("touchstart",x,Go)}},[]);var y=e.removeScrollBar,A=e.inert;return j.createElement(j.Fragment,null,A?j.createElement(a,{styles:YO(i)}):null,y?j.createElement(jO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const JO=bO(iA,ZO);var cA=j.forwardRef(function(e,t){return j.createElement(zh,ds({},e,{ref:t,sideCar:JO}))});cA.classNames=zh.classNames;var eN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xo=new WeakMap,B0=new WeakMap,U0={},Qd=0,uA=function(e){return e&&(e.host||uA(e.parentNode))},tN=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=uA(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rN=function(e,t,r,n){var i=tN(t,Array.isArray(e)?e:[e]);U0[r]||(U0[r]=new WeakMap);var a=U0[r],l=[],u=new Set,d=new Set(i),p=function(v){!v||u.has(v)||(u.add(v),p(v.parentNode))};i.forEach(p);var x=function(v){!v||d.has(v)||Array.prototype.forEach.call(v.children,function(E){if(u.has(E))x(E);else try{var y=E.getAttribute(n),A=y!==null&&y!=="false",_=(Xo.get(E)||0)+1,S=(a.get(E)||0)+1;Xo.set(E,_),a.set(E,S),l.push(E),_===1&&A&&B0.set(E,!0),S===1&&E.setAttribute(r,"true"),A||E.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",E,b)}})};return x(t),u.clear(),Qd++,function(){l.forEach(function(v){var E=Xo.get(v)-1,y=a.get(v)-1;Xo.set(v,E),a.set(v,y),E||(B0.has(v)||v.removeAttribute(n),B0.delete(v)),y||v.removeAttribute(r)}),Qd--,Qd||(Xo=new WeakMap,Xo=new WeakMap,B0=new WeakMap,U0={})}},nN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=eN(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),rN(n,i,r,"aria-hidden")):function(){return null}},Gh="Dialog",[fA,UV]=qu(Gh),[iN,es]=fA(Gh),hA=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:l=!0}=e,u=j.useRef(null),d=j.useRef(null),[p,x]=S_({prop:n,defaultProp:i??!1,onChange:a,caller:Gh});return V.jsx(iN,{scope:t,triggerRef:u,contentRef:d,contentId:Wd(),titleId:Wd(),descriptionId:Wd(),open:p,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(v=>!v),[x]),modal:l,children:r})};hA.displayName=Gh;var dA="DialogTrigger",sN=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=es(dA,r),a=Nn(t,i.triggerRef);return V.jsx(Ir.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":px(i.open),...n,ref:a,onClick:ir(e.onClick,i.onOpenToggle)})});sN.displayName=dA;var hx="DialogPortal",[aN,pA]=fA(hx,{forceMount:void 0}),gA=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=es(hx,t);return V.jsx(aN,{scope:t,forceMount:r,children:j.Children.map(n,l=>V.jsx(rc,{present:r||a.open,children:V.jsx(Kg,{asChild:!0,container:i,children:l})}))})};gA.displayName=hx;var qf="DialogOverlay",xA=j.forwardRef((e,t)=>{const r=pA(qf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=es(qf,e.__scopeDialog);return a.modal?V.jsx(rc,{present:n||a.open,children:V.jsx(lN,{...i,ref:t})}):null});xA.displayName=qf;var oN=_u("DialogOverlay.RemoveScroll"),lN=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=es(qf,r);return V.jsx(cA,{as:oN,allowPinchZoom:!0,shards:[i.contentRef],children:V.jsx(Ir.div,{"data-state":px(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),So="DialogContent",mA=j.forwardRef((e,t)=>{const r=pA(So,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=es(So,e.__scopeDialog);return V.jsx(rc,{present:n||a.open,children:a.modal?V.jsx(cN,{...i,ref:t}):V.jsx(uN,{...i,ref:t})})});mA.displayName=So;var cN=j.forwardRef((e,t)=>{const r=es(So,e.__scopeDialog),n=j.useRef(null),i=Nn(t,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return nN(a)},[]),V.jsx(vA,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ir(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ir(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:ir(e.onFocusOutside,a=>a.preventDefault())})}),uN=j.forwardRef((e,t)=>{const r=es(So,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return V.jsx(vA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var d,p;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((p=r.triggerRef.current)==null?void 0:p.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),vA=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=e,u=es(So,r),d=j.useRef(null),p=Nn(t,d);return xO(),V.jsxs(V.Fragment,{children:[V.jsx(tA,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:V.jsx(Rh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":px(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),V.jsxs(V.Fragment,{children:[V.jsx(fN,{titleId:u.titleId}),V.jsx(dN,{contentRef:d,descriptionId:u.descriptionId})]})]})}),dx="DialogTitle",wA=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=es(dx,r);return V.jsx(Ir.h2,{id:i.titleId,...n,ref:t})});wA.displayName=dx;var yA="DialogDescription",EA=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=es(yA,r);return V.jsx(Ir.p,{id:i.descriptionId,...n,ref:t})});EA.displayName=yA;var _A="DialogClose",AA=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=es(_A,r);return V.jsx(Ir.button,{type:"button",...n,ref:t,onClick:ir(e.onClick,()=>i.onOpenChange(!1))})});AA.displayName=_A;function px(e){return e?"open":"closed"}var CA="DialogTitleWarning",[jV,TA]=Pb(CA,{contentName:So,titleName:dx,docsSlug:"dialog"}),fN=({titleId:e})=>{const t=TA(CA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},hN="DialogDescriptionWarning",dN=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${TA(hN).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},pN=hA,gN=gA,SA=xA,bA=mA,kA=wA,IA=EA,xN=AA;const RA=pN,mN=gN,OA=j.forwardRef(({className:e,...t},r)=>V.jsx(SA,{ref:r,className:Kn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));OA.displayName=SA.displayName;const gx=j.forwardRef(({className:e,children:t,...r},n)=>V.jsxs(mN,{children:[V.jsx(OA,{}),V.jsxs(bA,{ref:n,className:Kn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,V.jsxs(xN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[V.jsx(Dh,{className:"h-4 w-4"}),V.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gx.displayName=bA.displayName;const xx=({className:e,...t})=>V.jsx("div",{className:Kn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});xx.displayName="DialogHeader";const mx=j.forwardRef(({className:e,...t},r)=>V.jsx(kA,{ref:r,className:Kn("text-lg font-semibold leading-none tracking-tight",e),...t}));mx.displayName=kA.displayName;const vN=j.forwardRef(({className:e,...t},r)=>V.jsx(IA,{ref:r,className:Kn("text-sm text-muted-foreground",e),...t}));vN.displayName=IA.displayName;const wN="Admin",yN="Abbas@123",NA=({isOpen:e,onClose:t,onSuccess:r,title:n="Admin Authentication"})=>{const[i,a]=j.useState(""),[l,u]=j.useState(""),[d,p]=j.useState(""),[x,v]=j.useState(!1),{toast:E}=Yu(),y=async A=>{A.preventDefault(),p(""),v(!0),await new Promise(_=>setTimeout(_,500)),i===wN&&l===yN?(E({title:"Authentication Successful",description:"Welcome, Admin!"}),a(""),u(""),r()):(p("Invalid credentials. Please try again."),navigator.vibrate&&navigator.vibrate([100,50,100])),v(!1)};return V.jsx(RA,{open:e,onOpenChange:t,children:V.jsxs(gx,{className:"glass-card border-border/50 max-w-md",children:[V.jsxs(xx,{children:[V.jsx("div",{className:"flex items-center justify-center mb-4",children:V.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-neon-purple to-neon-pink flex items-center justify-center shadow-neon-purple",children:V.jsx(W8,{className:"w-8 h-8 text-secondary-foreground"})})}),V.jsx(mx,{className:"text-center text-xl font-black tracking-wide",children:n}),V.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Enter admin credentials to continue"})]}),V.jsxs("form",{onSubmit:y,className:"space-y-4 mt-4",children:[V.jsx("div",{className:"space-y-2",children:V.jsxs("div",{className:"relative",children:[V.jsx(Q_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),V.jsx(Yf,{type:"text",placeholder:"Username",value:i,onChange:A=>a(A.target.value),className:"pl-11",autoComplete:"username"})]})}),V.jsx("div",{className:"space-y-2",children:V.jsxs("div",{className:"relative",children:[V.jsx(q_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),V.jsx(Yf,{type:"password",placeholder:"Password",value:l,onChange:A=>u(A.target.value),className:"pl-11",autoComplete:"current-password"})]})}),d&&V.jsxs("div",{className:"flex items-center gap-2 text-destructive text-sm bg-destructive/10 px-3 py-2 rounded-lg",children:[V.jsx(N8,{className:"w-4 h-4 flex-shrink-0"}),V.jsx("span",{children:d})]}),V.jsxs("div",{className:"flex gap-3 pt-2",children:[V.jsx(ys,{type:"button",variant:"ghost",onClick:t,className:"flex-1",children:"Cancel"}),V.jsx(ys,{type:"submit",variant:"secondary",className:"flex-1",disabled:x||!i||!l,children:x?"Verifying...":"Authenticate"})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var DA=1252,EN=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vx={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},wx=function(e){EN.indexOf(e)!=-1&&(DA=vx[0]=e)};function _N(){wx(1252)}var $i=function(e){wx(e)};function PA(){$i(1200),_N()}function gv(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function AN(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function FA(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Dc=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?AN(e.slice(2)):t==254&&r==255?FA(e.slice(2)):t==65279?e.slice(1):e},j0=function(t){return String.fromCharCode(t)},xv=function(t){return String.fromCharCode(t)},pa,Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mv(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0,d=0,p=0;p<e.length;)r=e.charCodeAt(p++),a=r>>2,n=e.charCodeAt(p++),l=(r&3)<<4|n>>4,i=e.charCodeAt(p++),u=(n&15)<<2|i>>6,d=i&63,isNaN(n)?u=d=64:isNaN(i)&&(d=64),t+=Ta.charAt(a)+Ta.charAt(l)+Ta.charAt(u)+Ta.charAt(d);return t}function fi(e){var t="",r=0,n=0,i=0,a=0,l=0,u=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var p=0;p<e.length;)a=Ta.indexOf(e.charAt(p++)),l=Ta.indexOf(e.charAt(p++)),r=a<<2|l>>4,t+=String.fromCharCode(r),u=Ta.indexOf(e.charAt(p++)),n=(l&15)<<4|u>>2,u!==64&&(t+=String.fromCharCode(n)),d=Ta.indexOf(e.charAt(p++)),i=(u&3)<<6|d,d!==64&&(t+=String.fromCharCode(i));return t}var bt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),No=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function ja(e){return bt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function vv(e){return bt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Gi=function(t){return bt?No(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Do(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function yx(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return yx(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ga=bt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:No(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function CN(e){for(var t=[],r=0,n=e.length+250,i=ja(e.length+255),a=0;a<e.length;++a){var l=e.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(t.push(i.slice(0,r)),r=0,i=ja(65535),n=65530)}return t.push(i.slice(0,r)),ga(t)}var On=/\u0000/g,Pc=/[\u0001-\u0006]/g;function Rl(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xi(e,t){var r=""+e;return r.length>=t?r:mr("0",t-r.length)+r}function Ex(e,t){var r=""+e;return r.length>=t?r:mr(" ",t-r.length)+r}function Zf(e,t){var r=""+e;return r.length>=t?r:r+mr(" ",t-r.length)}function TN(e,t){var r=""+Math.round(e);return r.length>=t?r:mr("0",t-r.length)+r}function SN(e,t){var r=""+e;return r.length>=t?r:mr("0",t-r.length)+r}var wv=Math.pow(2,32);function Ko(e,t){if(e>wv||e<-wv)return TN(e,t);var r=Math.round(e);return SN(r,t)}function Qf(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var yv=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jd=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function bN(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Ev={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kN={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Jf(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,l=1,u=0,d=1,p=0,x=0,v=Math.floor(i);p<t&&(v=Math.floor(i),u=v*l+a,x=v*p+d,!(i-v<5e-8));)i=1/(i-v),a=l,l=u,d=p,p=x;if(x>t&&(p>t?(x=d,u=a):(x=p,u=l)),!r)return[0,n*u,x];var E=Math.floor(n*u/x);return[E,n*u-E*x,x]}function oo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,l=[],u={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),t&&t.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=PN(d,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=a,u}var MA=new Date(1899,11,31,0,0,0),IN=MA.getTime(),RN=new Date(1900,2,1,0,0,0);function LA(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=RN&&(r+=24*60*60*1e3),(r-(IN+(e.getTimezoneOffset()-MA.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function _x(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ON(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function NN(e){var t=e<0?12:11,r=_x(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function DN(e){var t=_x(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function bu(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=NN(e):t===10?r=e.toFixed(10).substr(0,12):r=DN(e),_x(ON(r.toUpperCase()))}function bo(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):bu(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ki(14,LA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function PN(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function FN(e,t,r,n){var i="",a=0,l=0,u=r.y,d,p=0;switch(e){case 98:u=r.y+543;case 121:switch(t.length){case 1:case 2:d=u%100,p=2;break;default:d=u%1e4,p=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,p=t.length;break;case 3:return Jd[r.m-1][1];case 5:return Jd[r.m-1][0];default:return Jd[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,p=t.length;break;case 3:return yv[r.q][0];default:return yv[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,p=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,p=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,p=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xi(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),t==="s"?a===0?"0":""+a/l:(i=Xi(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}p=t.length===3?1:2;break;case 101:d=u,p=1;break}var x=p>0?Xi(d,p):"";return x}function Sa(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var BA=/%/g;function MN(e,t,r){var n=t.replace(BA,""),i=t.length-n.length;return Bs(e,n,r*Math.pow(10,2*i))+mr("%",i)}function LN(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function UA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UA(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,p,x){return d+p+x.substr(0,(i+a)%i)+"."+x.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var jA=/# (\?+)( ?)\/( ?)(\d+)/;function BN(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),l=i-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?mr(" ",e[1].length+1+e[4].length):Ex(l,e[1].length)+e[2]+"/"+e[3]+Xi(u,e[4].length))}function UN(e,t,r){return r+(t===0?"":""+t)+mr(" ",e[1].length+2+e[4].length)}var VA=/^#*0*\.([0#]+)/,WA=/\).*[0#]/,HA=/\(###\) ###\\?-####/;function Sn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function _v(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Av(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function jN(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function VN(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function wi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(WA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?wi("n",n,r):"("+wi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return LN(e,t,r);if(t.indexOf("%")!==-1)return MN(e,t,r);if(t.indexOf("E")!==-1)return UA(t,r);if(t.charCodeAt(0)===36)return"$"+wi(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,d=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Ko(d,t.length);if(t.match(/^[#?]+$/))return i=Ko(r,0),i==="0"&&(i=""),i.length>t.length?i:Sn(t.substr(0,t.length-i.length))+i;if(a=t.match(jA))return BN(a,d,p);if(t.match(/^#+0+$/))return p+Ko(d,t.length-t.indexOf("0"));if(a=t.match(VA))return i=_v(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Sn(a[1])).replace(/\.$/,"."+Sn(a[1])).replace(/\.(\d*)$/,function(A,_){return"."+_+mr("0",Sn(a[1]).length-_.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+_v(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+Sa(Ko(d,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+wi(e,t,-r):Sa(""+(Math.floor(r)+jN(r,a[1].length)))+"."+Xi(Av(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return wi(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rl(wi(e,t.replace(/[\\-]/g,""),r)),l=0,Rl(Rl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(HA))return i=wi(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Jf(d,Math.pow(10,l)-1,!1),i=""+p,x=Bs("n",a[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+a[2]+"/"+a[3],x=Zf(u[2],l),x.length<a[4].length&&(x=Sn(a[4].substr(a[4].length-x.length))+x),i+=x,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Jf(d,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Ex(u[1],l)+a[2]+"/"+a[3]+Zf(u[2],l):mr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Ko(r,0),t.length<=i.length?i:Sn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,E=t.length-i.length-v;return Sn(t.substr(0,v)+i+t.substr(t.length-E))}if(a=t.match(/^00,000\.([#0]*0)$/))return l=Av(r,a[1].length),r<0?"-"+wi(e,t,-r):Sa(VN(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Xi(0,3-A.length):"")+A})+"."+Xi(l,a[1].length);switch(t){case"###,##0.00":return wi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=Sa(Ko(d,0));return y!=="0"?p+y:"";case"###,###.00":return wi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return wi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function WN(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function HN(e,t,r){var n=t.replace(BA,""),i=t.length-n.length;return Bs(e,n,r*Math.pow(10,2*i))+mr("%",i)}function zA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+zA(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,p,x){return d+p+x.substr(0,(i+a)%i)+"."+x.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function os(e,t,r){if(e.charCodeAt(0)===40&&!t.match(WA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?os("n",n,r):"("+os("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return WN(e,t,r);if(t.indexOf("%")!==-1)return HN(e,t,r);if(t.indexOf("E")!==-1)return zA(t,r);if(t.charCodeAt(0)===36)return"$"+os(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,l,u,d=Math.abs(r),p=r<0?"-":"";if(t.match(/^00+$/))return p+Xi(d,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Sn(t.substr(0,t.length-i.length))+i;if(a=t.match(jA))return UN(a,d,p);if(t.match(/^#+0+$/))return p+Xi(d,t.length-t.indexOf("0"));if(a=t.match(VA))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Sn(a[1])).replace(/\.$/,"."+Sn(a[1])),i=i.replace(/\.(\d*)$/,function(A,_){return"."+_+mr("0",Sn(a[1]).length-_.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return p+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return p+Sa(""+d);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+os(e,t,-r):Sa(""+r)+"."+mr("0",a[1].length);if(a=t.match(/^#,#*,#0/))return os(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rl(os(e,t.replace(/[\\-]/g,""),r)),l=0,Rl(Rl(t.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(t.match(HA))return i=os(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var x="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Jf(d,Math.pow(10,l)-1,!1),i=""+p,x=Bs("n",a[1],u[1]),x.charAt(x.length-1)==" "&&(x=x.substr(0,x.length-1)+"0"),i+=x+a[2]+"/"+a[3],x=Zf(u[2],l),x.length<a[4].length&&(x=Sn(a[4].substr(a[4].length-x.length))+x),i+=x,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Jf(d,Math.pow(10,l)-1,!0),p+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Ex(u[1],l)+a[2]+"/"+a[3]+Zf(u[2],l):mr(" ",2*l+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Sn(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=t.indexOf(".")-l,E=t.length-i.length-v;return Sn(t.substr(0,v)+i+t.substr(t.length-E))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+os(e,t,-r):Sa(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Xi(0,3-A.length):"")+A})+"."+Xi(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=Sa(""+d);return y!=="0"?p+y:"";default:if(t.match(/\.[0#?]*$/))return os(e,t.slice(0,t.lastIndexOf(".")),r)+Sn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bs(e,t,r){return(r|0)===r?os(e,t,r):wi(e,t,r)}function zN(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function oc(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Qf(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(GA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function GN(e,t,r,n){for(var i=[],a="",l=0,u="",d="t",p,x,v,E="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!Qf(e,l))throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(v=e.charCodeAt(++l))!==34&&l<e.length;)a+=String.fromCharCode(v);i[i.length]={t:"t",v:a},++l;break;case"\\":var y=e.charAt(++l),A=y==="("||y===")"?y:"t";i[i.length]={t:A,v:y},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(p==null&&(p=oo(t,r,e.charAt(l+1)==="2"),p==null))return"";i[i.length]={t:"X",v:e.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||p==null&&(p=oo(t,r),p==null))return"";for(a=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=E),i[i.length]={t:u,v:a},d=u;break;case"A":case"a":case"":var _={t:u,v:u};if(p==null&&(p=oo(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(p!=null&&(_.v=p.H>=12?"P":"A"),_.t="T",E="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(p!=null&&(_.v=p.H>=12?"PM":"AM"),_.t="T",l+=5,E="h"):e.substr(l,5).toUpperCase()==="/"?(p!=null&&(_.v=p.H>=12?"":""),_.t="T",l+=5,E="h"):(_.t="t",++l),p==null&&_.t==="T")return"";i[i.length]=_,d=u;break;case"[":for(a=u;e.charAt(l++)!=="]"&&l<e.length;)a+=e.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(GA)){if(p==null&&(p=oo(t,r),p==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",oc(e)||(i[i.length]={t:"t",v:a}));break;case".":if(p!=null){for(a=u;++l<e.length&&(u=e.charAt(l))==="0";)a+=u;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)a+=u;i[i.length]={t:"n",v:a};break;case"?":for(a=u;e.charAt(++l)===u;)a+=u;i[i.length]={t:u,v:a},d=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)a+=e.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);i[i.length]={t:"t",v:u},++l;break}var S=0,b=0,k;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=E,d="h",S<1&&(S=1);break;case"s":(k=i[l].v.match(/\.0+$/))&&(b=Math.max(b,k[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[l].v.match(/[Hh]/)&&(S=1),S<2&&i[l].v.match(/[Mm]/)&&(S=2),S<3&&i[l].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M),p.M>=60&&(p.M=0,++p.H);break;case 2:p.u>=.5&&(p.u=0,++p.S),p.S>=60&&(p.S=0,++p.M);break}var T="",O;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=FN(i[l].t.charCodeAt(0),i[l].v,p,b),i[l].t="t";break;case"n":case"?":for(O=l+1;i[O]!=null&&((u=i[O].t)==="?"||u==="D"||(u===" "||u==="t")&&i[O+1]!=null&&(i[O+1].t==="?"||i[O+1].t==="t"&&i[O+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[O].v==="/"||i[O].v===" "&&i[O+1]!=null&&i[O+1].t=="?"));)i[l].v+=i[O].v,i[O]={v:"",t:";"},++O;T+=i[l].v,l=O-1;break;case"G":i[l].t="t",i[l].v=bo(t,r);break}var B="",F,R;if(T.length>0){T.charCodeAt(0)==40?(F=t<0&&T.charCodeAt(0)===45?-t:t,R=Bs("n",T,F)):(F=t<0&&n>1?-t:t,R=Bs("n",T,F),F<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),O=R.length-1;var z=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){z=l;break}var M=i.length;if(z===i.length&&R.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(O>=i[l].v.length-1?(O-=i[l].v.length,i[l].v=R.substr(O+1,i[l].v.length)):O<0?i[l].v="":(i[l].v=R.substr(0,O+1),O=-1),i[l].t="t",M=l);O>=0&&M<i.length&&(i[M].v=R.substr(0,O+1)+i[M].v)}else if(z!==i.length&&R.indexOf("E")===-1){for(O=R.indexOf(".")-1,l=z;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(x=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")-1:i[l].v.length-1,B=i[l].v.substr(x+1);x>=0;--x)O>=0&&(i[l].v.charAt(x)==="0"||i[l].v.charAt(x)==="#")&&(B=R.charAt(O--)+B);i[l].v=B,i[l].t="t",M=l}for(O>=0&&M<i.length&&(i[M].v=R.substr(0,O+1)+i[M].v),O=R.indexOf(".")+1,l=z;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==z)){for(x=i[l].v.indexOf(".")>-1&&l===z?i[l].v.indexOf(".")+1:0,B=i[l].v.substr(0,x);x<i[l].v.length;++x)O<R.length&&(B+=R.charAt(O++));i[l].v=B,i[l].t="t",M=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(F=n>1&&t<0&&l>0&&i[l-1].v==="-"?-t:t,i[l].v=Bs(i[l].t,i[l].v,F),i[l].t="t");var te="";for(l=0;l!==i.length;++l)i[l]!=null&&(te+=i[l].v);return te}var Cv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Tv(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function $N(e,t){var r=zN(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(Cv),u=r[1].match(Cv);return Tv(t,l)?[n,r[0]]:Tv(t,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function ki(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:gt)[e],n==null&&(n=r.table&&r.table[Ev[e]]||gt[Ev[e]]),n==null&&(n=kN[e]||"General");break}if(Qf(n,0))return bo(t,r);t instanceof Date&&(t=LA(t,r.date1904));var i=$N(n,t);if(Qf(i[1]))return bo(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return GN(i[1],t,r,i[0])}function vo(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(gt[r]==null){t<0&&(t=r);continue}if(gt[r]==e){t=r;break}}t<0&&(t=391)}return gt[t]=e,t}function $A(){gt=bN()}var XN={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function KN(e){var t=typeof e=="number"?gt[e]:e;return t=t.replace(XA,"(\\d+)"),new RegExp("^"+t+"$")}function YN(e,t,r){var n=-1,i=-1,a=-1,l=-1,u=-1,d=-1;(t.match(XA)||[]).forEach(function(v,E){var y=parseInt(r[E+1],10);switch(v.toLowerCase().charAt(0)){case"y":n=y;break;case"d":a=y;break;case"h":l=y;break;case"s":d=y;break;case"m":l>=0?u=y:i=y;break}}),d>=0&&u==-1&&i>=0&&(u=i,i=-1);var p=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);p.length==7&&(p="0"+p),p.length==8&&(p="20"+p);var x=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&u==-1&&d==-1?p:n==-1&&i==-1&&a==-1?x:p+"T"+x}var qN=function(){var e={};e.version="1.2.0";function t(){for(var R=0,z=new Array(256),M=0;M!=256;++M)R=M,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,z[M]=R;return typeof Int32Array<"u"?new Int32Array(z):z}var r=t();function n(R){var z=0,M=0,te=0,ae=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(te=0;te!=256;++te)ae[te]=R[te];for(te=0;te!=256;++te)for(M=R[te],z=256+te;z<4096;z+=256)M=ae[z]=M>>>8^R[M&255];var q=[];for(te=1;te!=16;++te)q[te-1]=typeof Int32Array<"u"?ae.subarray(te*256,te*256+256):ae.slice(te*256,te*256+256);return q}var i=n(r),a=i[0],l=i[1],u=i[2],d=i[3],p=i[4],x=i[5],v=i[6],E=i[7],y=i[8],A=i[9],_=i[10],S=i[11],b=i[12],k=i[13],T=i[14];function O(R,z){for(var M=z^-1,te=0,ae=R.length;te<ae;)M=M>>>8^r[(M^R.charCodeAt(te++))&255];return~M}function B(R,z){for(var M=z^-1,te=R.length-15,ae=0;ae<te;)M=T[R[ae++]^M&255]^k[R[ae++]^M>>8&255]^b[R[ae++]^M>>16&255]^S[R[ae++]^M>>>24]^_[R[ae++]]^A[R[ae++]]^y[R[ae++]]^E[R[ae++]]^v[R[ae++]]^x[R[ae++]]^p[R[ae++]]^d[R[ae++]]^u[R[ae++]]^l[R[ae++]]^a[R[ae++]]^r[R[ae++]];for(te+=15;ae<te;)M=M>>>8^r[(M^R[ae++])&255];return~M}function F(R,z){for(var M=z^-1,te=0,ae=R.length,q=0,de=0;te<ae;)q=R.charCodeAt(te++),q<128?M=M>>>8^r[(M^q)&255]:q<2048?(M=M>>>8^r[(M^(192|q>>6&31))&255],M=M>>>8^r[(M^(128|q&63))&255]):q>=55296&&q<57344?(q=(q&1023)+64,de=R.charCodeAt(te++)&1023,M=M>>>8^r[(M^(240|q>>8&7))&255],M=M>>>8^r[(M^(128|q>>2&63))&255],M=M>>>8^r[(M^(128|de>>6&15|(q&3)<<4))&255],M=M>>>8^r[(M^(128|de&63))&255]):(M=M>>>8^r[(M^(224|q>>12&15))&255],M=M>>>8^r[(M^(128|q>>6&63))&255],M=M>>>8^r[(M^(128|q&63))&255]);return~M}return e.table=r,e.bstr=O,e.buf=B,e.str=F,e}(),It=function(){var t={};t.version="1.2.1";function r(P,U){for(var W=P.split("/"),G=U.split("/"),K=0,Z=0,he=Math.min(W.length,G.length);K<he;++K){if(Z=W[K].length-G[K].length)return Z;if(W[K]!=G[K])return W[K]<G[K]?-1:1}return W.length-G.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var U=P.lastIndexOf("/");return U===-1?P:P.slice(0,U+1)}function i(P){if(P.charAt(P.length-1)=="/")return i(P.slice(0,-1));var U=P.lastIndexOf("/");return U===-1?P:P.slice(U+1)}function a(P,U){typeof U=="string"&&(U=new Date(U));var W=U.getHours();W=W<<6|U.getMinutes(),W=W<<5|U.getSeconds()>>>1,P.write_shift(2,W);var G=U.getFullYear()-1980;G=G<<4|U.getMonth()+1,G=G<<5|U.getDate(),P.write_shift(2,G)}function l(P){var U=P.read_shift(2)&65535,W=P.read_shift(2)&65535,G=new Date,K=W&31;W>>>=5;var Z=W&15;W>>>=4,G.setMilliseconds(0),G.setFullYear(W+1980),G.setMonth(Z-1),G.setDate(K);var he=U&31;U>>>=5;var Ae=U&63;return U>>>=6,G.setHours(U),G.setMinutes(Ae),G.setSeconds(he<<1),G}function u(P){en(P,0);for(var U={},W=0;P.l<=P.length-4;){var G=P.read_shift(2),K=P.read_shift(2),Z=P.l+K,he={};switch(G){case 21589:W=P.read_shift(1),W&1&&(he.mtime=P.read_shift(4)),K>5&&(W&2&&(he.atime=P.read_shift(4)),W&4&&(he.ctime=P.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}P.l=Z,U[G]=he}return U}var d;function p(){return d||(d={})}function x(P,U){if(P[0]==80&&P[1]==75)return Zs(P,U);if((P[0]|32)==109&&(P[1]|32)==105)return jr(P,U);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var W=3,G=512,K=0,Z=0,he=0,Ae=0,ce=0,ge=[],me=P.slice(0,512);en(me,0);var ke=v(me);switch(W=ke[0],W){case 3:G=512;break;case 4:G=4096;break;case 0:if(ke[1]==0)return Zs(P,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}G!==512&&(me=P.slice(0,G),en(me,28));var Ne=P.slice(0,G);E(me,W);var Me=me.read_shift(4,"i");if(W===3&&Me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Me);me.l+=4,he=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),Ae=me.read_shift(4,"i"),K=me.read_shift(4,"i"),ce=me.read_shift(4,"i"),Z=me.read_shift(4,"i");for(var Ue=-1,We=0;We<109&&(Ue=me.read_shift(4,"i"),!(Ue<0));++We)ge[We]=Ue;var at=y(P,G);S(ce,Z,at,G,ge);var Ee=k(at,he,ge,G);Ee[he].name="!Directory",K>0&&Ae!==de&&(Ee[Ae].name="!MiniFAT"),Ee[ge[0]].name="!FAT",Ee.fat_addrs=ge,Ee.ssz=G;var qt={},vt=[],pi=[],$a=[];T(he,Ee,at,vt,K,qt,pi,Ae),A(pi,$a,vt),vt.shift();var Ct={FileIndex:pi,FullPaths:$a};return U&&U.raw&&(Ct.raw={header:Ne,sectors:at}),Ct}function v(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(pe,"Header Signature: "),P.l+=16;var U=P.read_shift(2,"u");return[P.read_shift(2,"u"),U]}function E(P,U){var W=9;switch(P.l+=2,W=P.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function y(P,U){for(var W=Math.ceil(P.length/U)-1,G=[],K=1;K<W;++K)G[K-1]=P.slice(K*U,(K+1)*U);return G[W-1]=P.slice(W*U),G}function A(P,U,W){for(var G=0,K=0,Z=0,he=0,Ae=0,ce=W.length,ge=[],me=[];G<ce;++G)ge[G]=me[G]=G,U[G]=W[G];for(;Ae<me.length;++Ae)G=me[Ae],K=P[G].L,Z=P[G].R,he=P[G].C,ge[G]===G&&(K!==-1&&ge[K]!==K&&(ge[G]=ge[K]),Z!==-1&&ge[Z]!==Z&&(ge[G]=ge[Z])),he!==-1&&(ge[he]=G),K!==-1&&G!=ge[G]&&(ge[K]=ge[G],me.lastIndexOf(K)<Ae&&me.push(K)),Z!==-1&&G!=ge[G]&&(ge[Z]=ge[G],me.lastIndexOf(Z)<Ae&&me.push(Z));for(G=1;G<ce;++G)ge[G]===G&&(Z!==-1&&ge[Z]!==Z?ge[G]=ge[Z]:K!==-1&&ge[K]!==K&&(ge[G]=ge[K]));for(G=1;G<ce;++G)if(P[G].type!==0){if(Ae=G,Ae!=ge[Ae])do Ae=ge[Ae],U[G]=U[Ae]+"/"+U[G];while(Ae!==0&&ge[Ae]!==-1&&Ae!=ge[Ae]);ge[G]=-1}for(U[0]+="/",G=1;G<ce;++G)P[G].type!==2&&(U[G]+="/")}function _(P,U,W){for(var G=P.start,K=P.size,Z=[],he=G;W&&K>0&&he>=0;)Z.push(U.slice(he*q,he*q+q)),K-=q,he=to(W,he*4);return Z.length===0?Pr(0):ga(Z).slice(0,P.size)}function S(P,U,W,G,K){var Z=de;if(P===de){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var he=W[P],Ae=(G>>>2)-1;if(!he)return;for(var ce=0;ce<Ae&&(Z=to(he,ce*4))!==de;++ce)K.push(Z);S(to(he,G-4),U-1,W,G,K)}}function b(P,U,W,G,K){var Z=[],he=[];K||(K=[]);var Ae=G-1,ce=0,ge=0;for(ce=U;ce>=0;){K[ce]=!0,Z[Z.length]=ce,he.push(P[ce]);var me=W[Math.floor(ce*4/G)];if(ge=ce*4&Ae,G<4+ge)throw new Error("FAT boundary crossed: "+ce+" 4 "+G);if(!P[me])break;ce=to(P[me],ge)}return{nodes:Z,data:Fv([he])}}function k(P,U,W,G){var K=P.length,Z=[],he=[],Ae=[],ce=[],ge=G-1,me=0,ke=0,Ne=0,Me=0;for(me=0;me<K;++me)if(Ae=[],Ne=me+U,Ne>=K&&(Ne-=K),!he[Ne]){ce=[];var Ue=[];for(ke=Ne;ke>=0;){Ue[ke]=!0,he[ke]=!0,Ae[Ae.length]=ke,ce.push(P[ke]);var We=W[Math.floor(ke*4/G)];if(Me=ke*4&ge,G<4+Me)throw new Error("FAT boundary crossed: "+ke+" 4 "+G);if(!P[We]||(ke=to(P[We],Me),Ue[ke]))break}Z[Ne]={nodes:Ae,data:Fv([ce])}}return Z}function T(P,U,W,G,K,Z,he,Ae){for(var ce=0,ge=G.length?2:0,me=U[P].data,ke=0,Ne=0,Me;ke<me.length;ke+=128){var Ue=me.slice(ke,ke+128);en(Ue,64),Ne=Ue.read_shift(2),Me=bx(Ue,0,Ne-ge),G.push(Me);var We={name:Me,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},at=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);at!==0&&(We.ct=O(Ue,Ue.l-8));var Ee=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);Ee!==0&&(We.mt=O(Ue,Ue.l-8)),We.start=Ue.read_shift(4,"i"),We.size=Ue.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=de,We.name=""),We.type===5?(ce=We.start,K>0&&ce!==de&&(U[ce].name="!StreamData")):We.size>=4096?(We.storage="fat",U[We.start]===void 0&&(U[We.start]=b(W,We.start,U.fat_addrs,U.ssz)),U[We.start].name=We.name,We.content=U[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:ce!==de&&We.start!==de&&U[ce]&&(We.content=_(We,U[ce].data,(U[Ae]||{}).data))),We.content&&en(We.content,0),Z[Me]=We,he.push(We)}}function O(P,U){return new Date((ni(P,U+4)/1e7*Math.pow(2,32)+ni(P,U)/1e7-11644473600)*1e3)}function B(P,U){return p(),x(d.readFileSync(P),U)}function F(P,U){var W=U&&U.type;switch(W||bt&&Buffer.isBuffer(P)&&(W="buffer"),W||"base64"){case"file":return B(P,U);case"base64":return x(Gi(fi(P)),U);case"binary":return x(Gi(P),U)}return x(P,U)}function R(P,U){var W=U||{},G=W.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=G+"/",P.FileIndex[0]={name:G,type:5}),W.CLSID&&(P.FileIndex[0].clsid=W.CLSID),z(P)}function z(P){var U="Sh33tJ5";if(!It.find(P,"/"+U)){var W=Pr(4);W[0]=55,W[1]=W[3]=50,W[2]=54,P.FileIndex.push({name:U,type:2,content:W,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+U),M(P)}}function M(P,U){R(P);for(var W=!1,G=!1,K=P.FullPaths.length-1;K>=0;--K){var Z=P.FileIndex[K];switch(Z.type){case 0:G?W=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Z.R*Z.L*Z.C)&&(W=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!U)){var he=new Date(1987,1,19),Ae=0,ce=Object.create?Object.create(null):{},ge=[];for(K=0;K<P.FullPaths.length;++K)ce[P.FullPaths[K]]=!0,P.FileIndex[K].type!==0&&ge.push([P.FullPaths[K],P.FileIndex[K]]);for(K=0;K<ge.length;++K){var me=n(ge[K][0]);G=ce[me],G||(ge.push([me,{name:i(me).replace("/",""),type:1,clsid:_e,ct:he,mt:he,content:null}]),ce[me]=!0)}for(ge.sort(function(Me,Ue){return r(Me[0],Ue[0])}),P.FullPaths=[],P.FileIndex=[],K=0;K<ge.length;++K)P.FullPaths[K]=ge[K][0],P.FileIndex[K]=ge[K][1];for(K=0;K<ge.length;++K){var ke=P.FileIndex[K],Ne=P.FullPaths[K];if(ke.name=i(Ne).replace("/",""),ke.L=ke.R=ke.C=-(ke.color=1),ke.size=ke.content?ke.content.length:0,ke.start=0,ke.clsid=ke.clsid||_e,K===0)ke.C=ge.length>1?1:-1,ke.size=0,ke.type=5;else if(Ne.slice(-1)=="/"){for(Ae=K+1;Ae<ge.length&&n(P.FullPaths[Ae])!=Ne;++Ae);for(ke.C=Ae>=ge.length?-1:Ae,Ae=K+1;Ae<ge.length&&n(P.FullPaths[Ae])!=n(Ne);++Ae);ke.R=Ae>=ge.length?-1:Ae,ke.type=1}else n(P.FullPaths[K+1]||"")==n(Ne)&&(ke.R=K+1),ke.type=2}}}function te(P,U){var W=U||{};if(W.fileType=="mad")return wr(P,W);switch(M(P),W.fileType){case"zip":return qn(P,W)}var G=function(Me){for(var Ue=0,We=0,at=0;at<Me.FileIndex.length;++at){var Ee=Me.FileIndex[at];if(Ee.content){var qt=Ee.content.length;qt>0&&(qt<4096?Ue+=qt+63>>6:We+=qt+511>>9)}}for(var vt=Me.FullPaths.length+3>>2,pi=Ue+7>>3,$a=Ue+127>>7,Ct=pi+We+vt+$a,wt=Ct+127>>7,yt=wt<=109?0:Math.ceil((wt-109)/127);Ct+wt+yt+127>>7>wt;)yt=++wt<=109?0:Math.ceil((wt-109)/127);var Zn=[1,yt,wt,$a,vt,We,Ue,0];return Me.FileIndex[0].size=Ue<<6,Zn[7]=(Me.FileIndex[0].start=Zn[0]+Zn[1]+Zn[2]+Zn[3]+Zn[4]+Zn[5])+(Zn[6]+7>>3),Zn}(P),K=Pr(G[7]<<9),Z=0,he=0;{for(Z=0;Z<8;++Z)K.write_shift(1,ee[Z]);for(Z=0;Z<8;++Z)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),Z=0;Z<3;++Z)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,G[2]),K.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:de),K.write_shift(4,G[3]),K.write_shift(-4,G[1]?G[0]-1:de),K.write_shift(4,G[1]),Z=0;Z<109;++Z)K.write_shift(-4,Z<G[2]?G[1]+Z:-1)}if(G[1])for(he=0;he<G[1];++he){for(;Z<236+he*127;++Z)K.write_shift(-4,Z<G[2]?G[1]+Z:-1);K.write_shift(-4,he===G[1]-1?de:he+1)}var Ae=function(Me){for(he+=Me;Z<he-1;++Z)K.write_shift(-4,Z+1);Me&&(++Z,K.write_shift(-4,de))};for(he=Z=0,he+=G[1];Z<he;++Z)K.write_shift(-4,xe.DIFSECT);for(he+=G[2];Z<he;++Z)K.write_shift(-4,xe.FATSECT);Ae(G[3]),Ae(G[4]);for(var ce=0,ge=0,me=P.FileIndex[0];ce<P.FileIndex.length;++ce)me=P.FileIndex[ce],me.content&&(ge=me.content.length,!(ge<4096)&&(me.start=he,Ae(ge+511>>9)));for(Ae(G[6]+7>>3);K.l&511;)K.write_shift(-4,xe.ENDOFCHAIN);for(he=Z=0,ce=0;ce<P.FileIndex.length;++ce)me=P.FileIndex[ce],me.content&&(ge=me.content.length,!(!ge||ge>=4096)&&(me.start=he,Ae(ge+63>>6)));for(;K.l&511;)K.write_shift(-4,xe.ENDOFCHAIN);for(Z=0;Z<G[4]<<2;++Z){var ke=P.FullPaths[Z];if(!ke||ke.length===0){for(ce=0;ce<17;++ce)K.write_shift(4,0);for(ce=0;ce<3;++ce)K.write_shift(4,-1);for(ce=0;ce<12;++ce)K.write_shift(4,0);continue}me=P.FileIndex[Z],Z===0&&(me.start=me.size?me.start-1:de);var Ne=Z===0&&W.root||me.name;if(ge=2*(Ne.length+1),K.write_shift(64,Ne,"utf16le"),K.write_shift(2,ge),K.write_shift(1,me.type),K.write_shift(1,me.color),K.write_shift(-4,me.L),K.write_shift(-4,me.R),K.write_shift(-4,me.C),me.clsid)K.write_shift(16,me.clsid,"hex");else for(ce=0;ce<4;++ce)K.write_shift(4,0);K.write_shift(4,me.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,me.start),K.write_shift(4,me.size),K.write_shift(4,0)}for(Z=1;Z<P.FileIndex.length;++Z)if(me=P.FileIndex[Z],me.size>=4096)if(K.l=me.start+1<<9,bt&&Buffer.isBuffer(me.content))me.content.copy(K,K.l,0,me.size),K.l+=me.size+511&-512;else{for(ce=0;ce<me.size;++ce)K.write_shift(1,me.content[ce]);for(;ce&511;++ce)K.write_shift(1,0)}for(Z=1;Z<P.FileIndex.length;++Z)if(me=P.FileIndex[Z],me.size>0&&me.size<4096)if(bt&&Buffer.isBuffer(me.content))me.content.copy(K,K.l,0,me.size),K.l+=me.size+63&-64;else{for(ce=0;ce<me.size;++ce)K.write_shift(1,me.content[ce]);for(;ce&63;++ce)K.write_shift(1,0)}if(bt)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function ae(P,U){var W=P.FullPaths.map(function(ce){return ce.toUpperCase()}),G=W.map(function(ce){var ge=ce.split("/");return ge[ge.length-(ce.slice(-1)=="/"?2:1)]}),K=!1;U.charCodeAt(0)===47?(K=!0,U=W[0].slice(0,-1)+U):K=U.indexOf("/")!==-1;var Z=U.toUpperCase(),he=K===!0?W.indexOf(Z):G.indexOf(Z);if(he!==-1)return P.FileIndex[he];var Ae=!Z.match(Pc);for(Z=Z.replace(On,""),Ae&&(Z=Z.replace(Pc,"!")),he=0;he<W.length;++he)if((Ae?W[he].replace(Pc,"!"):W[he]).replace(On,"")==Z||(Ae?G[he].replace(Pc,"!"):G[he]).replace(On,"")==Z)return P.FileIndex[he];return null}var q=64,de=-2,pe="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],_e="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:de,FREESECT:-1,HEADER_SIGNATURE:pe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ve(P,U,W){p();var G=te(P,W);d.writeFileSync(U,G)}function Q(P){for(var U=new Array(P.length),W=0;W<P.length;++W)U[W]=String.fromCharCode(P[W]);return U.join("")}function Ce(P,U){var W=te(P,U);switch(U&&U.type||"buffer"){case"file":return p(),d.writeFileSync(U.filename,W),W;case"binary":return typeof W=="string"?W:Q(W);case"base64":return mv(typeof W=="string"?W:Q(W));case"buffer":if(bt)return Buffer.isBuffer(W)?W:No(W);case"array":return typeof W=="string"?Gi(W):W}return W}var Be;function H(P){try{var U=P.InflateRaw,W=new U;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)Be=P;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function oe(P,U){if(!Be)return ts(P,U);var W=Be.InflateRaw,G=new W,K=G._processChunk(P.slice(P.l),G._finishFlushFlag);return P.l+=G.bytesRead,K}function re(P){return Be?Be.deflateRawSync(P):ot(P)}var ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function De(P){var U=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(U>>16|U>>8|U)&255}for(var Pe=typeof Uint8Array<"u",be=Pe?new Uint8Array(256):[],Ke=0;Ke<256;++Ke)be[Ke]=De(Ke);function J(P,U){var W=be[P&255];return U<=8?W>>>8-U:(W=W<<8|be[P>>8&255],U<=16?W>>>16-U:(W=W<<8|be[P>>16&255],W>>>24-U))}function $e(P,U){var W=U&7,G=U>>>3;return(P[G]|(W<=6?0:P[G+1]<<8))>>>W&3}function lt(P,U){var W=U&7,G=U>>>3;return(P[G]|(W<=5?0:P[G+1]<<8))>>>W&7}function dt(P,U){var W=U&7,G=U>>>3;return(P[G]|(W<=4?0:P[G+1]<<8))>>>W&15}function it(P,U){var W=U&7,G=U>>>3;return(P[G]|(W<=3?0:P[G+1]<<8))>>>W&31}function Re(P,U){var W=U&7,G=U>>>3;return(P[G]|(W<=1?0:P[G+1]<<8))>>>W&127}function Ze(P,U,W){var G=U&7,K=U>>>3,Z=(1<<W)-1,he=P[K]>>>G;return W<8-G||(he|=P[K+1]<<8-G,W<16-G)||(he|=P[K+2]<<16-G,W<24-G)||(he|=P[K+3]<<24-G),he&Z}function Qe(P,U,W){var G=U&7,K=U>>>3;return G<=5?P[K]|=(W&7)<<G:(P[K]|=W<<G&255,P[K+1]=(W&7)>>8-G),U+3}function Ur(P,U,W){var G=U&7,K=U>>>3;return W=(W&1)<<G,P[K]|=W,U+1}function He(P,U,W){var G=U&7,K=U>>>3;return W<<=G,P[K]|=W&255,W>>>=8,P[K+1]=W,U+8}function Yn(P,U,W){var G=U&7,K=U>>>3;return W<<=G,P[K]|=W&255,W>>>=8,P[K+1]=W&255,P[K+2]=W>>>8,U+16}function Rr(P,U){var W=P.length,G=2*W>U?2*W:U+5,K=0;if(W>=U)return P;if(bt){var Z=vv(G);if(P.copy)P.copy(Z);else for(;K<P.length;++K)Z[K]=P[K];return Z}else if(Pe){var he=new Uint8Array(G);if(he.set)he.set(P);else for(;K<W;++K)he[K]=P[K];return he}return P.length=G,P}function Kt(P){for(var U=new Array(P),W=0;W<P;++W)U[W]=0;return U}function _n(P,U,W){var G=1,K=0,Z=0,he=0,Ae=0,ce=P.length,ge=Pe?new Uint16Array(32):Kt(32);for(Z=0;Z<32;++Z)ge[Z]=0;for(Z=ce;Z<W;++Z)P[Z]=0;ce=P.length;var me=Pe?new Uint16Array(ce):Kt(ce);for(Z=0;Z<ce;++Z)ge[K=P[Z]]++,G<K&&(G=K),me[Z]=0;for(ge[0]=0,Z=1;Z<=G;++Z)ge[Z+16]=Ae=Ae+ge[Z-1]<<1;for(Z=0;Z<ce;++Z)Ae=P[Z],Ae!=0&&(me[Z]=ge[Ae+16]++);var ke=0;for(Z=0;Z<ce;++Z)if(ke=P[Z],ke!=0)for(Ae=J(me[Z],G)>>G-ke,he=(1<<G+4-ke)-1;he>=0;--he)U[Ae|he<<ke]=ke&15|Z<<4;return G}var Ot=Pe?new Uint16Array(512):Kt(512),An=Pe?new Uint16Array(32):Kt(32);if(!Pe){for(var Wt=0;Wt<512;++Wt)Ot[Wt]=0;for(Wt=0;Wt<32;++Wt)An[Wt]=0}(function(){for(var P=[],U=0;U<32;U++)P.push(5);_n(P,An,32);var W=[];for(U=0;U<=143;U++)W.push(8);for(;U<=255;U++)W.push(9);for(;U<=279;U++)W.push(7);for(;U<=287;U++)W.push(8);_n(W,Ot,288)})();var Lt=function(){for(var U=Pe?new Uint8Array(32768):[],W=0,G=0;W<Se.length-1;++W)for(;G<Se[W+1];++G)U[G]=W;for(;G<32768;++G)U[G]=29;var K=Pe?new Uint8Array(259):[];for(W=0,G=0;W<le.length-1;++W)for(;G<le[W+1];++G)K[G]=W;function Z(Ae,ce){for(var ge=0;ge<Ae.length;){var me=Math.min(65535,Ae.length-ge),ke=ge+me==Ae.length;for(ce.write_shift(1,+ke),ce.write_shift(2,me),ce.write_shift(2,~me&65535);me-- >0;)ce[ce.l++]=Ae[ge++]}return ce.l}function he(Ae,ce){for(var ge=0,me=0,ke=Pe?new Uint16Array(32768):[];me<Ae.length;){var Ne=Math.min(65535,Ae.length-me);if(Ne<10){for(ge=Qe(ce,ge,+(me+Ne==Ae.length)),ge&7&&(ge+=8-(ge&7)),ce.l=ge/8|0,ce.write_shift(2,Ne),ce.write_shift(2,~Ne&65535);Ne-- >0;)ce[ce.l++]=Ae[me++];ge=ce.l*8;continue}ge=Qe(ce,ge,+(me+Ne==Ae.length)+2);for(var Me=0;Ne-- >0;){var Ue=Ae[me];Me=(Me<<5^Ue)&32767;var We=-1,at=0;if((We=ke[Me])&&(We|=me&-32768,We>me&&(We-=32768),We<me))for(;Ae[We+at]==Ae[me+at]&&at<250;)++at;if(at>2){Ue=K[at],Ue<=22?ge=He(ce,ge,be[Ue+1]>>1)-1:(He(ce,ge,3),ge+=5,He(ce,ge,be[Ue-23]>>5),ge+=3);var Ee=Ue<8?0:Ue-4>>2;Ee>0&&(Yn(ce,ge,at-le[Ue]),ge+=Ee),Ue=U[me-We],ge=He(ce,ge,be[Ue]>>3),ge-=3;var qt=Ue<4?0:Ue-2>>1;qt>0&&(Yn(ce,ge,me-We-Se[Ue]),ge+=qt);for(var vt=0;vt<at;++vt)ke[Me]=me&32767,Me=(Me<<5^Ae[me])&32767,++me;Ne-=at-1}else Ue<=143?Ue=Ue+48:ge=Ur(ce,ge,1),ge=He(ce,ge,be[Ue]),ke[Me]=me&32767,++me}ge=He(ce,ge,0)-1}return ce.l=(ge+7)/8|0,ce.l}return function(ce,ge){return ce.length<8?Z(ce,ge):he(ce,ge)}}();function ot(P){var U=Pr(50+Math.floor(P.length*1.1)),W=Lt(P,U);return U.slice(0,W)}var Bt=Pe?new Uint16Array(32768):Kt(32768),Xr=Pe?new Uint16Array(32768):Kt(32768),ct=Pe?new Uint16Array(128):Kt(128),Oe=1,Yt=1;function At(P,U){var W=it(P,U)+257;U+=5;var G=it(P,U)+1;U+=5;var K=dt(P,U)+4;U+=4;for(var Z=0,he=Pe?new Uint8Array(19):Kt(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,ge=Pe?new Uint8Array(8):Kt(8),me=Pe?new Uint8Array(8):Kt(8),ke=he.length,Ne=0;Ne<K;++Ne)he[ie[Ne]]=Z=lt(P,U),ce<Z&&(ce=Z),ge[Z]++,U+=3;var Me=0;for(ge[0]=0,Ne=1;Ne<=ce;++Ne)me[Ne]=Me=Me+ge[Ne-1]<<1;for(Ne=0;Ne<ke;++Ne)(Me=he[Ne])!=0&&(Ae[Ne]=me[Me]++);var Ue=0;for(Ne=0;Ne<ke;++Ne)if(Ue=he[Ne],Ue!=0){Me=be[Ae[Ne]]>>8-Ue;for(var We=(1<<7-Ue)-1;We>=0;--We)ct[Me|We<<Ue]=Ue&7|Ne<<3}var at=[];for(ce=1;at.length<W+G;)switch(Me=ct[Re(P,U)],U+=Me&7,Me>>>=3){case 16:for(Z=3+$e(P,U),U+=2,Me=at[at.length-1];Z-- >0;)at.push(Me);break;case 17:for(Z=3+lt(P,U),U+=3;Z-- >0;)at.push(0);break;case 18:for(Z=11+Re(P,U),U+=7;Z-- >0;)at.push(0);break;default:at.push(Me),ce<Me&&(ce=Me);break}var Ee=at.slice(0,W),qt=at.slice(W);for(Ne=W;Ne<286;++Ne)Ee[Ne]=0;for(Ne=G;Ne<30;++Ne)qt[Ne]=0;return Oe=_n(Ee,Bt,286),Yt=_n(qt,Xr,30),U}function Ht(P,U){if(P[0]==3&&!(P[1]&3))return[ja(U),2];for(var W=0,G=0,K=vv(U||1<<18),Z=0,he=K.length>>>0,Ae=0,ce=0;!(G&1);){if(G=lt(P,W),W+=3,G>>>1)G>>1==1?(Ae=9,ce=5):(W=At(P,W),Ae=Oe,ce=Yt);else{W&7&&(W+=8-(W&7));var ge=P[W>>>3]|P[(W>>>3)+1]<<8;if(W+=32,ge>0)for(!U&&he<Z+ge&&(K=Rr(K,Z+ge),he=K.length);ge-- >0;)K[Z++]=P[W>>>3],W+=8;continue}for(;;){!U&&he<Z+32767&&(K=Rr(K,Z+32767),he=K.length);var me=Ze(P,W,Ae),ke=G>>>1==1?Ot[me]:Bt[me];if(W+=ke&15,ke>>>=4,!(ke>>>8&255))K[Z++]=ke;else{if(ke==256)break;ke-=257;var Ne=ke<8?0:ke-4>>2;Ne>5&&(Ne=0);var Me=Z+le[ke];Ne>0&&(Me+=Ze(P,W,Ne),W+=Ne),me=Ze(P,W,ce),ke=G>>>1==1?An[me]:Xr[me],W+=ke&15,ke>>>=4;var Ue=ke<4?0:ke-2>>1,We=Se[ke];for(Ue>0&&(We+=Ze(P,W,Ue),W+=Ue),!U&&he<Me&&(K=Rr(K,Me+100),he=K.length);Z<Me;)K[Z]=K[Z-We],++Z}}}return U?[K,W+7>>>3]:[K.slice(0,Z),W+7>>>3]}function ts(P,U){var W=P.slice(P.l||0),G=Ht(W,U);return P.l+=G[1],G[0]}function Ts(P,U){if(P)typeof console<"u"&&console.error(U);else throw new Error(U)}function Zs(P,U){var W=P;en(W,0);var G=[],K=[],Z={FileIndex:G,FullPaths:K};R(Z,{root:U.root});for(var he=W.length-4;(W[he]!=80||W[he+1]!=75||W[he+2]!=5||W[he+3]!=6)&&he>=0;)--he;W.l=he+4,W.l+=4;var Ae=W.read_shift(2);W.l+=6;var ce=W.read_shift(4);for(W.l=ce,he=0;he<Ae;++he){W.l+=20;var ge=W.read_shift(4),me=W.read_shift(4),ke=W.read_shift(2),Ne=W.read_shift(2),Me=W.read_shift(2);W.l+=8;var Ue=W.read_shift(4),We=u(W.slice(W.l+ke,W.l+ke+Ne));W.l+=ke+Ne+Me;var at=W.l;W.l=Ue+4,St(W,ge,me,Z,We),W.l=at}return Z}function St(P,U,W,G,K){P.l+=2;var Z=P.read_shift(2),he=P.read_shift(2),Ae=l(P);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var ce=P.read_shift(4),ge=P.read_shift(4),me=P.read_shift(4),ke=P.read_shift(2),Ne=P.read_shift(2),Me="",Ue=0;Ue<ke;++Ue)Me+=String.fromCharCode(P[P.l++]);if(Ne){var We=u(P.slice(P.l,P.l+Ne));(We[21589]||{}).mt&&(Ae=We[21589].mt),((K||{})[21589]||{}).mt&&(Ae=K[21589].mt)}P.l+=Ne;var at=P.slice(P.l,P.l+ge);switch(he){case 8:at=oe(P,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var Ee=!1;Z&8&&(ce=P.read_shift(4),ce==134695760&&(ce=P.read_shift(4),Ee=!0),ge=P.read_shift(4),me=P.read_shift(4)),ge!=U&&Ts(Ee,"Bad compressed size: "+U+" != "+ge),me!=W&&Ts(Ee,"Bad uncompressed size: "+W+" != "+me),sr(G,Me,at,{unsafe:!0,mt:Ae})}function qn(P,U){var W=U||{},G=[],K=[],Z=Pr(1),he=W.compression?8:0,Ae=0,ce=0,ge=0,me=0,ke=0,Ne=P.FullPaths[0],Me=Ne,Ue=P.FileIndex[0],We=[],at=0;for(ce=1;ce<P.FullPaths.length;++ce)if(Me=P.FullPaths[ce].slice(Ne.length),Ue=P.FileIndex[ce],!(!Ue.size||!Ue.content||Me=="Sh33tJ5")){var Ee=me,qt=Pr(Me.length);for(ge=0;ge<Me.length;++ge)qt.write_shift(1,Me.charCodeAt(ge)&127);qt=qt.slice(0,qt.l),We[ke]=qN.buf(Ue.content,0);var vt=Ue.content;he==8&&(vt=re(vt)),Z=Pr(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,Ae),Z.write_shift(2,he),Ue.mt?a(Z,Ue.mt):Z.write_shift(4,0),Z.write_shift(-4,We[ke]),Z.write_shift(4,vt.length),Z.write_shift(4,Ue.content.length),Z.write_shift(2,qt.length),Z.write_shift(2,0),me+=Z.length,G.push(Z),me+=qt.length,G.push(qt),me+=vt.length,G.push(vt),Z=Pr(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,Ae),Z.write_shift(2,he),Z.write_shift(4,0),Z.write_shift(-4,We[ke]),Z.write_shift(4,vt.length),Z.write_shift(4,Ue.content.length),Z.write_shift(2,qt.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,Ee),at+=Z.l,K.push(Z),at+=qt.length,K.push(qt),++ke}return Z=Pr(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,ke),Z.write_shift(2,ke),Z.write_shift(4,at),Z.write_shift(4,me),Z.write_shift(2,0),ga([ga(G),ga(K),Z])}var an={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Bo(P,U){if(P.ctype)return P.ctype;var W=P.name||"",G=W.match(/\.([^\.]+)$/);return G&&an[G[1]]||U&&(G=(W=U).match(/[\.\\]([^\.\\])+$/),G&&an[G[1]])?an[G[1]]:"application/octet-stream"}function Ye(P){for(var U=mv(P),W=[],G=0;G<U.length;G+=76)W.push(U.slice(G,G+76));return W.join(`\r
`)+`\r
`}function kt(P){var U=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var me=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],G=U.split(`\r
`),K=0;K<G.length;++K){var Z=G[K];if(Z.length==0){W.push("");continue}for(var he=0;he<Z.length;){var Ae=76,ce=Z.slice(he,he+Ae);ce.charAt(Ae-1)=="="?Ae--:ce.charAt(Ae-2)=="="?Ae-=2:ce.charAt(Ae-3)=="="&&(Ae-=3),ce=Z.slice(he,he+Ae),he+=Ae,he<Z.length&&(ce+="="),W.push(ce)}}return W.join(`\r
`)}function ft(P){for(var U=[],W=0;W<P.length;++W){for(var G=P[W];W<=P.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+P[++W];U.push(G)}for(var K=0;K<U.length;++K)U[K]=U[K].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return Gi(U.join(`\r
`))}function Ar(P,U,W){for(var G="",K="",Z="",he,Ae=0;Ae<10;++Ae){var ce=U[Ae];if(!ce||ce.match(/^\s*$/))break;var ge=ce.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":G=ge[2].trim();break;case"content-type":Z=ge[2].trim();break;case"content-transfer-encoding":K=ge[2].trim();break}}switch(++Ae,K.toLowerCase()){case"base64":he=Gi(fi(U.slice(Ae).join("")));break;case"quoted-printable":he=ft(U.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var me=sr(P,G.slice(W.length),he,{unsafe:!0});Z&&(me.ctype=Z)}function jr(P,U){if(Q(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=U&&U.root||"",G=(bt&&Buffer.isBuffer(P)?P.toString("binary"):Q(P)).split(`\r
`),K=0,Z="";for(K=0;K<G.length;++K)if(Z=G[K],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),W||(W=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),Z.slice(0,W.length)!=W););var he=(G[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ae="--"+(he[1]||""),ce=[],ge=[],me={FileIndex:ce,FullPaths:ge};R(me);var ke,Ne=0;for(K=0;K<G.length;++K){var Me=G[K];Me!==Ae&&Me!==Ae+"--"||(Ne++&&Ar(me,G.slice(ke,K),W),ke=K)}return me}function wr(P,U){var W=U||{},G=W.boundary||"SheetJS";G="------="+G;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Z=P.FullPaths[0],he=Z,Ae=P.FileIndex[0],ce=1;ce<P.FullPaths.length;++ce)if(he=P.FullPaths[ce].slice(Z.length),Ae=P.FileIndex[ce],!(!Ae.size||!Ae.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(at){return"_x"+at.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(at){return"_u"+at.charCodeAt(0).toString(16)+"_"});for(var ge=Ae.content,me=bt&&Buffer.isBuffer(ge)?ge.toString("binary"):Q(ge),ke=0,Ne=Math.min(1024,me.length),Me=0,Ue=0;Ue<=Ne;++Ue)(Me=me.charCodeAt(Ue))>=32&&Me<128&&++ke;var We=ke>=Ne*4/5;K.push(G),K.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+he),K.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),K.push("Content-Type: "+Bo(Ae,he)),K.push(""),K.push(We?kt(me):Ye(me))}return K.push(G+`--\r
`),K.join(`\r
`)}function Ri(P){var U={};return R(U,P),U}function sr(P,U,W,G){var K=G&&G.unsafe;K||R(P);var Z=!K&&It.find(P,U);if(!Z){var he=P.FullPaths[0];U.slice(0,he.length)==he?he=U:(he.slice(-1)!="/"&&(he+="/"),he=(he+U).replace("//","/")),Z={name:i(U),type:2},P.FileIndex.push(Z),P.FullPaths.push(he),K||It.utils.cfb_gc(P)}return Z.content=W,Z.size=W?W.length:0,G&&(G.CLSID&&(Z.clsid=G.CLSID),G.mt&&(Z.mt=G.mt),G.ct&&(Z.ct=G.ct)),Z}function Mn(P,U){R(P);var W=It.find(P,U);if(W){for(var G=0;G<P.FileIndex.length;++G)if(P.FileIndex[G]==W)return P.FileIndex.splice(G,1),P.FullPaths.splice(G,1),!0}return!1}function on(P,U,W){R(P);var G=It.find(P,U);if(G){for(var K=0;K<P.FileIndex.length;++K)if(P.FileIndex[K]==G)return P.FileIndex[K].name=i(W),P.FullPaths[K]=W,!0}return!1}function Ss(P){M(P,!0)}return t.find=ae,t.read=F,t.parse=x,t.write=Ce,t.writeFile=ve,t.utils={cfb_new:Ri,cfb_add:sr,cfb_del:Mn,cfb_mov:on,cfb_gc:Ss,ReadShift:Kc,CheckField:gC,prep_blob:en,bconcat:ga,use_zlib:H,_deflateRaw:ot,_inflateRaw:ts,consts:xe},t}();function ZN(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Es(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Ax(e){for(var t=[],r=Es(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var eh=new Date(1899,11,30,0,0,0);function Dn(e,t){var r=e.getTime(),n=eh.getTime()+(e.getTimezoneOffset()-eh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var KA=new Date,QN=eh.getTime()+(KA.getTimezoneOffset()-eh.getTimezoneOffset())*6e4,Sv=KA.getTimezoneOffset();function $h(e){var t=new Date;return t.setTime(e*24*60*60*1e3+QN),t.getTimezoneOffset()!==Sv&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Sv)*6e4),t}function JN(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var bv=new Date("2017-02-19T19:06:09.000Z"),YA=isNaN(bv.getFullYear())?new Date("2/19/17"):bv,e5=YA.getFullYear()==2017;function $r(e,t){var r=new Date(e);if(e5)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(YA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function ko(e,t){if(bt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Mc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Mc(FA(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Mc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Mc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function rn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=rn(e[r]));return t}function mr(e,t){for(var r="";r.length<t;)r+=e;return r}function qi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var t5=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zl(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&t5.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var r5=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],u=1;u<a.length;++u)l.push(i),l.push(a[u]);return l}}();function qA(e){return e?e.content&&e.type?ko(e.content,!0):e.data?Dc(e.data):e.asNodeBuffer&&bt?Dc(e.asNodeBuffer().toString("binary")):e.asBinary?Dc(e.asBinary()):e._data&&e._data.getContent?Dc(ko(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ZA(e){if(!e)return null;if(e.data)return gv(e.data);if(e.asNodeBuffer&&bt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?gv(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function n5(e){return e&&e.name.slice(-4)===".bin"?ZA(e):qA(e)}function yi(e,t){for(var r=e.FullPaths||Es(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function Cx(e,t){var r=yi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Tr(e,t,r){if(!r)return n5(Cx(e,t));if(!t)return null;try{return Tr(e,t)}catch{return null}}function ii(e,t,r){if(!r)return qA(Cx(e,t));if(!t)return null;try{return ii(e,t)}catch{return null}}function i5(e,t,r){return ZA(Cx(e,t))}function kv(e){for(var t=e.FullPaths||Es(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function s5(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return bt?n=No(r):n=CN(r),It.utils.cfb_add(e,t,n)}It.utils.cfb_add(e,t,r)}else e.file(t,r)}function QA(e,t){switch(t.type){case"base64":return It.read(e,{type:"base64"});case"binary":return It.read(e,{type:"binary"});case"buffer":case"array":return It.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Fc(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var JA=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,a5=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Iv=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,o5=/<[^>]*>/g,En=JA.match(Iv)?Iv:o5,l5=/<\w*:/,c5=/<(\/?)\w+:/;function st(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var l=e.match(a5),u=0,d="",p=0,x="",v="",E=1;if(l)for(p=0;p!=l.length;++p){for(v=l[p],a=0;a!=v.length&&v.charCodeAt(a)!==61;++a);for(x=v.slice(0,a).trim();v.charCodeAt(a+1)==32;)++a;for(E=(i=v.charCodeAt(a+1))==34||i==39?1:0,d=v.slice(a+1+E,v.length-E),u=0;u!=x.length&&x.charCodeAt(u)!==58;++u);if(u===x.length)x.indexOf("_")>0&&(x=x.slice(0,x.indexOf("_"))),n[x]=d,n[x.toLowerCase()]=d;else{var y=(u===5&&x.slice(0,5)==="xmlns"?"xmlns":"")+x.slice(u+1);if(n[y]&&x.slice(u-3,u)=="ext")continue;n[y]=d,n[y.toLowerCase()]=d}}return n}function As(e){return e.replace(c5,"<$1")}var eC={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},u5=Ax(eC),Pt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(u,d){return eC[u]||String.fromCharCode(parseInt(d,u.indexOf("x")>-1?16:10))||u}).replace(t,function(u,d){return String.fromCharCode(parseInt(d,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}}(),f5=/[&<>'"]/g,h5=/[\u0000-\u001f]/g;function Tx(e){var t=e+"";return t.replace(f5,function(r){return u5[r]}).replace(/\n/g,"<br/>").replace(h5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Rv=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function rr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function e1(e){for(var t="",r=0,n=0,i=0,a=0,l=0,u=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,t+=String.fromCharCode(l);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=e.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(u>>>10&1023)),t+=String.fromCharCode(56320+(u&1023))}return t}function Ov(e){var t=ja(2*e.length),r,n,i=1,a=0,l=0,u;for(n=0;n<e.length;n+=i)i=1,(u=e.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(e.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[a++]=l&255,t[a++]=l>>>8,l=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function Nv(e){return No(e,"binary").toString("utf8")}var V0="foo bar baz",Xt=bt&&(Nv(V0)==e1(V0)&&Nv||Ov(V0)==e1(V0)&&Ov)||e1,Mc=bt?function(e){return No(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ku=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),tC=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),d5=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),p5=/<\/?(?:vt:)?variant>/g,g5=/<(?:vt:)([^>]*)>([\s\S]*)</;function Dv(e,t){var r=st(e),n=e.match(d5(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(p5,"").match(g5);l&&i.push({v:Xt(l[2]),t:l[1]})}),i}var x5=/(^\s|\s$|\n)/;function m5(e){return Es(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function v5(e,t,r){return"<"+e+(r!=null?m5(r):"")+(t!=null?(t.match(x5)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Sx(e){if(bt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Xt(Do(yx(e)));throw new Error("Bad input format: expected Buffer or string")}var Iu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,w5={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},y5=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function E5(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function _5(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,l=n?-t:t;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var u=0;u<=5;++u,a/=256)e[r+u]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var Pv=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},Fv=bt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:No(t)})):Pv(e)}:Pv,Mv=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Ms(e,i)));return n.join("").replace(On,"")},bx=bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(On,""):Mv(e,t,r)}:Mv,Lv=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},rC=bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Lv(e,t,r)}:Lv,Bv=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(tl(e,i)));return n.join("")},Ju=bt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):Bv(t,r,n)}:Bv,nC=function(e,t){var r=ni(e,t);return r>0?Ju(e,t+4,t+4+r-1):""},iC=nC,sC=function(e,t){var r=ni(e,t);return r>0?Ju(e,t+4,t+4+r-1):""},aC=sC,oC=function(e,t){var r=2*ni(e,t);return r>0?Ju(e,t+4,t+4+r-1):""},lC=oC,cC=function(t,r){var n=ni(t,r);return n>0?bx(t,r+4,r+4+n):""},uC=cC,fC=function(e,t){var r=ni(e,t);return r>0?Ju(e,t+4,t+4+r):""},hC=fC,dC=function(e,t){return E5(e,t)},th=dC,pC=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};bt&&(iC=function(t,r){if(!Buffer.isBuffer(t))return nC(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},aC=function(t,r){if(!Buffer.isBuffer(t))return sC(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},lC=function(t,r){if(!Buffer.isBuffer(t))return oC(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},uC=function(t,r){if(!Buffer.isBuffer(t))return cC(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},hC=function(t,r){if(!Buffer.isBuffer(t))return fC(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},th=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):dC(t,r)},pC=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var tl=function(e,t){return e[t]},Ms=function(e,t){return e[t+1]*256+e[t]},A5=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ni=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},to=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},C5=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Kc(e,t){var r="",n,i,a=[],l,u,d,p;switch(t){case"dbcs":if(p=this.l,bt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(Ms(this,p)),p+=2;e*=2;break;case"utf8":r=Ju(this,this.l,this.l+e);break;case"utf16le":e*=2,r=bx(this,this.l,this.l+e);break;case"wstr":return Kc.call(this,e,"dbcs");case"lpstr-ansi":r=iC(this,this.l),e=4+ni(this,this.l);break;case"lpstr-cp":r=aC(this,this.l),e=4+ni(this,this.l);break;case"lpwstr":r=lC(this,this.l),e=4+2*ni(this,this.l);break;case"lpp4":e=4+ni(this,this.l),r=uC(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ni(this,this.l),r=hC(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=tl(this,this.l+e++))!==0;)a.push(j0(l));r=a.join("");break;case"_wstr":for(e=0,r="";(l=Ms(this,this.l+e))!==0;)a.push(j0(l)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",p=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(p)!==-1)return l=tl(this,p),this.l=p+1,u=Kc.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(j0(Ms(this,p))),p+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",p=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(p)!==-1)return l=tl(this,p),this.l=p+1,u=Kc.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(j0(tl(this,p))),p+=1}r=a.join("");break;default:switch(e){case 1:return n=tl(this,this.l),this.l++,n;case 2:return n=(t==="i"?A5:Ms)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?to:C5)(this,this.l),this.l+=4,n):(i=ni(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=th(this,this.l):i=th([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=rC(this,this.l,e);break}}return this.l+=e,r}var T5=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},S5=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},b5=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function k5(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)b5(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,T5(this,t,this.l);break;case 8:if(n=8,r==="f"){_5(this,t,this.l);break}case 16:break;case-4:n=4,S5(this,t,this.l);break}return this.l+=n,this}function gC(e,t){var r=rC(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function en(e,t){e.l=t,e.read_shift=Kc,e.chk=gC,e.write_shift=k5}function yn(e,t){e.l+=t}function Pr(e){var t=ja(e);return en(t,0),t}function Ys(e,t,r){if(e){var n,i,a;en(e,e.l||0);for(var l=e.length,u=0,d=0;e.l<l;){u=e.read_shift(1),u&128&&(u=(u&127)+((e.read_shift(1)&127)<<7));var p=oh[u]||oh[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;d=e.l+a;var x=p.f&&p.f(e,a,r);if(e.l=d,t(x,p,u))return}}}function kp(){var e=[],t=bt?256:2048,r=function(p){var x=Pr(p);return en(x,0),x},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(p){return n&&p<n.length-n.l?n:(i(),n=r(Math.max(p+1,t)))},l=function(){return i(),ga(e)},u=function(p){i(),n=p,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:u,end:l,_bufs:e}}function Yc(e,t,r){var n=rn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Uv(e,t,r){var n=rn(e);return n.s=Yc(n.s,t.s,r),n.e=Yc(n.e,t.s,r),n}function qc(e,t){if(e.cRel&&e.c<0)for(e=rn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=rn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ut(e);return!e.cRel&&e.cRel!=null&&(r=O5(r)),!e.rRel&&e.rRel!=null&&(r=I5(r)),r}function t1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Lr(e.s.c)+":"+(e.e.cRel?"":"$")+Lr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+nn(e.s.r)+":"+(e.e.rRel?"":"$")+nn(e.e.r):qc(e.s,t.biff)+":"+qc(e.e,t.biff)}function kx(e){return parseInt(R5(e),10)-1}function nn(e){return""+(e+1)}function I5(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function R5(e){return e.replace(/\$(\d+)$/,"$1")}function Ix(e){for(var t=N5(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Lr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function O5(e){return e.replace(/^([A-Z])/,"$$$1")}function N5(e){return e.replace(/^\$([A-Z])/,"$1")}function D5(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function In(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function ut(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function lc(e){var t=e.indexOf(":");return t==-1?{s:In(e),e:In(e)}:{s:In(e.slice(0,t)),e:In(e.slice(t+1))}}function Rt(e,t){return typeof t>"u"||typeof t=="number"?Rt(e.s,e.e):(typeof e!="string"&&(e=ut(e)),typeof t!="string"&&(t=ut(t)),e==t?e:e+":"+t)}function vr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function jv(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ki(e.z,r?Dn(t):t)}catch{}try{return e.w=ki((e.XF||{}).numFmtId||(r?14:0),r?Dn(t):t)}catch{return""+t}}function Xs(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Mo[e.v]||e.v:t==null?jv(e,e.v):jv(e,t))}function Ga(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function xC(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?In(n.origin):n.origin;l=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var p={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var x=vr(a["!ref"]);p.s.c=x.s.c,p.s.r=x.s.r,p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),l==-1&&(p.e.r=l=x.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var E=0;E!=t[v].length;++E)if(!(typeof t[v][E]>"u")){var y={v:t[v][E]},A=l+v,_=u+E;if(p.s.r>A&&(p.s.r=A),p.s.c>_&&(p.s.c=_),p.e.r<A&&(p.e.r=A),p.e.c<_&&(p.e.c=_),t[v][E]&&typeof t[v][E]=="object"&&!Array.isArray(t[v][E])&&!(t[v][E]instanceof Date))y=t[v][E];else if(Array.isArray(y.v)&&(y.f=t[v][E][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||gt[14],n.cellDates?(y.t="d",y.w=ki(y.z,Dn(y.v))):(y.t="n",y.v=Dn(y.v),y.w=ki(y.z,y.v))):y.t="s";if(i)a[A]||(a[A]=[]),a[A][_]&&a[A][_].z&&(y.z=a[A][_].z),a[A][_]=y;else{var S=ut({c:_,r:A});a[S]&&a[S].z&&(y.z=a[S].z),a[S]=y}}}return p.s.c<1e7&&(a["!ref"]=Rt(p)),a}function cc(e,t){return xC(null,e,t)}function P5(e){return e.read_shift(4,"i")}function vn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function F5(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Rx(e,t){var r=e.l,n=e.read_shift(1),i=vn(e),a=[],l={t:i,h:i};if(n&1){for(var u=e.read_shift(4),d=0;d!=u;++d)a.push(F5(e));l.r=a}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}var M5=Rx;function Ii(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Po(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var L5=vn;function Ox(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var B5=vn,Ip=Ox;function Nx(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?th([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):to(t,0)>>2;return r?i/100:i}function mC(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Fo=mC;function xn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function U5(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var p=wo[i];p&&(t.rgb=Ou(p));break;case 2:t.rgb=Ou([l,u,d]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function j5(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function vC(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function V5(e){return vC(e,1)}function W5(e){return vC(e,2)}var Dx=2,Vn=3,W0=11,Vv=12,rh=19,H0=64,H5=65,z5=71,G5=4108,$5=4126,Hr=80,wC=81,X5=[Hr,wC],K5={1:{n:"CodePage",t:Dx},2:{n:"Category",t:Hr},3:{n:"PresentationFormat",t:Hr},4:{n:"ByteCount",t:Vn},5:{n:"LineCount",t:Vn},6:{n:"ParagraphCount",t:Vn},7:{n:"SlideCount",t:Vn},8:{n:"NoteCount",t:Vn},9:{n:"HiddenCount",t:Vn},10:{n:"MultimediaClipCount",t:Vn},11:{n:"ScaleCrop",t:W0},12:{n:"HeadingPairs",t:G5},13:{n:"TitlesOfParts",t:$5},14:{n:"Manager",t:Hr},15:{n:"Company",t:Hr},16:{n:"LinksUpToDate",t:W0},17:{n:"CharacterCount",t:Vn},19:{n:"SharedDoc",t:W0},22:{n:"HyperlinksChanged",t:W0},23:{n:"AppVersion",t:Vn,p:"version"},24:{n:"DigSig",t:H5},26:{n:"ContentType",t:Hr},27:{n:"ContentStatus",t:Hr},28:{n:"Language",t:Hr},29:{n:"Version",t:Hr},255:{},2147483648:{n:"Locale",t:rh},2147483651:{n:"Behavior",t:rh},1919054434:{}},Y5={1:{n:"CodePage",t:Dx},2:{n:"Title",t:Hr},3:{n:"Subject",t:Hr},4:{n:"Author",t:Hr},5:{n:"Keywords",t:Hr},6:{n:"Comments",t:Hr},7:{n:"Template",t:Hr},8:{n:"LastAuthor",t:Hr},9:{n:"RevNumber",t:Hr},10:{n:"EditTime",t:H0},11:{n:"LastPrinted",t:H0},12:{n:"CreatedDate",t:H0},13:{n:"ModifiedDate",t:H0},14:{n:"PageCount",t:Vn},15:{n:"WordCount",t:Vn},16:{n:"CharCount",t:Vn},17:{n:"Thumbnail",t:z5},18:{n:"Application",t:Hr},19:{n:"DocSecurity",t:Vn},255:{},2147483648:{n:"Locale",t:rh},2147483651:{n:"Behavior",t:rh},1919054434:{}},Wv={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},q5=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Z5(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Q5=Z5([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wo=rn(Q5),Mo={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yC={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Hv={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function J5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function eD(e){var t=J5();if(!e||!e.match)return t;var r={};if((e.match(En)||[]).forEach(function(n){var i=st(n);switch(i[0].replace(l5,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[Hv[i.ContentType]]!==void 0&&t[Hv[i.ContentType]].push(i.PartName);break}}),t.xmlns!==w5.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var ml={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Rp(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Zc(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(En)||[]).forEach(function(i){var a=st(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var u=a.TargetMode==="External"?a.Target:Fc(a.Target,t);r[u]=l,n[a.Id]=l}}),r["!id"]=n,r}var tD="application/vnd.oasis.opendocument.spreadsheet";function rD(e,t){for(var r=Sx(e),n,i;n=Iu.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=st(n[0],!1),i.path=="/"&&i.type!==tD)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Qc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],nD=function(){for(var e=new Array(Qc.length),t=0;t<Qc.length;++t){var r=Qc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function EC(e){var t={};e=Xt(e);for(var r=0;r<Qc.length;++r){var n=Qc[r],i=e.match(nD[r]);i!=null&&i.length>0&&(t[n[1]]=Pt(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=$r(t[n[1]]))}return t}var iD=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function _C(e,t,r,n){var i=[];if(typeof e=="string")i=Dv(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(x){return{v:x}}));var l=typeof t=="string"?Dv(t,n).map(function(x){return x.v}):t,u=0,d=0;if(l.length>0)for(var p=0;p!==i.length;p+=2){switch(d=+i[p+1].v,i[p].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=d,r.SheetNames=l.slice(u,u+d);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=d,r.DefinedNames=l.slice(u,u+d);break;case"Charts":case"Diagramme":r.Chartsheets=d,r.ChartNames=l.slice(u,u+d);break}u+=d}}function sD(e,t,r){var n={};return t||(t={}),e=Xt(e),iD.forEach(function(i){var a=(e.match(ku(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Pt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var l=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&_C(n.HeadingPairs,n.TitlesOfParts,t,r),t}var aD=/<[^>]+>[^<]*/g;function oD(e,t){var r={},n="",i=e.match(aD);if(i)for(var a=0;a!=i.length;++a){var l=i[a],u=st(l);switch(u[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Pt(u.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var d=l.split(">"),p=d[0].slice(4),x=d[1];switch(p){case"lpstr":case"bstr":case"lpwstr":r[n]=Pt(x);break;case"bool":r[n]=rr(x);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(x,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(x);break;case"filetime":case"date":r[n]=$r(x);break;case"cy":case"error":r[n]=Pt(x);break;default:if(p.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",l,p,d)}}else if(l.slice(0,2)!=="</"){if(t.WTF)throw new Error(l)}}}return r}var lD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},r1;function cD(e,t,r){r1||(r1=Ax(lD)),t=r1[t]||t,e[t]=r}function Px(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function AC(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function CC(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function TC(e,t,r){return t===31?CC(e):AC(e,t,r)}function Op(e,t,r){return TC(e,t,r===!1?0:4)}function uD(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return TC(e,t,0)}function fD(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(On,""),e.l-i&2&&(e.l+=2)}return r}function hD(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(On,"");return r}function dD(e){var t=e.l,r=nh(e,wC);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=nh(e,Vn);return[r,n]}function pD(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(dD(e));return r}function zv(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),l=e.read_shift(4);n[a]=e.read_shift(l,t===1200?"utf16le":"utf8").replace(On,"").replace(Pc,"!"),t===1200&&l%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function SC(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function gD(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function nh(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==Vv&&n!==t&&X5.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===Vv?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return AC(e,n,4).replace(On,"");case 31:return CC(e);case 64:return Px(e);case 65:return SC(e);case 71:return gD(e);case 80:return Op(e,n,!a.raw).replace(On,"");case 81:return uD(e,n).replace(On,"");case 4108:return pD(e);case 4126:case 4127:return n==4127?fD(e):hD(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function Gv(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0,u=0,d=-1,p={};for(l=0;l!=i;++l){var x=e.read_shift(4),v=e.read_shift(4);a[l]=[x,v+r]}a.sort(function(k,T){return k[1]-T[1]});var E={};for(l=0;l!=i;++l){if(e.l!==a[l][1]){var y=!0;if(l>0&&t)switch(t[a[l-1][0]].t){case 2:e.l+2===a[l][1]&&(e.l+=2,y=!1);break;case 80:e.l<=a[l][1]&&(e.l=a[l][1],y=!1);break;case 4108:e.l<=a[l][1]&&(e.l=a[l][1],y=!1);break}if((!t||l==0)&&e.l<=a[l][1]&&(y=!1,e.l=a[l][1]),y)throw new Error("Read Error: Expected address "+a[l][1]+" at "+e.l+" :"+l)}if(t){var A=t[a[l][0]];if(E[A.n]=nh(e,A.t,{raw:!0}),A.p==="version"&&(E[A.n]=String(E[A.n]>>16)+"."+("0000"+String(E[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(E[A.n]){case 0:E[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$i(u=E[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+E[A.n])}}else if(a[l][0]===1){if(u=E.CodePage=nh(e,Dx),$i(u),d!==-1){var _=e.l;e.l=a[d][1],p=zv(e,u),e.l=_}}else if(a[l][0]===0){if(u===0){d=l,e.l=a[l+1][1];continue}p=zv(e,u)}else{var S=p[a[l][0]],b;switch(e[e.l]){case 65:e.l+=4,b=SC(e);break;case 30:e.l+=4,b=Op(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=Op(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=Er(e,4);break;case 64:e.l+=4,b=$r(Px(e));break;default:throw new Error("unparsed value: "+e[e.l])}E[S]=b}}return e.l=r+n,E}function $v(e,t,r){var n=e.content;if(!n)return{};en(n,0);var i,a,l,u,d=0;n.chk("feff","Byte Order: "),n.read_shift(2);var p=n.read_shift(4),x=n.read_shift(16);if(x!==It.utils.consts.HEADER_CLSID&&x!==r)throw new Error("Bad PropertySet CLSID "+x);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),u=n.read_shift(4),i===1&&u!==n.l)throw new Error("Length mismatch: "+u+" !== "+n.l);i===2&&(l=n.read_shift(16),d=n.read_shift(4));var v=Gv(n,t),E={SystemIdentifier:p};for(var y in v)E[y]=v[y];if(E.FMTID=a,i===1)return E;if(d-n.l==2&&(n.l+=2),n.l!==d)throw new Error("Length mismatch 2: "+n.l+" !== "+d);var A;try{A=Gv(n,null)}catch{}for(y in A)E[y]=A[y];return E.FMTID=[a,l],E}function aa(e,t){return e.read_shift(t),null}function xD(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Er(e,t){return e.read_shift(t)===1}function Sr(e){return e.read_shift(2,"u")}function bC(e,t){return xD(e,t,Sr)}function mD(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function e0(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?e.read_shift(n,i):"";return l}function vD(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,u,d={};i&&(l=e.read_shift(2)),n&&(u=e.read_shift(4));var p=a==2?"dbcs-cont":"sbcs-cont",x=t===0?"":e.read_shift(t,p);return i&&(e.l+=4*l),n&&(e.l+=u),d.t=x,i||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function Io(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function t0(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Io(e,n,r)}function Lo(e,t,r){if(r.biff>5)return t0(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function wD(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function yD(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(On,"");return n&&(e.l+=24),i}function ED(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=e.read_shift(a>>1,"utf16le").replace(On,"");return r+l}function _D(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return yD(e);case"0303000000000000c000000000000046":return ED(e);default:throw new Error("Unsupported Moniker "+r)}}function z0(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(On,""):"";return r}function AD(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,l,u,d,p="",x,v;i&16&&(a=z0(e,r-e.l)),i&128&&(l=z0(e,r-e.l)),(i&257)===257&&(u=z0(e,r-e.l)),(i&257)===1&&(d=_D(e,r-e.l)),i&8&&(p=z0(e,r-e.l)),i&32&&(x=e.read_shift(16)),i&64&&(v=Px(e)),e.l=r;var E=l||u||d||"";E&&p&&(E+="#"+p),E||(E="#"+p),i&2&&E.charAt(0)=="/"&&E.charAt(1)!="/"&&(E="file://"+E);var y={Target:E};return x&&(y.guid=x),v&&(y.time=v),a&&(y.Tooltip=a),y}function kC(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function IC(e,t){var r=kC(e);return r[3]=0,r}function Cs(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function CD(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function TD(e,t,r){return t===0?"":Lo(e,t,r)}function SD(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[i,a,l]}function RC(e){var t=e.read_shift(2),r=Nx(e);return[t,r]}function bD(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=e0(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function Xh(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function OC(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var kD=OC;function NC(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function ID(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function RD(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function hn(e){e.l+=2,e.l+=e.read_shift(2)}var OD={0:hn,4:hn,5:hn,6:hn,7:RD,8:hn,9:hn,10:hn,11:hn,12:hn,13:ID,14:hn,15:hn,16:hn,17:hn,18:hn,19:hn,20:hn,21:NC};function ND(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(OD[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function G0(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function DD(e,t){return t===0||e.read_shift(2),1200}function PD(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Lo(e,0,r);return e.read_shift(t+n-e.l),i}function FD(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function MD(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=e0(e,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function LD(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],l=0;l!=i&&e.l<r;++l)a.push(vD(e));return a.Count=n,a.Unique=i,a}function BD(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function UD(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function jD(e){var t=CD(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function VD(e){return e.read_shift(2),e.read_shift(4)}function Xv(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function WD(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2),p=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:u,Selected:d,TabRatio:p}}function HD(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function zD(){}function GD(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=e0(e,0,r),n}function $D(e){var t=Cs(e);return t.isst=e.read_shift(4),t}function XD(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Cs(e);r.biff==2&&e.l++;var a=t0(e,n-e.l,r);return i.val=a,i}function KD(e,t,r){var n=e.read_shift(2),i=Lo(e,0,r);return[n,i]}var YD=Lo;function Kv(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),l=e.read_shift(i),u=e.read_shift(2),d=e.read_shift(2);return e.l=n,{s:{r:a,c:u},e:{r:l,c:d}}}function qD(e){var t=e.read_shift(2),r=e.read_shift(2),n=RC(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function ZD(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(RC(e));if(e.l!==r)throw new Error("MulRK read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function QD(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var l=e.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function JD(e,t,r,n){var i={},a=e.read_shift(4),l=e.read_shift(4),u=e.read_shift(4),d=e.read_shift(2);return i.patternType=q5[u>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=u&127,i.icvBottom=u>>7&127,i.icvDiag=u>>14&127,i.dgDiag=u>>21&15,i.icvFore=d&127,i.icvBack=d>>7&127,i.fsxButton=d>>14&1),i}function eP(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=JD(e,t,n.fStyle,r),n}function tP(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Yv(e,t,r){var n=Cs(e);(r.biff==2||t==9)&&++e.l;var i=mD(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function rP(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Cs(e),i=xn(e);return n.val=i,n}var qv=TD;function nP(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=Io(e,a),u=[];n>e.l;)u.push(t0(e));return[a,i,l,u]}function Zv(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=bD(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var iP=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Qv(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),l=e.read_shift(1),u=e.read_shift(r&&r.biff==2?1:2),d=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),d=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var p=Io(e,l,r);i&32&&(p=iP[p.charCodeAt(0)]);var x=n-e.l;r&&r.biff==2&&--x;var v=n==e.l||u===0||!(x>0)?[]:U9(e,x,r,u);return{chKey:a,Name:p,itab:d,rgce:v}}function DC(e,t,r){if(r.biff<8)return sP(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(SD(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function sP(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=e0(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function aP(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=Io(e,n,r),l=Io(e,i,r);return[a,l]}function oP(e,t,r){var n=OC(e);e.l++;var i=e.read_shift(1);return t-=8,[j9(e,t,r),i,n]}function Jv(e,t,r){var n=kD(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,L9(e,t,r)]}function lP(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function cP(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=Lo(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},u,l,a]}}function uP(e,t,r){return cP(e,t,r)}function fP(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Xh(e));return r}function hP(e,t,r){if(r&&r.biff<8)return pP(e,t,r);var n=NC(e),i=ND(e,t-22,n[1]);return{cmo:n,ft:i}}var dP={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function pP(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var l=[];return l.push((dP[n]||yn)(e,t,r)),{cmo:[i,n,a],ft:l}}function gP(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:l=wD(e,6,r);var u=e.read_shift(2);e.read_shift(2),Sr(e,2);var d=e.read_shift(2);e.l+=d;for(var p=1;p<e.lens.length-1;++p){if(e.l-n!=e.lens[p])throw new Error("TxO: bad continue record");var x=e[e.l],v=Io(e,e.lens[p+1]-e.lens[p]-1);if(i+=v,i.length>=(x?u:2*u))break}if(i.length!==u&&i.length!==u*2)throw new Error("cchText: "+u+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function xP(e,t){var r=Xh(e);e.l+=16;var n=AD(e,t-24);return[r,n]}function mP(e,t){e.read_shift(2);var r=Xh(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(On,""),[r,n]}function vP(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=Wv[r]||r,r=e.read_shift(2),t[1]=Wv[r]||r,t}function wP(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(IC(e));return r}function yP(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(IC(e));return r}function EP(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function PC(e,t,r){if(!r.cellStyles)return yn(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var p={s:i,e:a,w:l,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(p.level=d>>8&7),p}function _P(e,t){var r={};return t<32||(e.l+=16,r.header=xn(e),r.footer=xn(e),e.l+=2),r}function AP(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var CP=Cs,TP=bC,SP=t0;function bP(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function kP(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Cs(e);++e.l;var i=Lo(e,t-7,r);return n.t="str",n.val=i,n}function IP(e){var t=Cs(e);++e.l;var r=xn(e);return t.t="n",t.val=r,t}function RP(e){var t=Cs(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function OP(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function NP(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function DP(e,t,r){var n=e.l+t,i=Cs(e),a=e.read_shift(2),l=Io(e,a,r);return e.l=n,i.t="str",i.val=l,i}var PP=[2,3,48,49,131,139,140,245],ew=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Ax({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var p=[],x=ja(1);switch(d.type){case"base64":x=Gi(fi(u));break;case"binary":x=Gi(u);break;case"buffer":case"array":x=u;break}en(x,0);var v=x.read_shift(1),E=!!(v&136),y=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:y=!0,E=!0;break;case 49:y=!0,E=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var _=0,S=521;v==2&&(_=x.read_shift(2)),x.l+=3,v!=2&&(_=x.read_shift(4)),_>1048576&&(_=1e6),v!=2&&(S=x.read_shift(2));var b=x.read_shift(2),k=d.codepage||1252;v!=2&&(x.l+=16,x.read_shift(1),x[x.l]!==0&&(k=e[x[x.l]]),x.l+=1,x.l+=2),A&&(x.l+=36);for(var T=[],O={},B=Math.min(x.length,v==2?521:S-10-(y?264:0)),F=A?32:11;x.l<B&&x[x.l]!=13;)switch(O={},O.name=pa.utils.decode(k,x.slice(x.l,x.l+F)).replace(/[\u0000\r\n].*$/g,""),x.l+=F,O.type=String.fromCharCode(x.read_shift(1)),v!=2&&!A&&(O.offset=x.read_shift(4)),O.len=x.read_shift(1),v==2&&(O.offset=x.read_shift(2)),O.dec=x.read_shift(1),O.name.length&&T.push(O),v!=2&&(x.l+=A?13:14),O.type){case"B":(!y||O.len!=8)&&d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(x[x.l]!==13&&(x.l=S-1),x.read_shift(1)!==13)throw new Error("DBF Terminator not found "+x.l+" "+x[x.l]);x.l=S;var R=0,z=0;for(p[0]=[],z=0;z!=T.length;++z)p[0][z]=T[z].name;for(;_-- >0;){if(x[x.l]===42){x.l+=b;continue}for(++x.l,p[++R]=[],z=0,z=0;z!=T.length;++z){var M=x.slice(x.l,x.l+T[z].len);x.l+=T[z].len,en(M,0);var te=pa.utils.decode(k,M);switch(T[z].type){case"C":te.trim().length&&(p[R][z]=te.replace(/\s+$/,""));break;case"D":te.length===8?p[R][z]=new Date(+te.slice(0,4),+te.slice(4,6)-1,+te.slice(6,8)):p[R][z]=te;break;case"F":p[R][z]=parseFloat(te.trim());break;case"+":case"I":p[R][z]=A?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(te.trim().toUpperCase()){case"Y":case"T":p[R][z]=!0;break;case"N":case"F":p[R][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+te+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));p[R][z]="##MEMO##"+(A?parseInt(te.trim(),10):M.read_shift(4));break;case"N":te=te.replace(/\u0000/g,"").trim(),te&&te!="."&&(p[R][z]=+te||0);break;case"@":p[R][z]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":p[R][z]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":p[R][z]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":p[R][z]=-M.read_shift(-8,"f");break;case"B":if(y&&T[z].len==8){p[R][z]=M.read_shift(8,"f");break}case"G":case"P":M.l+=T[z].len;break;case"0":if(T[z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[z].type)}}}if(v!=2&&x.l<x.length&&x[x.l++]!=26)throw new Error("DBF EOF Marker missing "+(x.l-1)+" of "+x.length+" "+x[x.l-1].toString(16));return d&&d.sheetRows&&(p=p.slice(0,d.sheetRows)),d.DBF=T,p}function n(u,d){var p=d||{};p.dateNF||(p.dateNF="yyyymmdd");var x=cc(r(u,p),p);return x["!cols"]=p.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete p.DBF,x}function i(u,d){try{return Ga(n(u,d),d)}catch(p){if(d&&d.WTF)throw p}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,d){var p=d||{};if(+p.codepage>=0&&$i(+p.codepage),p.type=="string")throw new Error("Cannot write DBF to JS string");var x=kp(),v=Bp(u,{header:1,raw:!0,cellDates:!0}),E=v[0],y=v.slice(1),A=u["!cols"]||[],_=0,S=0,b=0,k=1;for(_=0;_<E.length;++_){if(((A[_]||{}).DBF||{}).name){E[_]=A[_].DBF.name,++b;continue}if(E[_]!=null){if(++b,typeof E[_]=="number"&&(E[_]=E[_].toString(10)),typeof E[_]!="string")throw new Error("DBF Invalid column name "+E[_]+" |"+typeof E[_]+"|");if(E.indexOf(E[_])!==_){for(S=0;S<1024;++S)if(E.indexOf(E[_]+"_"+S)==-1){E[_]+="_"+S;break}}}}var T=vr(u["!ref"]),O=[],B=[],F=[];for(_=0;_<=T.e.c-T.s.c;++_){var R="",z="",M=0,te=[];for(S=0;S<y.length;++S)y[S][_]!=null&&te.push(y[S][_]);if(te.length==0||E[_]==null){O[_]="?";continue}for(S=0;S<te.length;++S){switch(typeof te[S]){case"number":z="B";break;case"string":z="C";break;case"boolean":z="L";break;case"object":z=te[S]instanceof Date?"D":"C";break;default:z="C"}M=Math.max(M,String(te[S]).length),R=R&&R!=z?"C":z}M>250&&(M=250),z=((A[_]||{}).DBF||{}).type,z=="C"&&A[_].DBF.len>M&&(M=A[_].DBF.len),R=="B"&&z=="N"&&(R="N",F[_]=A[_].DBF.dec,M=A[_].DBF.len),B[_]=R=="C"||z=="N"?M:a[R]||0,k+=B[_],O[_]=R}var ae=x.next(32);for(ae.write_shift(4,318902576),ae.write_shift(4,y.length),ae.write_shift(2,296+32*b),ae.write_shift(2,k),_=0;_<4;++_)ae.write_shift(4,0);for(ae.write_shift(4,0|(+t[DA]||3)<<8),_=0,S=0;_<E.length;++_)if(E[_]!=null){var q=x.next(32),de=(E[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);q.write_shift(1,de,"sbcs"),q.write_shift(1,O[_]=="?"?"C":O[_],"sbcs"),q.write_shift(4,S),q.write_shift(1,B[_]||a[O[_]]||0),q.write_shift(1,F[_]||0),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(1,0),q.write_shift(4,0),q.write_shift(4,0),S+=B[_]||a[O[_]]||0}var pe=x.next(264);for(pe.write_shift(4,13),_=0;_<65;++_)pe.write_shift(4,0);for(_=0;_<y.length;++_){var ee=x.next(k);for(ee.write_shift(1,0),S=0;S<E.length;++S)if(E[S]!=null)switch(O[S]){case"L":ee.write_shift(1,y[_][S]==null?63:y[_][S]?84:70);break;case"B":ee.write_shift(8,y[_][S]||0,"f");break;case"N":var _e="0";for(typeof y[_][S]=="number"&&(_e=y[_][S].toFixed(F[S]||0)),b=0;b<B[S]-_e.length;++b)ee.write_shift(1,32);ee.write_shift(1,_e,"sbcs");break;case"D":y[_][S]?(ee.write_shift(4,("0000"+y[_][S].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(y[_][S].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+y[_][S].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(y[_][S]!=null?y[_][S]:"").slice(0,B[S]);for(ee.write_shift(1,xe,"sbcs"),b=0;b<B[S]-xe.length;++b)ee.write_shift(1,32);break}}return x.next(1).write_shift(1,26),x.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}}(),FP=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Es(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(E,y){var A=e[y];return typeof A=="number"?xv(A):A},n=function(E,y,A){var _=y.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return _==59?E:xv(_)};e["|"]=254;function i(E,y){switch(y.type){case"base64":return a(fi(E),y);case"binary":return a(E,y);case"buffer":return a(bt&&Buffer.isBuffer(E)?E.toString("binary"):Do(E),y);case"array":return a(ko(E),y)}throw new Error("Unrecognized type "+y.type)}function a(E,y){var A=E.split(/[\n\r]+/),_=-1,S=-1,b=0,k=0,T=[],O=[],B=null,F={},R=[],z=[],M=[],te=0,ae;for(+y.codepage>=0&&$i(+y.codepage);b!==A.length;++b){te=0;var q=A[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),de=q.replace(/;;/g,"\0").split(";").map(function(ie){return ie.replace(/\u0000/g,";")}),pe=de[0],ee;if(q.length>0)switch(pe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":de[1].charAt(0)=="P"&&O.push(q.slice(3).replace(/;;/g,";"));break;case"C":var _e=!1,xe=!1,ve=!1,Q=!1,Ce=-1,Be=-1;for(k=1;k<de.length;++k)switch(de[k].charAt(0)){case"A":break;case"X":S=parseInt(de[k].slice(1))-1,xe=!0;break;case"Y":for(_=parseInt(de[k].slice(1))-1,xe||(S=0),ae=T.length;ae<=_;++ae)T[ae]=[];break;case"K":ee=de[k].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(qi(ee))?isNaN(Zl(ee).getDate())||(ee=$r(ee)):(ee=qi(ee),B!==null&&oc(B)&&(ee=$h(ee))),_e=!0;break;case"E":Q=!0;var H=Ol(de[k].slice(1),{r:_,c:S});T[_][S]=[T[_][S],H];break;case"S":ve=!0,T[_][S]=[T[_][S],"S5S"];break;case"G":break;case"R":Ce=parseInt(de[k].slice(1))-1;break;case"C":Be=parseInt(de[k].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}if(_e&&(T[_][S]&&T[_][S].length==2?T[_][S][0]=ee:T[_][S]=ee,B=null),ve){if(Q)throw new Error("SYLK shared formula cannot have own formula");var oe=Ce>-1&&T[Ce][Be];if(!oe||!oe[1])throw new Error("SYLK shared formula cannot find base");T[_][S][1]=zC(oe[1],{r:_-Ce,c:S-Be})}break;case"F":var re=0;for(k=1;k<de.length;++k)switch(de[k].charAt(0)){case"X":S=parseInt(de[k].slice(1))-1,++re;break;case"Y":for(_=parseInt(de[k].slice(1))-1,ae=T.length;ae<=_;++ae)T[ae]=[];break;case"M":te=parseInt(de[k].slice(1))/20;break;case"F":break;case"G":break;case"P":B=O[parseInt(de[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=de[k].slice(1).split(" "),ae=parseInt(M[0],10);ae<=parseInt(M[1],10);++ae)te=parseInt(M[2],10),z[ae-1]=te===0?{hidden:!0}:{wch:te},Ql(z[ae-1]);break;case"C":S=parseInt(de[k].slice(1))-1,z[S]||(z[S]={});break;case"R":_=parseInt(de[k].slice(1))-1,R[_]||(R[_]={}),te>0?(R[_].hpt=te,R[_].hpx=Nu(te)):te===0&&(R[_].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}re<1&&(B=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+q)}}return R.length>0&&(F["!rows"]=R),z.length>0&&(F["!cols"]=z),y&&y.sheetRows&&(T=T.slice(0,y.sheetRows)),[T,F]}function l(E,y){var A=i(E,y),_=A[0],S=A[1],b=cc(_,y);return Es(S).forEach(function(k){b[k]=S[k]}),b}function u(E,y){return Ga(l(E,y),y)}function d(E,y,A,_){var S="C;Y"+(A+1)+";X"+(_+1)+";K";switch(E.t){case"n":S+=E.v||0,E.f&&!E.F&&(S+=";E"+EF(E.f,{r:A,c:_}));break;case"b":S+=E.v?"TRUE":"FALSE";break;case"e":S+=E.w||E.v;break;case"d":S+='"'+(E.w||E.v)+'"';break;case"s":S+='"'+E.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function p(E,y){y.forEach(function(A,_){var S="F;W"+(_+1)+" "+(_+1)+" ";A.hidden?S+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=sh(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=ah(A.wpx)),typeof A.wch=="number"&&(S+=Math.round(A.wch))),S.charAt(S.length-1)!=" "&&E.push(S)})}function x(E,y){y.forEach(function(A,_){var S="F;";A.hidden?S+="M0;":A.hpt?S+="M"+20*A.hpt+";":A.hpx&&(S+="M"+20*VC(A.hpx)+";"),S.length>2&&E.push(S+"R"+(_+1))})}function v(E,y){var A=["ID;PWXL;N;E"],_=[],S=vr(E["!ref"]),b,k=Array.isArray(E),T=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),E["!cols"]&&p(A,E["!cols"]),E["!rows"]&&x(A,E["!rows"]),A.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var O=S.s.r;O<=S.e.r;++O)for(var B=S.s.c;B<=S.e.c;++B){var F=ut({r:O,c:B});b=k?(E[O]||[])[B]:E[F],!(!b||b.v==null&&(!b.f||b.F))&&_.push(d(b,E,O,B))}return A.join(T)+T+_.join(T)+T+"E"+T}return{to_workbook:u,to_sheet:l,from_sheet:v}}(),MP=function(){function e(a,l){switch(l.type){case"base64":return t(fi(a),l);case"binary":return t(a,l);case"buffer":return t(bt&&Buffer.isBuffer(a)?a.toString("binary"):Do(a),l);case"array":return t(ko(a),l)}throw new Error("Unrecognized type "+l.type)}function t(a,l){for(var u=a.split(`
`),d=-1,p=-1,x=0,v=[];x!==u.length;++x){if(u[x].trim()==="BOT"){v[++d]=[],p=0;continue}if(!(d<0)){var E=u[x].trim().split(","),y=E[0],A=E[1];++x;for(var _=u[x]||"";(_.match(/["]/g)||[]).length&1&&x<u.length-1;)_+=`
`+u[++x];switch(_=_.trim(),+y){case-1:if(_==="BOT"){v[++d]=[],p=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?v[d][p]=!0:_==="FALSE"?v[d][p]=!1:isNaN(qi(A))?isNaN(Zl(A).getDate())?v[d][p]=A:v[d][p]=$r(A):v[d][p]=qi(A),++p;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),v[d][p++]=_!==""?_:null;break}if(_==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function r(a,l){return cc(e(a,l),l)}function n(a,l){return Ga(r(a,l),l)}var i=function(){var a=function(d,p,x,v,E){d.push(p),d.push(x+","+v),d.push('"'+E.replace(/"/g,'""')+'"')},l=function(d,p,x,v){d.push(p+","+x),d.push(p==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(d){var p=[],x=vr(d["!ref"]),v,E=Array.isArray(d);a(p,"TABLE",0,1,"sheetjs"),a(p,"VECTORS",0,x.e.r-x.s.r+1,""),a(p,"TUPLES",0,x.e.c-x.s.c+1,""),a(p,"DATA",0,0,"");for(var y=x.s.r;y<=x.e.r;++y){l(p,-1,0,"BOT");for(var A=x.s.c;A<=x.e.c;++A){var _=ut({r:y,c:A});if(v=E?(d[y]||[])[A]:d[_],!v){l(p,1,0,"");continue}switch(v.t){case"n":var S=v.w;!S&&v.v!=null&&(S=v.v),S==null?v.f&&!v.F?l(p,1,0,"="+v.f):l(p,1,0,""):l(p,0,S,"V");break;case"b":l(p,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(p,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=ki(v.z||gt[14],Dn($r(v.v)))),l(p,0,v.w,"V");break;default:l(p,1,0,"")}}}l(p,-1,0,"EOD");var b=`\r
`,k=p.join(b);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),LP=function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(v,E){for(var y=v.split(`
`),A=-1,_=-1,S=0,b=[];S!==y.length;++S){var k=y[S].trim().split(":");if(k[0]==="cell"){var T=In(k[1]);if(b.length<=T.r)for(A=b.length;A<=T.r;++A)b[A]||(b[A]=[]);switch(A=T.r,_=T.c,k[2]){case"t":b[A][_]=e(k[3]);break;case"v":b[A][_]=+k[3];break;case"vtf":var O=k[k.length-1];case"vtc":switch(k[3]){case"nl":b[A][_]=!!+k[4];break;default:b[A][_]=+k[4];break}k[2]=="vtf"&&(b[A][_]=[b[A][_],O])}}}return E&&E.sheetRows&&(b=b.slice(0,E.sheetRows)),b}function n(v,E){return cc(r(v,E),E)}function i(v,E){return Ga(n(v,E),E)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function p(v){if(!v||!v["!ref"])return"";for(var E=[],y=[],A,_="",S=lc(v["!ref"]),b=Array.isArray(v),k=S.s.r;k<=S.e.r;++k)for(var T=S.s.c;T<=S.e.c;++T)if(_=ut({r:k,c:T}),A=b?(v[k]||[])[T]:v[_],!(!A||A.v==null||A.t==="z")){switch(y=["cell",_,"t"],A.t){case"s":case"str":y.push(t(A.v));break;case"n":A.f?(y[2]="vtf",y[3]="n",y[4]=A.v,y[5]=t(A.f)):(y[2]="v",y[3]=A.v);break;case"b":y[2]="vt"+(A.f?"f":"c"),y[3]="nl",y[4]=A.v?"1":"0",y[5]=t(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var O=Dn($r(A.v));y[2]="vtc",y[3]="nd",y[4]=""+O,y[5]=A.w||ki(A.z||gt[14],O);break;case"e":continue}E.push(y.join(":"))}return E.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),E.push("valueformat:1:text-wiki"),E.join(`
`)}function x(v){return[a,l,u,l,p(v),d].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:x}}(),Ru=function(){function e(x,v,E,y,A){A.raw?v[E][y]=x:x===""||(x==="TRUE"?v[E][y]=!0:x==="FALSE"?v[E][y]=!1:isNaN(qi(x))?isNaN(Zl(x).getDate())?v[E][y]=x:v[E][y]=$r(x):v[E][y]=qi(x))}function t(x,v){var E=v||{},y=[];if(!x||x.length===0)return y;for(var A=x.split(/[\r\n]/),_=A.length-1;_>=0&&A[_].length===0;)--_;for(var S=10,b=0,k=0;k<=_;++k)b=A[k].indexOf(" "),b==-1?b=A[k].length:b++,S=Math.max(S,b);for(k=0;k<=_;++k){y[k]=[];var T=0;for(e(A[k].slice(0,S).trim(),y,k,T,E),T=1;T<=(A[k].length-S)/10+1;++T)e(A[k].slice(S+(T-1)*10,S+T*10).trim(),y,k,T,E)}return E.sheetRows&&(y=y.slice(0,E.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(x){for(var v={},E=!1,y=0,A=0;y<x.length;++y)(A=x.charCodeAt(y))==34?E=!E:!E&&A in r&&(v[A]=(v[A]||0)+1);A=[];for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&A.push([v[y],y]);if(!A.length){v=n;for(y in v)Object.prototype.hasOwnProperty.call(v,y)&&A.push([v[y],y])}return A.sort(function(_,S){return _[0]-S[0]||n[_[1]]-n[S[1]]}),r[A.pop()[1]]||44}function a(x,v){var E=v||{},y="",A=E.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};x.slice(0,4)=="sep="?x.charCodeAt(5)==13&&x.charCodeAt(6)==10?(y=x.charAt(4),x=x.slice(7)):x.charCodeAt(5)==13||x.charCodeAt(5)==10?(y=x.charAt(4),x=x.slice(6)):y=i(x.slice(0,1024)):E&&E.FS?y=E.FS:y=i(x.slice(0,1024));var S=0,b=0,k=0,T=0,O=0,B=y.charCodeAt(0),F=!1,R=0,z=x.charCodeAt(0);x=x.replace(/\r\n/mg,`
`);var M=E.dateNF!=null?KN(E.dateNF):null;function te(){var ae=x.slice(T,O),q={};if(ae.charAt(0)=='"'&&ae.charAt(ae.length-1)=='"'&&(ae=ae.slice(1,-1).replace(/""/g,'"')),ae.length===0)q.t="z";else if(E.raw)q.t="s",q.v=ae;else if(ae.trim().length===0)q.t="s",q.v=ae;else if(ae.charCodeAt(0)==61)ae.charCodeAt(1)==34&&ae.charCodeAt(ae.length-1)==34?(q.t="s",q.v=ae.slice(2,-1).replace(/""/g,'"')):AF(ae)?(q.t="n",q.f=ae.slice(1)):(q.t="s",q.v=ae);else if(ae=="TRUE")q.t="b",q.v=!0;else if(ae=="FALSE")q.t="b",q.v=!1;else if(!isNaN(k=qi(ae)))q.t="n",E.cellText!==!1&&(q.w=ae),q.v=k;else if(!isNaN(Zl(ae).getDate())||M&&ae.match(M)){q.z=E.dateNF||gt[14];var de=0;M&&ae.match(M)&&(ae=YN(ae,E.dateNF,ae.match(M)||[]),de=1),E.cellDates?(q.t="d",q.v=$r(ae,de)):(q.t="n",q.v=Dn($r(ae,de))),E.cellText!==!1&&(q.w=ki(q.z,q.v instanceof Date?Dn(q.v):q.v)),E.cellNF||delete q.z}else q.t="s",q.v=ae;if(q.t=="z"||(E.dense?(A[S]||(A[S]=[]),A[S][b]=q):A[ut({c:b,r:S})]=q),T=O+1,z=x.charCodeAt(T),_.e.c<b&&(_.e.c=b),_.e.r<S&&(_.e.r=S),R==B)++b;else if(b=0,++S,E.sheetRows&&E.sheetRows<=S)return!0}e:for(;O<x.length;++O)switch(R=x.charCodeAt(O)){case 34:z===34&&(F=!F);break;case B:case 10:case 13:if(!F&&te())break e;break}return O-T>0&&te(),A["!ref"]=Rt(_),A}function l(x,v){return!(v&&v.PRN)||v.FS||x.slice(0,4)=="sep="||x.indexOf("	")>=0||x.indexOf(",")>=0||x.indexOf(";")>=0?a(x,v):cc(t(x,v),v)}function u(x,v){var E="",y=v.type=="string"?[0,0,0,0]:Wx(x,v);switch(v.type){case"base64":E=fi(x);break;case"binary":E=x;break;case"buffer":v.codepage==65001?E=x.toString("utf8"):v.codepage&&typeof pa<"u"?E=pa.utils.decode(v.codepage,x):E=bt&&Buffer.isBuffer(x)?x.toString("binary"):Do(x);break;case"array":E=ko(x);break;case"string":E=x;break;default:throw new Error("Unrecognized type "+v.type)}return y[0]==239&&y[1]==187&&y[2]==191?E=Xt(E.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?E=Xt(E):v.type=="binary"&&typeof pa<"u"&&v.codepage&&(E=pa.utils.decode(v.codepage,pa.utils.encode(28591,E))),E.slice(0,19)=="socialcalc:version:"?LP.to_sheet(v.type=="string"?E:Xt(E),v):l(E,v)}function d(x,v){return Ga(u(x,v),v)}function p(x){for(var v=[],E=vr(x["!ref"]),y,A=Array.isArray(x),_=E.s.r;_<=E.e.r;++_){for(var S=[],b=E.s.c;b<=E.e.c;++b){var k=ut({r:_,c:b});if(y=A?(x[_]||[])[b]:x[k],!y||y.v==null){S.push("          ");continue}for(var T=(y.w||(Xs(y),y.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(b===0?" ":""))}v.push(S.join(""))}return v.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:p}}();function BP(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=FP.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Ru.to_workbook(e,t)}}var Jc=function(){function e(H,oe,re){if(H){en(H,H.l||0);for(var ie=re.Enum||Ce;H.l<H.length;){var le=H.read_shift(2),Se=ie[le]||ie[65535],De=H.read_shift(2),Pe=H.l+De,be=Se.f&&Se.f(H,De,re);if(H.l=Pe,oe(be,Se,le))return}}}function t(H,oe){switch(oe.type){case"base64":return r(Gi(fi(H)),oe);case"binary":return r(Gi(H),oe);case"buffer":case"array":return r(H,oe)}throw"Unsupported type "+oe.type}function r(H,oe){if(!H)return H;var re=oe||{},ie=re.dense?[]:{},le="Sheet1",Se="",De=0,Pe={},be=[],Ke=[],J={s:{r:0,c:0},e:{r:0,c:0}},$e=re.sheetRows||0;if(H[2]==0&&(H[3]==8||H[3]==9)&&H.length>=16&&H[14]==5&&H[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(H[2]==2)re.Enum=Ce,e(H,function(Re,Ze,Qe){switch(Qe){case 0:re.vers=Re,Re>=4096&&(re.qpro=!0);break;case 6:J=Re;break;case 204:Re&&(Se=Re);break;case 222:Se=Re;break;case 15:case 51:re.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=re.dateNF||gt[14],re.cellDates&&(Re[1].t="d",Re[1].v=$h(Re[1].v))),re.qpro&&Re[3]>De&&(ie["!ref"]=Rt(J),Pe[le]=ie,be.push(le),ie=re.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},De=Re[3],le=Se||"Sheet"+(De+1),Se="");var Ur=re.dense?(ie[Re[0].r]||[])[Re[0].c]:ie[ut(Re[0])];if(Ur){Ur.t=Re[1].t,Ur.v=Re[1].v,Re[1].z!=null&&(Ur.z=Re[1].z),Re[1].f!=null&&(Ur.f=Re[1].f);break}re.dense?(ie[Re[0].r]||(ie[Re[0].r]=[]),ie[Re[0].r][Re[0].c]=Re[1]):ie[ut(Re[0])]=Re[1];break}},re);else if(H[2]==26||H[2]==14)re.Enum=Be,H[2]==14&&(re.qpro=!0,H.l=0),e(H,function(Re,Ze,Qe){switch(Qe){case 204:le=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>De&&(ie["!ref"]=Rt(J),Pe[le]=ie,be.push(le),ie=re.dense?[]:{},J={s:{r:0,c:0},e:{r:0,c:0}},De=Re[3],le="Sheet"+(De+1)),$e>0&&Re[0].r>=$e)break;re.dense?(ie[Re[0].r]||(ie[Re[0].r]=[]),ie[Re[0].r][Re[0].c]=Re[1]):ie[ut(Re[0])]=Re[1],J.e.c<Re[0].c&&(J.e.c=Re[0].c),J.e.r<Re[0].r&&(J.e.r=Re[0].r);break;case 27:Re[14e3]&&(Ke[Re[14e3][0]]=Re[14e3][1]);break;case 1537:Ke[Re[0]]=Re[1],Re[0]==De&&(le=Re[1]);break}},re);else throw new Error("Unrecognized LOTUS BOF "+H[2]);if(ie["!ref"]=Rt(J),Pe[Se||le]=ie,be.push(Se||le),!Ke.length)return{SheetNames:be,Sheets:Pe};for(var lt={},dt=[],it=0;it<Ke.length;++it)Pe[be[it]]?(dt.push(Ke[it]||be[it]),lt[Ke[it]]=Pe[Ke[it]]||Pe[be[it]]):(dt.push(Ke[it]),lt[Ke[it]]={"!ref":"A1"});return{SheetNames:dt,Sheets:lt}}function n(H,oe){var re=oe||{};if(+re.codepage>=0&&$i(+re.codepage),re.type=="string")throw new Error("Cannot write WK1 to JS string");var ie=kp(),le=vr(H["!ref"]),Se=Array.isArray(H),De=[];Fi(ie,0,a(1030)),Fi(ie,6,d(le));for(var Pe=Math.min(le.e.r,8191),be=le.s.r;be<=Pe;++be)for(var Ke=nn(be),J=le.s.c;J<=le.e.c;++J){be===le.s.r&&(De[J]=Lr(J));var $e=De[J]+Ke,lt=Se?(H[be]||[])[J]:H[$e];if(!(!lt||lt.t=="z"))if(lt.t=="n")(lt.v|0)==lt.v&&lt.v>=-32768&&lt.v<=32767?Fi(ie,13,y(be,J,lt.v)):Fi(ie,14,_(be,J,lt.v));else{var dt=Xs(lt);Fi(ie,15,v(be,J,dt.slice(0,239)))}}return Fi(ie,1),ie.end()}function i(H,oe){var re=oe||{};if(+re.codepage>=0&&$i(+re.codepage),re.type=="string")throw new Error("Cannot write WK3 to JS string");var ie=kp();Fi(ie,0,l(H));for(var le=0,Se=0;le<H.SheetNames.length;++le)(H.Sheets[H.SheetNames[le]]||{})["!ref"]&&Fi(ie,27,Q(H.SheetNames[le],Se++));var De=0;for(le=0;le<H.SheetNames.length;++le){var Pe=H.Sheets[H.SheetNames[le]];if(!(!Pe||!Pe["!ref"])){for(var be=vr(Pe["!ref"]),Ke=Array.isArray(Pe),J=[],$e=Math.min(be.e.r,8191),lt=be.s.r;lt<=$e;++lt)for(var dt=nn(lt),it=be.s.c;it<=be.e.c;++it){lt===be.s.r&&(J[it]=Lr(it));var Re=J[it]+dt,Ze=Ke?(Pe[lt]||[])[it]:Pe[Re];if(!(!Ze||Ze.t=="z"))if(Ze.t=="n")Fi(ie,23,te(lt,it,De,Ze.v));else{var Qe=Xs(Ze);Fi(ie,22,R(lt,it,De,Qe.slice(0,239)))}}++De}}return Fi(ie,1),ie.end()}function a(H){var oe=Pr(2);return oe.write_shift(2,H),oe}function l(H){var oe=Pr(26);oe.write_shift(2,4096),oe.write_shift(2,4),oe.write_shift(4,0);for(var re=0,ie=0,le=0,Se=0;Se<H.SheetNames.length;++Se){var De=H.SheetNames[Se],Pe=H.Sheets[De];if(!(!Pe||!Pe["!ref"])){++le;var be=lc(Pe["!ref"]);re<be.e.r&&(re=be.e.r),ie<be.e.c&&(ie=be.e.c)}}return re>8191&&(re=8191),oe.write_shift(2,re),oe.write_shift(1,le),oe.write_shift(1,ie),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(1,1),oe.write_shift(1,2),oe.write_shift(4,0),oe.write_shift(4,0),oe}function u(H,oe,re){var ie={s:{c:0,r:0},e:{c:0,r:0}};return oe==8&&re.qpro?(ie.s.c=H.read_shift(1),H.l++,ie.s.r=H.read_shift(2),ie.e.c=H.read_shift(1),H.l++,ie.e.r=H.read_shift(2),ie):(ie.s.c=H.read_shift(2),ie.s.r=H.read_shift(2),oe==12&&re.qpro&&(H.l+=2),ie.e.c=H.read_shift(2),ie.e.r=H.read_shift(2),oe==12&&re.qpro&&(H.l+=2),ie.s.c==65535&&(ie.s.c=ie.e.c=ie.s.r=ie.e.r=0),ie)}function d(H){var oe=Pr(8);return oe.write_shift(2,H.s.c),oe.write_shift(2,H.s.r),oe.write_shift(2,H.e.c),oe.write_shift(2,H.e.r),oe}function p(H,oe,re){var ie=[{c:0,r:0},{t:"n",v:0},0,0];return re.qpro&&re.vers!=20768?(ie[0].c=H.read_shift(1),ie[3]=H.read_shift(1),ie[0].r=H.read_shift(2),H.l+=2):(ie[2]=H.read_shift(1),ie[0].c=H.read_shift(2),ie[0].r=H.read_shift(2)),ie}function x(H,oe,re){var ie=H.l+oe,le=p(H,oe,re);if(le[1].t="s",re.vers==20768){H.l++;var Se=H.read_shift(1);return le[1].v=H.read_shift(Se,"utf8"),le}return re.qpro&&H.l++,le[1].v=H.read_shift(ie-H.l,"cstr"),le}function v(H,oe,re){var ie=Pr(7+re.length);ie.write_shift(1,255),ie.write_shift(2,oe),ie.write_shift(2,H),ie.write_shift(1,39);for(var le=0;le<ie.length;++le){var Se=re.charCodeAt(le);ie.write_shift(1,Se>=128?95:Se)}return ie.write_shift(1,0),ie}function E(H,oe,re){var ie=p(H,oe,re);return ie[1].v=H.read_shift(2,"i"),ie}function y(H,oe,re){var ie=Pr(7);return ie.write_shift(1,255),ie.write_shift(2,oe),ie.write_shift(2,H),ie.write_shift(2,re,"i"),ie}function A(H,oe,re){var ie=p(H,oe,re);return ie[1].v=H.read_shift(8,"f"),ie}function _(H,oe,re){var ie=Pr(13);return ie.write_shift(1,255),ie.write_shift(2,oe),ie.write_shift(2,H),ie.write_shift(8,re,"f"),ie}function S(H,oe,re){var ie=H.l+oe,le=p(H,oe,re);if(le[1].v=H.read_shift(8,"f"),re.qpro)H.l=ie;else{var Se=H.read_shift(2);O(H.slice(H.l,H.l+Se),le),H.l+=Se}return le}function b(H,oe,re){var ie=oe&32768;return oe&=-32769,oe=(ie?H:0)+(oe>=8192?oe-16384:oe),(ie?"":"$")+(re?Lr(oe):nn(oe))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(H,oe){en(H,0);for(var re=[],ie=0,le="",Se="",De="",Pe="";H.l<H.length;){var be=H[H.l++];switch(be){case 0:re.push(H.read_shift(8,"f"));break;case 1:Se=b(oe[0].c,H.read_shift(2),!0),le=b(oe[0].r,H.read_shift(2),!1),re.push(Se+le);break;case 2:{var Ke=b(oe[0].c,H.read_shift(2),!0),J=b(oe[0].r,H.read_shift(2),!1);Se=b(oe[0].c,H.read_shift(2),!0),le=b(oe[0].r,H.read_shift(2),!1),re.push(Ke+J+":"+Se+le)}break;case 3:if(H.l<H.length){console.error("WK1 premature formula end");return}break;case 4:re.push("("+re.pop()+")");break;case 5:re.push(H.read_shift(2));break;case 6:{for(var $e="";be=H[H.l++];)$e+=String.fromCharCode(be);re.push('"'+$e.replace(/"/g,'""')+'"')}break;case 8:re.push("-"+re.pop());break;case 23:re.push("+"+re.pop());break;case 22:re.push("NOT("+re.pop()+")");break;case 20:case 21:Pe=re.pop(),De=re.pop(),re.push(["AND","OR"][be-20]+"("+De+","+Pe+")");break;default:if(be<32&&T[be])Pe=re.pop(),De=re.pop(),re.push(De+T[be]+Pe);else if(k[be]){if(ie=k[be][1],ie==69&&(ie=H[H.l++]),ie>re.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+re.join("|")+"|");return}var lt=re.slice(-ie);re.length-=ie,re.push(k[be][0]+"("+lt.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}re.length==1?oe[1].f=""+re[0]:console.error("WK1 bad formula parse |"+re.join("|")+"|")}function B(H){var oe=[{c:0,r:0},{t:"n",v:0},0];return oe[0].r=H.read_shift(2),oe[3]=H[H.l++],oe[0].c=H[H.l++],oe}function F(H,oe){var re=B(H);return re[1].t="s",re[1].v=H.read_shift(oe-4,"cstr"),re}function R(H,oe,re,ie){var le=Pr(6+ie.length);le.write_shift(2,H),le.write_shift(1,re),le.write_shift(1,oe),le.write_shift(1,39);for(var Se=0;Se<ie.length;++Se){var De=ie.charCodeAt(Se);le.write_shift(1,De>=128?95:De)}return le.write_shift(1,0),le}function z(H,oe){var re=B(H);re[1].v=H.read_shift(2);var ie=re[1].v>>1;if(re[1].v&1)switch(ie&7){case 0:ie=(ie>>3)*5e3;break;case 1:ie=(ie>>3)*500;break;case 2:ie=(ie>>3)/20;break;case 3:ie=(ie>>3)/200;break;case 4:ie=(ie>>3)/2e3;break;case 5:ie=(ie>>3)/2e4;break;case 6:ie=(ie>>3)/16;break;case 7:ie=(ie>>3)/64;break}return re[1].v=ie,re}function M(H,oe){var re=B(H),ie=H.read_shift(4),le=H.read_shift(4),Se=H.read_shift(2);if(Se==65535)return ie===0&&le===3221225472?(re[1].t="e",re[1].v=15):ie===0&&le===3489660928?(re[1].t="e",re[1].v=42):re[1].v=0,re;var De=Se&32768;return Se=(Se&32767)-16446,re[1].v=(1-De*2)*(le*Math.pow(2,Se+32)+ie*Math.pow(2,Se)),re}function te(H,oe,re,ie){var le=Pr(14);if(le.write_shift(2,H),le.write_shift(1,re),le.write_shift(1,oe),ie==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Se=0,De=0,Pe=0,be=0;return ie<0&&(Se=1,ie=-ie),De=Math.log2(ie)|0,ie/=Math.pow(2,De-31),be=ie>>>0,be&2147483648||(ie/=2,++De,be=ie>>>0),ie-=be,be|=2147483648,be>>>=0,ie*=Math.pow(2,32),Pe=ie>>>0,le.write_shift(4,Pe),le.write_shift(4,be),De+=16383+(Se?32768:0),le.write_shift(2,De),le}function ae(H,oe){var re=M(H);return H.l+=oe-14,re}function q(H,oe){var re=B(H),ie=H.read_shift(4);return re[1].v=ie>>6,re}function de(H,oe){var re=B(H),ie=H.read_shift(8,"f");return re[1].v=ie,re}function pe(H,oe){var re=de(H);return H.l+=oe-10,re}function ee(H,oe){return H[H.l+oe-1]==0?H.read_shift(oe,"cstr"):""}function _e(H,oe){var re=H[H.l++];re>oe-1&&(re=oe-1);for(var ie="";ie.length<re;)ie+=String.fromCharCode(H[H.l++]);return ie}function xe(H,oe,re){if(!(!re.qpro||oe<21)){var ie=H.read_shift(1);H.l+=17,H.l+=1,H.l+=2;var le=H.read_shift(oe-21,"cstr");return[ie,le]}}function ve(H,oe){for(var re={},ie=H.l+oe;H.l<ie;){var le=H.read_shift(2);if(le==14e3){for(re[le]=[0,""],re[le][0]=H.read_shift(2);H[H.l];)re[le][1]+=String.fromCharCode(H[H.l]),H.l++;H.l++}}return re}function Q(H,oe){var re=Pr(5+H.length);re.write_shift(2,14e3),re.write_shift(2,oe);for(var ie=0;ie<H.length;++ie){var le=H.charCodeAt(ie);re[re.l++]=le>127?95:le}return re[re.l++]=0,re}var Ce={0:{n:"BOF",f:Sr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:E},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:x},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:x},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:_e},65535:{n:""}},Be={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:ae},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:q},38:{n:"??"},39:{n:"NUMBER27",f:de},40:{n:"FORMULA28",f:pe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function UP(e){var t={},r=e.match(En),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=st(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=vx[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var jP=function(){var e=ku("t"),t=ku("rPr");function r(a){var l=a.match(e);if(!l)return{t:"s",v:""};var u={t:"s",v:Pt(l[1])},d=a.match(t);return d&&(u.s=UP(d[1])),u}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(u){return u.v})}}(),VP=function(){var t=/(\r\n|\n)/g;function r(i,a,l){var u=[];i.u&&u.push("text-decoration: underline;"),i.uval&&u.push("text-underline-style:"+i.uval+";"),i.sz&&u.push("font-size:"+i.sz+"pt;"),i.outline&&u.push("text-effect: outline;"),i.shadow&&u.push("text-shadow: auto;"),a.push('<span style="'+u.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var d=i.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(a.push("<"+d+">"),l.push("</"+d+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),WP=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,HP=/<(?:\w+:)?r>/,zP=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Fx(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Pt(Xt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Xt(e),r&&(n.h=Tx(n.t))):e.match(HP)&&(n.r=Xt(e),n.t=Pt(Xt((e.replace(zP,"").match(WP)||[]).join("").replace(En,""))),r&&(n.h=VP(jP(n.r)))),n):{t:""}}var GP=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,$P=/<(?:\w+:)?(?:si|sstItem)>/g,XP=/<\/(?:\w+:)?(?:si|sstItem)>/;function KP(e,t){var r=[],n="";if(!e)return r;var i=e.match(GP);if(i){n=i[2].replace($P,"").split(XP);for(var a=0;a!=n.length;++a){var l=Fx(n[a].trim(),t);l!=null&&(r[r.length]=l)}i=st(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function YP(e){return[e.read_shift(4),e.read_shift(4)]}function qP(e,t){var r=[],n=!1;return Ys(e,function(a,l,u){switch(u){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function FC(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Us(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function ZP(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function QP(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function JP(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(QP(e));return t}function e7(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function t7(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Us(e,4),t.U=Us(e,4),t.W=Us(e,4),t}function r7(e){var t=t7(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function MC(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function LC(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function n7(e){var t=Us(e);switch(t.Minor){case 2:return[t.Minor,i7(e)];case 3:return[t.Minor,s7()];case 4:return[t.Minor,a7(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function i7(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=MC(e,r),i=LC(e,e.length-e.l);return{t:"Std",h:n,v:i}}function s7(){throw new Error("File is password-protected: ECMA-376 Extensible")}function a7(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(En,function(a){var l=st(a);switch(As(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(u){n[u]=l[u]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function o7(e,t){var r={},n=r.EncryptionVersionInfo=Us(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=MC(e,i),t-=i,r.EncryptionVerifier=LC(e,t),r}function l7(e){var t={},r=t.EncryptionVersionInfo=Us(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function c7(e){var t=0,r,n=FC(e),i=n.length+1,a,l,u,d,p;for(r=ja(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],u=t&16384?1:0,d=t<<1&32767,p=u|d,t=p^l;return t^52811}var BC=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,u){return n(l^u)},a=function(l){for(var u=t[l.length-1],d=104,p=l.length-1;p>=0;--p)for(var x=l[p],v=0;v!=7;++v)x&64&&(u^=r[d]),x*=2,--d;return u};return function(l){for(var u=FC(l),d=a(u),p=u.length,x=ja(16),v=0;v!=16;++v)x[v]=0;var E,y,A;for((p&1)===1&&(E=d>>8,x[p]=i(e[0],E),--p,E=d&255,y=u[u.length-1],x[p]=i(y,E));p>0;)--p,E=d>>8,x[p]=i(u[p],E),--p,E=d&255,x[p]=i(u[p],E);for(p=15,A=15-u.length;A>0;)E=d>>8,x[p]=i(e[A],E),--p,--A,E=d&255,x[p]=i(u[p],E),--p,--A;return x}}(),u7=function(e,t,r,n,i){i||(i=t),n||(n=BC(e));var a,l;for(a=0;a!=t.length;++a)l=t[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},f7=function(e){var t=0,r=BC(e);return function(n){var i=u7("",n,t,r);return t=i[1],i[0]}};function h7(e,t,r,n){var i={key:Sr(e),verificationBytes:Sr(e)};return r.password&&(i.verifier=c7(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=f7(r.password)),i}function d7(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=l7(e):n.Data=o7(e,t),n}function p7(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?d7(e,t-2,n):h7(e,r.biff>=8?t:t-2,r,n),n}var g7=function(){function e(i,a){switch(a.type){case"base64":return t(fi(i),a);case"binary":return t(i,a);case"buffer":return t(bt&&Buffer.isBuffer(i)?i.toString("binary"):Do(i),a);case"array":return t(ko(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var l=a||{},u=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var p={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(x,v){Array.isArray(u)&&(u[v]=[]);for(var E=/\\\w+\b/g,y=0,A,_=-1;A=E.exec(x);){switch(A[0]){case"\\cell":var S=x.slice(y,E.lastIndex-A[0].length);if(S[0]==" "&&(S=S.slice(1)),++_,S.length){var b={v:S,t:"s"};Array.isArray(u)?u[v][_]=b:u[ut({r:v,c:_})]=b}break}y=E.lastIndex}_>p.e.c&&(p.e.c=_)}),u["!ref"]=Rt(p),u}function r(i,a){return Ga(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=vr(i["!ref"]),u,d=Array.isArray(i),p=l.s.r;p<=l.e.r;++p){a.push("\\trowd\\trautofit1");for(var x=l.s.c;x<=l.e.c;++x)a.push("\\cellx"+(x+1));for(a.push("\\pard\\intbl"),x=l.s.c;x<=l.e.c;++x){var v=ut({r:p,c:x});u=d?(i[p]||[])[x]:i[v],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Xs(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function x7(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Ou(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function m7(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),l=i-a;if(l===0)return[0,0,t];var u=0,d=0,p=i+a;switch(d=l/(p>1?2-p:p),i){case t:u=((r-n)/l+6)%6;break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}return[u/6,d,p/2]}function v7(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],u=6*t,d;if(r!==0)switch(u|0){case 0:case 6:d=i*u,l[0]+=i,l[1]+=d;break;case 1:d=i*(2-u),l[0]+=d,l[1]+=i;break;case 2:d=i*(u-2),l[1]+=i,l[2]+=d;break;case 3:d=i*(4-u),l[1]+=d,l[2]+=i;break;case 4:d=i*(u-4),l[2]+=i,l[0]+=d;break;case 5:d=i*(6-u),l[2]+=d,l[0]+=i;break}for(var p=0;p!=3;++p)l[p]=Math.round(l[p]*255);return l}function ih(e,t){if(t===0)return e;var r=m7(x7(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Ou(v7(r))}var UC=6,w7=15,y7=1,kn=UC;function sh(e){return Math.floor((e+Math.round(128/kn)/256)*kn)}function ah(e){return Math.floor((e-5)/kn*100+.5)/100}function Np(e){return Math.round((e*kn+5)/kn*256)/256}function n1(e){return Np(ah(sh(e)))}function Mx(e){var t=Math.abs(e-n1(e)),r=kn;if(t>.005)for(kn=y7;kn<w7;++kn)Math.abs(e-n1(e))<=t&&(t=Math.abs(e-n1(e)),r=kn);kn=r}function Ql(e){e.width?(e.wpx=sh(e.width),e.wch=ah(e.wpx),e.MDW=kn):e.wpx?(e.wch=ah(e.wpx),e.width=Np(e.wch),e.MDW=kn):typeof e.wch=="number"&&(e.width=Np(e.wch),e.wpx=sh(e.width),e.MDW=kn),e.customWidth&&delete e.customWidth}var E7=96,jC=E7;function VC(e){return e*96/jC}function Nu(e){return e*jC/96}var _7={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function A7(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(En)||[]).forEach(function(l){var u=st(l);switch(As(u[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},u.diagonalUp&&(i.diagonalUp=rr(u.diagonalUp)),u.diagonalDown&&(i.diagonalDown=rr(u.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in borders")}})}function C7(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(En)||[]).forEach(function(l){var u=st(l);switch(As(u[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":u.patternType&&(i.patternType=u.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),u.indexed&&(i.bgColor.indexed=parseInt(u.indexed,10)),u.theme&&(i.bgColor.theme=parseInt(u.theme,10)),u.tint&&(i.bgColor.tint=parseFloat(u.tint)),u.rgb&&(i.bgColor.rgb=u.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),u.theme&&(i.fgColor.theme=parseInt(u.theme,10)),u.tint&&(i.fgColor.tint=parseFloat(u.tint)),u.rgb!=null&&(i.fgColor.rgb=u.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fills")}})}function T7(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(En)||[]).forEach(function(l){var u=st(l);switch(As(u[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":u.val&&(i.name=Xt(u.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=u.val?rr(u.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=u.val?rr(u.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(u.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=u.val?rr(u.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=u.val?rr(u.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=u.val?rr(u.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=u.val?rr(u.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=u.val?rr(u.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":u.val&&(i.sz=+u.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":u.val&&(i.vertAlign=u.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":u.val&&(i.family=parseInt(u.val,10));break;case"<family/>":case"</family>":break;case"<scheme":u.val&&(i.scheme=u.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(u.val=="1")break;u.codepage=vx[parseInt(u.val,10)];break;case"<color":if(i.color||(i.color={}),u.auto&&(i.color.auto=rr(u.auto)),u.rgb)i.color.rgb=u.rgb.slice(-6);else if(u.indexed){i.color.index=parseInt(u.indexed,10);var d=wo[i.color.index];i.color.index==81&&(d=wo[1]),d||(d=wo[1]),i.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else u.theme&&(i.color.theme=parseInt(u.theme,10),u.tint&&(i.color.tint=parseFloat(u.tint)),u.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=ih(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+u[0]+" in fonts")}})}function S7(e,t,r){t.NumberFmt=[];for(var n=Es(gt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=gt[n[i]];var a=e[0].match(En);if(a)for(i=0;i<a.length;++i){var l=st(a[i]);switch(As(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var u=Pt(Xt(l.formatCode)),d=parseInt(l.numFmtId,10);if(t.NumberFmt[d]=u,d>0){if(d>392){for(d=392;d>60&&t.NumberFmt[d]!=null;--d);t.NumberFmt[d]=u}vo(u,d)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var $0=["numFmtId","fillId","fontId","borderId","xfId"],X0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function b7(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(En)||[]).forEach(function(a){var l=st(a),u=0;switch(As(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],u=0;u<$0.length;++u)n[$0[u]]&&(n[$0[u]]=parseInt(n[$0[u]],10));for(u=0;u<X0.length;++u)n[X0[u]]&&(n[X0[u]]=rr(n[X0[u]]));if(t.NumberFmt&&n.numFmtId>392){for(u=392;u>60;--u)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[u]){n.numFmtId=u;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};l.vertical&&(d.vertical=l.vertical),l.horizontal&&(d.horizontal=l.horizontal),l.textRotation!=null&&(d.textRotation=l.textRotation),l.indent&&(d.indent=l.indent),l.wrapText&&(d.wrapText=rr(l.wrapText)),n.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var k7=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(u,d,p){var x={};if(!u)return x;u=u.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=u.match(t))&&S7(v,x,p),(v=u.match(i))&&T7(v,x,d,p),(v=u.match(n))&&C7(v,x,d,p),(v=u.match(a))&&A7(v,x,d,p),(v=u.match(r))&&b7(v,x,p),x}}();function I7(e,t){var r=e.read_shift(2),n=vn(e);return[r,n]}function R7(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=j5(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=U5(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=vn(e),n}var O7=yn;function N7(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var D7=yn;function P7(e,t,r){var n={};n.NumberFmt=[];for(var i in gt)n.NumberFmt[i]=gt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return Ys(e,function(d,p,x){switch(x){case 44:n.NumberFmt[d[0]]=d[1],vo(d[1],d[0]);break;case 43:n.Fonts.push(d),d.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(d.color.rgb=ih(t.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(x),l=!0;break;case 38:a.pop(),l=!1;break;default:if(p.T>0)a.push(x);else if(p.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+x.toString(16))}}),n}var F7=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function M7(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(En)||[]).forEach(function(i){var a=st(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[F7.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function L7(){}function B7(){}var U7=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,j7=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,V7=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function W7(e,t,r){t.themeElements={};var n;[["clrScheme",U7,M7],["fontScheme",j7,L7],["fmtScheme",V7,B7]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var H7=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function WC(e,t){(!e||e.length===0)&&(e=z7());var r,n={};if(!(r=e.match(H7)))throw new Error("themeElements not found in theme");return W7(r[0],n,t),n.raw=e,n}function z7(e,t){var r=[JA];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function G7(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var l;try{l=QA(a,{type:"array"})}catch{return}var u=ii(l,"theme/theme/theme1.xml",!0);if(u)return WC(u,r)}}function $7(e){return e.read_shift(4)}function X7(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=K7(e,4);break;case 2:t.xclrValue=kC(e);break;case 3:t.xclrValue=$7(e);break;case 4:e.l+=4;break}return e.l+=8,t}function K7(e,t){return yn(e,t)}function Y7(e,t){return yn(e,t)}function q7(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=X7(e);break;case 6:n[1]=Y7(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Z7(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(q7(e,r-e.l));return{ixfe:n,ext:a}}function Q7(e,t){t.forEach(function(r){switch(r[0]){}})}function J7(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:vn(e)}}function eF(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function tF(e){return e.l+=4,e.read_shift(4)!=0}function rF(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,u=2;return Ys(e,function(d,p,x){switch(x){case 335:n.Types.push({name:d.name});break;case 51:d.forEach(function(v){u==1?n.Cell.push({type:n.Types[v[0]-1].name,index:v[1]}):u==0&&n.Value.push({type:n.Types[v[0]-1].name,index:v[1]})});break;case 337:u=d?1:0;break;case 338:u=2;break;case 35:a.push(x),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!p.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}}),n}function nF(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,l;return e.replace(En,function(u){var d=st(u);switch(As(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var p=0;p<n.Types.length;++p)n.Types[p].name==d.name&&(l=n.Types[p]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[d.t-1].name,index:+d.v}):a==0&&n.Value.push({type:n.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+d.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return u}),n}function iF(e){var t=[];if(!e)return t;var r=1;return(e.match(En)||[]).forEach(function(n){var i=st(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function sF(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ut(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function aF(e,t,r){var n=[];return Ys(e,function(a,l,u){switch(u){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function oF(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Ys(e,function(u,d,p){switch(p){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!d.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}},i)}function lF(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function tw(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(l){var u=In(l.ref);if(i?(e[u.r]||(e[u.r]=[]),a=e[u.r][u.c]):a=e[l.ref],!a){a={t:"z"},i?e[u.r][u.c]=a:e[l.ref]=a;var d=vr(e["!ref"]||"BDWGO1000001:A1");d.s.r>u.r&&(d.s.r=u.r),d.e.r<u.r&&(d.e.r=u.r),d.s.c>u.c&&(d.s.c=u.c),d.e.c<u.c&&(d.e.c=u.c);var p=Rt(d);p!==e["!ref"]&&(e["!ref"]=p)}a.c||(a.c=[]);var x={a:l.author,t:l.t,r:l.r,T:r};l.h&&(x.h=l.h);for(var v=a.c.length-1;v>=0;--v){if(!r&&a.c[v].T)return;r&&!a.c[v].T&&a.c.splice(v,1)}if(r&&n){for(v=0;v<n.length;++v)if(x.a==n[v].id){x.a=n[v].name||x.a;break}}a.c.push(x)})}function cF(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?author[^>]*>(.*)/);u&&r.push(u[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var u=l.match(/<(?:\w+:)?comment[^>]*>/);if(u){var d=st(u[0]),p={author:d.authorId&&r[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},x=In(d.ref);if(!(t.sheetRows&&t.sheetRows<=x.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),E=!!v&&!!v[1]&&Fx(v[1])||{r:"",t:"",h:""};p.r=E.r,E.r=="<t></t>"&&(E.t=E.h=""),p.t=(E.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(p.h=E.h),n.push(p)}}}}),n}function uF(e,t){var r=[],n=!1,i={},a=0;return e.replace(En,function(u,d){var p=st(u);switch(As(p[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:p.personId,guid:p.id,ref:p.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=d+u.length;break;case"</text>":i.t=e.slice(a,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+p[0]+" in threaded comments")}return u}),r}function fF(e,t){var r=[],n=!1;return e.replace(En,function(a){var l=st(a);switch(As(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function hF(e){var t={};t.iauthor=e.read_shift(4);var r=Fo(e);return t.rfx=r.s,t.ref=ut(r.s),e.l+=16,t}var dF=vn;function pF(e,t){var r=[],n=[],i={},a=!1;return Ys(e,function(u,d,p){switch(p){case 632:n.push(u);break;case 635:i=u;break;case 637:i.t=u.t,i.h=u.h,i.r=u.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}var gF="application/vnd.ms-office.vbaProject";function xF(e){var t=It.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");It.utils.cfb_add(t,i,e.FileIndex[n].content)}}),It.write(t)}function mF(){return{"!type":"dialog"}}function vF(){return{"!type":"dialog"}}function wF(){return{"!type":"macro"}}function yF(){return{"!type":"macro"}}var Ol=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,l){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var p=a.length>0?parseInt(a,10)|0:0,x=l.length>0?parseInt(l,10)|0:0;return u?x+=t.c:--x,d?p+=t.r:--p,i+(u?"":"$")+Lr(x)+(d?"":"$")+nn(p)}return function(i,a){return t=a,i.replace(e,r)}}(),HC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,EF=function(){return function(t,r){return t.replace(HC,function(n,i,a,l,u,d){var p=Ix(l)-(a?0:r.c),x=kx(d)-(u?0:r.r),v=x==0?"":u?x+1:"["+x+"]",E=p==0?"":a?p+1:"["+p+"]";return i+"R"+v+"C"+E})}}();function zC(e,t){return e.replace(HC,function(r,n,i,a,l,u){return n+(i=="$"?i+a:Lr(Ix(a)+t.c))+(l=="$"?l+u:nn(kx(u)+t.r))})}function _F(e,t,r){var n=lc(t),i=n.s,a=In(r),l={r:a.r-i.r,c:a.c-i.c};return zC(e,l)}function AF(e){return e.length!=1}function rw(e){return e.replace(/_xlfn\./g,"")}function Cr(e){e.l+=1}function Va(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function GC(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $C(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),l=Va(e),u=Va(e);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function $C(e){var t=Va(e),r=Va(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function CF(e,t,r){if(r.biff<8)return $C(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Va(e),l=Va(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function XC(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return TF(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Va(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function TF(e){var t=Va(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function SF(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bF(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return kF(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:u}}function kF(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function IF(e,t,r){var n=(e[e.l++]&96)>>5,i=GC(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function RF(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var l=GC(e,a,r);return[n,i,l]}function OF(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function NF(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function DF(e,t,r){var n=(e[e.l++]&96)>>5,i=CF(e,t-1,r);return[n,i]}function PF(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function nw(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function FF(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function MF(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function LF(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function BF(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function UF(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function KC(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jF(e){return e.read_shift(2),KC(e)}function VF(e){return e.read_shift(2),KC(e)}function WF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=XC(e,0,r);return[n,i]}function HF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=bF(e,0,r);return[n,i]}function zF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=XC(e,0,r);return[n,i,a]}function GF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[$9[i],ZC[i],n]}function $F(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:XF(e);return[i,(a[0]===0?ZC:G9)[a[1]]]}function XF(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function KF(e,t,r){e.l+=r&&r.biff==2?3:4}function YF(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function qF(e){return e.l++,Mo[e.read_shift(1)]}function ZF(e){return e.l++,e.read_shift(2)}function QF(e){return e.l++,e.read_shift(1)!==0}function JF(e){return e.l++,xn(e)}function e9(e,t,r){return e.l++,e0(e,t-1,r)}function t9(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Er(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Mo[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=xn(e);break;case 2:r[1]=Lo(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function r9(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Fo:Xh)(e));return i}function n9(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=i;++u)l[a][u]=t9(e,r.biff);return l}function i9(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function s9(e,t,r){if(r.biff==5)return a9(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function a9(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function o9(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function l9(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function c9(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function u9(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var f9=yn,h9=yn,d9=yn;function r0(e,t,r){return e.l+=2,[SF(e)]}function Lx(e){return e.l+=6,[]}var p9=r0,g9=Lx,x9=Lx,m9=r0;function YC(e){return e.l+=2,[Sr(e),e.read_shift(2)&1]}var v9=r0,w9=YC,y9=Lx,E9=r0,_9=r0,A9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function C9(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),l=A9[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:i,C:a}}function T9(e){return e.l+=2,[e.read_shift(4)]}function S9(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function b9(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function k9(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function I9(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function R9(e){return e.l+=4,[0,0]}var iw={1:{n:"PtgExp",f:YF},2:{n:"PtgTbl",f:d9},3:{n:"PtgAdd",f:Cr},4:{n:"PtgSub",f:Cr},5:{n:"PtgMul",f:Cr},6:{n:"PtgDiv",f:Cr},7:{n:"PtgPower",f:Cr},8:{n:"PtgConcat",f:Cr},9:{n:"PtgLt",f:Cr},10:{n:"PtgLe",f:Cr},11:{n:"PtgEq",f:Cr},12:{n:"PtgGe",f:Cr},13:{n:"PtgGt",f:Cr},14:{n:"PtgNe",f:Cr},15:{n:"PtgIsect",f:Cr},16:{n:"PtgUnion",f:Cr},17:{n:"PtgRange",f:Cr},18:{n:"PtgUplus",f:Cr},19:{n:"PtgUminus",f:Cr},20:{n:"PtgPercent",f:Cr},21:{n:"PtgParen",f:Cr},22:{n:"PtgMissArg",f:Cr},23:{n:"PtgStr",f:e9},26:{n:"PtgSheet",f:S9},27:{n:"PtgEndSheet",f:b9},28:{n:"PtgErr",f:qF},29:{n:"PtgBool",f:QF},30:{n:"PtgInt",f:ZF},31:{n:"PtgNum",f:JF},32:{n:"PtgArray",f:PF},33:{n:"PtgFunc",f:GF},34:{n:"PtgFuncVar",f:$F},35:{n:"PtgName",f:i9},36:{n:"PtgRef",f:WF},37:{n:"PtgArea",f:IF},38:{n:"PtgMemArea",f:o9},39:{n:"PtgMemErr",f:f9},40:{n:"PtgMemNoMem",f:h9},41:{n:"PtgMemFunc",f:l9},42:{n:"PtgRefErr",f:c9},43:{n:"PtgAreaErr",f:OF},44:{n:"PtgRefN",f:HF},45:{n:"PtgAreaN",f:DF},46:{n:"PtgMemAreaN",f:k9},47:{n:"PtgMemNoMemN",f:I9},57:{n:"PtgNameX",f:s9},58:{n:"PtgRef3d",f:zF},59:{n:"PtgArea3d",f:RF},60:{n:"PtgRefErr3d",f:u9},61:{n:"PtgAreaErr3d",f:NF},255:{}},O9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},N9={1:{n:"PtgElfLel",f:YC},2:{n:"PtgElfRw",f:E9},3:{n:"PtgElfCol",f:p9},6:{n:"PtgElfRwV",f:_9},7:{n:"PtgElfColV",f:m9},10:{n:"PtgElfRadical",f:v9},11:{n:"PtgElfRadicalS",f:y9},13:{n:"PtgElfColS",f:g9},15:{n:"PtgElfColSV",f:x9},16:{n:"PtgElfRadicalLel",f:w9},25:{n:"PtgList",f:C9},29:{n:"PtgSxName",f:T9},255:{}},D9={0:{n:"PtgAttrNoop",f:R9},1:{n:"PtgAttrSemi",f:UF},2:{n:"PtgAttrIf",f:LF},4:{n:"PtgAttrChoose",f:FF},8:{n:"PtgAttrGoto",f:MF},16:{n:"PtgAttrSum",f:KF},32:{n:"PtgAttrBaxcel",f:nw},33:{n:"PtgAttrBaxcel",f:nw},64:{n:"PtgAttrSpace",f:jF},65:{n:"PtgAttrSpaceSemi",f:VF},128:{n:"PtgAttrIfError",f:BF},255:{}};function n0(e,t,r,n){if(n.biff<8)return yn(e,t);for(var i=e.l+t,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=n9(e,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=r9(e,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=i-e.l,t!==0&&a.push(yn(e,t)),a}function i0(e,t,r){for(var n=e.l+t,i,a,l=[];n!=e.l;)t=n-e.l,a=e[e.l],i=iw[a]||iw[O9[a]],(a===24||a===25)&&(i=(a===24?N9:D9)[e[e.l+1]]),!i||!i.f?yn(e,t):l.push([i.n,i.f(e,t,r)]);return l}function P9(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var F9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function M9(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function qC(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sw(e,t,r){var n=qC(e,t,r);return n=="#REF"?n:M9(n,r)}function pn(e,t,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0},e:{c:0,r:0}},u=[],d,p,x,v=0,E=0,y,A="";if(!e[0]||!e[0][0])return"";for(var _=-1,S="",b=0,k=e[0].length;b<k;++b){var T=e[0][b];switch(T[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),p=u.pop(),_>=0){switch(e[0][_][1][0]){case 0:S=mr(" ",e[0][_][1][1]);break;case 1:S=mr("\r",e[0][_][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}p=p+S,_=-1}u.push(p+F9[T[0]]+d);break;case"PtgIsect":d=u.pop(),p=u.pop(),u.push(p+" "+d);break;case"PtgUnion":d=u.pop(),p=u.pop(),u.push(p+","+d);break;case"PtgRange":d=u.pop(),p=u.pop(),u.push(p+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":x=Yc(T[1][1],l,i),u.push(qc(x,a));break;case"PtgRefN":x=r?Yc(T[1][1],r,i):T[1][1],u.push(qc(x,a));break;case"PtgRef3d":v=T[1][1],x=Yc(T[1][2],l,i),A=sw(n,v,i),u.push(A+"!"+qc(x,a));break;case"PtgFunc":case"PtgFuncVar":var O=T[1][0],B=T[1][1];O||(O=0),O&=127;var F=O==0?[]:u.slice(-O);u.length-=O,B==="User"&&(B=F.shift()),u.push(B+"("+F.join(",")+")");break;case"PtgBool":u.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(T[1]);break;case"PtgNum":u.push(String(T[1]));break;case"PtgStr":u.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(T[1]);break;case"PtgAreaN":y=Uv(T[1][1],r?{s:r}:l,i),u.push(t1(y,i));break;case"PtgArea":y=Uv(T[1][1],l,i),u.push(t1(y,i));break;case"PtgArea3d":v=T[1][1],y=T[1][2],A=sw(n,v,i),u.push(A+"!"+t1(y,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":E=T[1][2];var R=(n.names||[])[E-1]||(n[0]||[])[E],z=R?R.Name:"SH33TJSNAME"+String(E);z&&z.slice(0,6)=="_xlfn."&&!i.xlfn&&(z=z.slice(6)),u.push(z);break;case"PtgNameX":var M=T[1][1];E=T[1][2];var te;if(i.biff<=5)M<0&&(M=-M),n[M]&&(te=n[M][E]);else{var ae="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][E]&&n[M][E].itab>0&&(ae=n.SheetNames[n[M][E].itab-1]+"!"):ae=n.SheetNames[E-1]+"!"),n[M]&&n[M][E])ae+=n[M][E].Name;else if(n[0]&&n[0][E])ae+=n[0][E].Name;else{var q=(qC(n,M,i)||"").split(";;");q[E-1]?ae=q[E-1]:ae+="SH33TJSERRX"}u.push(ae);break}te||(te={Name:"SH33TJSERRY"}),u.push(te.Name);break;case"PtgParen":var de="(",pe=")";if(_>=0){switch(S="",e[0][_][1][0]){case 2:de=mr(" ",e[0][_][1][1])+de;break;case 3:de=mr("\r",e[0][_][1][1])+de;break;case 4:pe=mr(" ",e[0][_][1][1])+pe;break;case 5:pe=mr("\r",e[0][_][1][1])+pe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][_][1][0])}_=-1}u.push(de+u.pop()+pe);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":x={c:T[1][1],r:T[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[ut(x)]){var _e=n.sharedf[ut(x)];u.push(pn(_e,l,ee,n,i))}else{var xe=!1;for(d=0;d!=n.arrayf.length;++d)if(p=n.arrayf[d],!(x.c<p[0].s.c||x.c>p[0].e.c)&&!(x.r<p[0].s.r||x.r>p[0].e.r)){u.push(pn(p[1],l,ee,n,i)),xe=!0;break}xe||u.push(T[1])}break;case"PtgArray":u.push("{"+P9(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&ve.indexOf(e[0][b][0])==-1){T=e[0][_];var Q=!0;switch(T[1][0]){case 4:Q=!1;case 0:S=mr(" ",T[1][1]);break;case 5:Q=!1;case 1:S=mr("\r",T[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}u.push((Q?S:"")+u.pop()+(Q?"":S)),_=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function L9(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],yn(e,t-2)];var u=i0(e,l,r);return t!==l+i&&(a=n0(e,t-l-i,u,r)),e.l=n,[u,a]}function B9(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,l=e.read_shift(i);if(l==65535)return[[],yn(e,t-2)];var u=i0(e,l,r);return t!==l+i&&(a=n0(e,t-l-i,u,r)),e.l=n,[u,a]}function U9(e,t,r,n){var i=e.l+t,a=i0(e,n,r),l;return i!==e.l&&(l=n0(e,i-e.l,a,r)),[a,l]}function j9(e,t,r){var n=e.l+t,i,a=e.read_shift(2),l=i0(e,a,r);return a==65535?[[],yn(e,t-2)]:(t!==a+2&&(i=n0(e,n-a-2,l,r)),[l,i])}function V9(e){var t;if(Ms(e,e.l+6)!==65535)return[xn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function i1(e,t,r){var n=e.l+t,i=Cs(e);r.biff==2&&++e.l;var a=V9(e),l=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var u=B9(e,n-e.l,r);return{cell:i,val:a[0],formula:u,shared:l>>3&1,tt:a[1]}}function Kh(e,t,r){var n=e.read_shift(4),i=i0(e,n,r),a=e.read_shift(4),l=a>0?n0(e,a,i,r):null;return[i,l]}var W9=Kh,Yh=Kh,H9=Kh,z9=Kh,G9={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aw(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function s1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var eu={},Nl={};function tu(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function QC(e,t,r,n,i,a){try{n.cellNF&&(e.z=gt[t])}catch(u){if(n.WTF)throw u}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=$r(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(gt[t]==null&&vo(XN[t]||"General",t),e.t==="e")e.w=e.w||Mo[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=bu(e.v);else if(e.t==="d"){var l=Dn(e.v);(l|0)===l?e.w=l.toString(10):e.w=bu(l)}else{if(e.v===void 0)return"";e.w=bo(e.v,Nl)}else e.t==="d"?e.w=ki(t,Dn(e.v),Nl):e.w=ki(t,e.v,Nl)}catch(u){if(n.WTF)throw u}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ih(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ih(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(u){if(n.WTF&&a.Fills)throw u}}}function X9(e,t){var r=vr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Rt(r))}var K9=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Y9=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,q9=/<(?:\w:)?hyperlink [^>]*>/mg,Z9=/"(\w*:\w*)"/,Q9=/<(?:\w:)?col\b[^>]*[\/]?>/g,J9=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,eM=/<(?:\w:)?pageMargins[^>]*\/>/g,JC=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,tM=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,rM=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function nM(e,t,r,n,i,a,l){if(!e)return e;n||(n={"!id":{}});var u=t.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p="",x="",v=e.match(Y9);v?(p=e.slice(0,v.index),x=e.slice(v.index+v[0].length)):p=x=e;var E=p.match(JC);E?Bx(E[0],u,i,r):(E=p.match(tM))&&iM(E[0],E[1]||"",u,i,r);var y=(p.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var A=p.slice(y,y+50).match(Z9);A&&X9(u,A[1])}var _=p.match(rM);_&&_[1]&&uM(_[1],i);var S=[];if(t.cellStyles){var b=p.match(Q9);b&&oM(S,b)}v&&fM(v[1],u,t,d,a,l);var k=x.match(J9);k&&(u["!autofilter"]=lM(k[0]));var T=[],O=x.match(K9);if(O)for(y=0;y!=O.length;++y)T[y]=vr(O[y].slice(O[y].indexOf('"')+1));var B=x.match(q9);B&&sM(u,B,n);var F=x.match(eM);if(F&&(u["!margins"]=aM(st(F[0]))),!u["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(u["!ref"]=Rt(d)),t.sheetRows>0&&u["!ref"]){var R=vr(u["!ref"]);t.sheetRows<=+R.e.r&&(R.e.r=t.sheetRows-1,R.e.r>d.e.r&&(R.e.r=d.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>d.e.c&&(R.e.c=d.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Rt(R))}return S.length>0&&(u["!cols"]=S),T.length>0&&(u["!merges"]=T),u}function Bx(e,t,r,n){var i=st(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Pt(Xt(i.codeName)))}function iM(e,t,r,n,i){Bx(e.slice(0,e.indexOf(">")),r,n,i)}function sM(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=st(Xt(t[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+Pt(a.location))):(a.Target="#"+Pt(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var u=vr(a.ref),d=u.s.r;d<=u.e.r;++d)for(var p=u.s.c;p<=u.e.c;++p){var x=ut({c:p,r:d});n?(e[d]||(e[d]=[]),e[d][p]||(e[d][p]={t:"z",v:void 0}),e[d][p].l=a):(e[x]||(e[x]={t:"z",v:void 0}),e[x].l=a)}}}function aM(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function oM(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=st(t[n],!0);i.hidden&&(i.hidden=rr(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,Mx(i.width)),Ql(i);a<=l;)e[a++]=rn(i)}}function lM(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var cM=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function uM(e,t){t.Views||(t.Views=[{}]),(e.match(cM)||[]).forEach(function(r,n){var i=st(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),rr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var fM=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=ku("v"),l=ku("f");return function(d,p,x,v,E,y){for(var A=0,_="",S=[],b=[],k=0,T=0,O=0,B="",F,R,z=0,M=0,te,ae,q=0,de=0,pe=Array.isArray(y.CellXf),ee,_e=[],xe=[],ve=Array.isArray(p),Q=[],Ce={},Be=!1,H=!!x.sheetStubs,oe=d.split(t),re=0,ie=oe.length;re!=ie;++re){_=oe[re].trim();var le=_.length;if(le!==0){var Se=0;e:for(A=0;A<le;++A)switch(_[A]){case">":if(_[A-1]!="/"){++A;break e}if(x&&x.cellStyles){if(R=st(_.slice(Se,A),!0),z=R.r!=null?parseInt(R.r,10):z+1,M=-1,x.sheetRows&&x.sheetRows<z)continue;Ce={},Be=!1,R.ht&&(Be=!0,Ce.hpt=parseFloat(R.ht),Ce.hpx=Nu(Ce.hpt)),R.hidden=="1"&&(Be=!0,Ce.hidden=!0),R.outlineLevel!=null&&(Be=!0,Ce.level=+R.outlineLevel),Be&&(Q[z-1]=Ce)}break;case"<":Se=A;break}if(Se>=A)break;if(R=st(_.slice(Se,A),!0),z=R.r!=null?parseInt(R.r,10):z+1,M=-1,!(x.sheetRows&&x.sheetRows<z)){v.s.r>z-1&&(v.s.r=z-1),v.e.r<z-1&&(v.e.r=z-1),x&&x.cellStyles&&(Ce={},Be=!1,R.ht&&(Be=!0,Ce.hpt=parseFloat(R.ht),Ce.hpx=Nu(Ce.hpt)),R.hidden=="1"&&(Be=!0,Ce.hidden=!0),R.outlineLevel!=null&&(Be=!0,Ce.level=+R.outlineLevel),Be&&(Q[z-1]=Ce)),S=_.slice(A).split(e);for(var De=0;De!=S.length&&S[De].trim().charAt(0)=="<";++De);for(S=S.slice(De),A=0;A!=S.length;++A)if(_=S[A].trim(),_.length!==0){if(b=_.match(r),k=A,T=0,O=0,_="<c "+(_.slice(0,1)=="<"?">":"")+_,b!=null&&b.length===2){for(k=0,B=b[1],T=0;T!=B.length&&!((O=B.charCodeAt(T)-64)<1||O>26);++T)k=26*k+O;--k,M=k}else++M;for(T=0;T!=_.length&&_.charCodeAt(T)!==62;++T);if(++T,R=st(_.slice(0,T),!0),R.r||(R.r=ut({r:z-1,c:M})),B=_.slice(T),F={t:""},(b=B.match(a))!=null&&b[1]!==""&&(F.v=Pt(b[1])),x.cellFormula){if((b=B.match(l))!=null&&b[1]!==""){if(F.f=Pt(Xt(b[1])).replace(/\r\n/g,`
`),x.xlfn||(F.f=rw(F.f)),b[0].indexOf('t="array"')>-1)F.F=(B.match(i)||[])[1],F.F.indexOf(":")>-1&&_e.push([vr(F.F),F.F]);else if(b[0].indexOf('t="shared"')>-1){ae=st(b[0]);var Pe=Pt(Xt(b[1]));x.xlfn||(Pe=rw(Pe)),xe[parseInt(ae.si,10)]=[ae,Pe,R.r]}}else(b=B.match(/<f[^>]*\/>/))&&(ae=st(b[0]),xe[ae.si]&&(F.f=_F(xe[ae.si][1],xe[ae.si][2],R.r)));var be=In(R.r);for(T=0;T<_e.length;++T)be.r>=_e[T][0].s.r&&be.r<=_e[T][0].e.r&&be.c>=_e[T][0].s.c&&be.c<=_e[T][0].e.c&&(F.F=_e[T][1])}if(R.t==null&&F.v===void 0)if(F.f||F.F)F.v=0,F.t="n";else if(H)F.t="z";else continue;else F.t=R.t||"n";switch(v.s.c>M&&(v.s.c=M),v.e.c<M&&(v.e.c=M),F.t){case"n":if(F.v==""||F.v==null){if(!H)continue;F.t="z"}else F.v=parseFloat(F.v);break;case"s":if(typeof F.v>"u"){if(!H)continue;F.t="z"}else te=eu[parseInt(F.v,10)],F.v=te.t,F.r=te.r,x.cellHTML&&(F.h=te.h);break;case"str":F.t="s",F.v=F.v!=null?Xt(F.v):"",x.cellHTML&&(F.h=Tx(F.v));break;case"inlineStr":b=B.match(n),F.t="s",b!=null&&(te=Fx(b[1]))?(F.v=te.t,x.cellHTML&&(F.h=te.h)):F.v="";break;case"b":F.v=rr(F.v);break;case"d":x.cellDates?F.v=$r(F.v,1):(F.v=Dn($r(F.v,1)),F.t="n");break;case"e":(!x||x.cellText!==!1)&&(F.w=F.v),F.v=yC[F.v];break}if(q=de=0,ee=null,pe&&R.s!==void 0&&(ee=y.CellXf[R.s],ee!=null&&(ee.numFmtId!=null&&(q=ee.numFmtId),x.cellStyles&&ee.fillId!=null&&(de=ee.fillId))),QC(F,q,de,x,E,y),x.cellDates&&pe&&F.t=="n"&&oc(gt[q])&&(F.t="d",F.v=$h(F.v)),R.cm&&x.xlmeta){var Ke=(x.xlmeta.Cell||[])[+R.cm-1];Ke&&Ke.type=="XLDAPR"&&(F.D=!0)}if(ve){var J=In(R.r);p[J.r]||(p[J.r]=[]),p[J.r][J.c]=F}else p[R.r]=F}}}}Q.length>0&&(p["!rows"]=Q)}}();function hM(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var dM=Fo;function pM(){}function gM(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=L5(e),r}function xM(e){var t=Ii(e);return[t]}function mM(e){var t=Po(e);return[t]}function vM(e){var t=Ii(e),r=e.read_shift(1);return[t,r,"b"]}function wM(e){var t=Po(e),r=e.read_shift(1);return[t,r,"b"]}function yM(e){var t=Ii(e),r=e.read_shift(1);return[t,r,"e"]}function EM(e){var t=Po(e),r=e.read_shift(1);return[t,r,"e"]}function _M(e){var t=Ii(e),r=e.read_shift(4);return[t,r,"s"]}function AM(e){var t=Po(e),r=e.read_shift(4);return[t,r,"s"]}function CM(e){var t=Ii(e),r=xn(e);return[t,r,"n"]}function eT(e){var t=Po(e),r=xn(e);return[t,r,"n"]}function TM(e){var t=Ii(e),r=Nx(e);return[t,r,"n"]}function SM(e){var t=Po(e),r=Nx(e);return[t,r,"n"]}function bM(e){var t=Ii(e),r=Rx(e);return[t,r,"is"]}function kM(e){var t=Ii(e),r=vn(e);return[t,r,"str"]}function IM(e){var t=Po(e),r=vn(e);return[t,r,"str"]}function RM(e,t,r){var n=e.l+t,i=Ii(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"b"];if(r.cellFormula){e.l+=2;var u=Yh(e,n-e.l,r);l[3]=pn(u,null,i,r.supbooks,r)}else e.l=n;return l}function OM(e,t,r){var n=e.l+t,i=Ii(e);i.r=r["!row"];var a=e.read_shift(1),l=[i,a,"e"];if(r.cellFormula){e.l+=2;var u=Yh(e,n-e.l,r);l[3]=pn(u,null,i,r.supbooks,r)}else e.l=n;return l}function NM(e,t,r){var n=e.l+t,i=Ii(e);i.r=r["!row"];var a=xn(e),l=[i,a,"n"];if(r.cellFormula){e.l+=2;var u=Yh(e,n-e.l,r);l[3]=pn(u,null,i,r.supbooks,r)}else e.l=n;return l}function DM(e,t,r){var n=e.l+t,i=Ii(e);i.r=r["!row"];var a=vn(e),l=[i,a,"str"];if(r.cellFormula){e.l+=2;var u=Yh(e,n-e.l,r);l[3]=pn(u,null,i,r.supbooks,r)}else e.l=n;return l}var PM=Fo;function FM(e,t){var r=e.l+t,n=Fo(e),i=Ox(e),a=vn(e),l=vn(e),u=vn(e);e.l=r;var d={rfx:n,relId:i,loc:a,display:u};return l&&(d.Tooltip=l),d}function MM(){}function LM(e,t,r){var n=e.l+t,i=mC(e),a=e.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var u=W9(e,n-e.l,r);l[1]=u}else e.l=n;return l}function BM(e,t,r){var n=e.l+t,i=Fo(e),a=[i];if(r.cellFormula){var l=z9(e,n-e.l,r);a[1]=l,e.l=n}else e.l=n;return a}var UM=["left","right","top","bottom","header","footer"];function jM(e){var t={};return UM.forEach(function(r){t[r]=xn(e)}),t}function VM(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function WM(){}function HM(){}function zM(e,t,r,n,i,a,l){if(!e)return e;var u=t||{};n||(n={"!id":{}});var d=u.dense?[]:{},p,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,E=!1,y,A,_,S,b,k,T,O,B,F=[];u.biff=12,u["!row"]=0;var R=0,z=!1,M=[],te={},ae=u.supbooks||i.supbooks||[[]];if(ae.sharedf=te,ae.arrayf=M,ae.SheetNames=i.SheetNames||i.Sheets.map(function(ve){return ve.name}),!u.supbooks&&(u.supbooks=ae,i.Names))for(var q=0;q<i.Names.length;++q)ae[0][q+1]=i.Names[q];var de=[],pe=[],ee=!1;oh[16]={n:"BrtShortReal",f:eT};var _e;if(Ys(e,function(Q,Ce,Be){if(!E)switch(Be){case 148:p=Q;break;case 0:y=Q,u.sheetRows&&u.sheetRows<=y.r&&(E=!0),O=nn(S=y.r),u["!row"]=y.r,(Q.hidden||Q.hpt||Q.level!=null)&&(Q.hpt&&(Q.hpx=Nu(Q.hpt)),pe[Q.r]=Q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:Q[2]},Q[2]){case"n":A.v=Q[1];break;case"s":T=eu[Q[1]],A.v=T.t,A.r=T.r;break;case"b":A.v=!!Q[1];break;case"e":A.v=Q[1],u.cellText!==!1&&(A.w=Mo[A.v]);break;case"str":A.t="s",A.v=Q[1];break;case"is":A.t="s",A.v=Q[1].t;break}if((_=l.CellXf[Q[0].iStyleRef])&&QC(A,_.numFmtId,null,u,a,l),b=Q[0].c==-1?b+1:Q[0].c,u.dense?(d[S]||(d[S]=[]),d[S][b]=A):d[Lr(b)+O]=A,u.cellFormula){for(z=!1,R=0;R<M.length;++R){var H=M[R];y.r>=H[0].s.r&&y.r<=H[0].e.r&&b>=H[0].s.c&&b<=H[0].e.c&&(A.F=Rt(H[0]),z=!0)}!z&&Q.length>3&&(A.f=Q[3])}if(x.s.r>y.r&&(x.s.r=y.r),x.s.c>b&&(x.s.c=b),x.e.r<y.r&&(x.e.r=y.r),x.e.c<b&&(x.e.c=b),u.cellDates&&_&&A.t=="n"&&oc(gt[_.numFmtId])){var oe=oo(A.v);oe&&(A.t="d",A.v=new Date(oe.y,oe.m-1,oe.d,oe.H,oe.M,oe.S,oe.u))}_e&&(_e.type=="XLDAPR"&&(A.D=!0),_e=void 0);break;case 1:case 12:if(!u.sheetStubs||v)break;A={t:"z",v:void 0},b=Q[0].c==-1?b+1:Q[0].c,u.dense?(d[S]||(d[S]=[]),d[S][b]=A):d[Lr(b)+O]=A,x.s.r>y.r&&(x.s.r=y.r),x.s.c>b&&(x.s.c=b),x.e.r<y.r&&(x.e.r=y.r),x.e.c<b&&(x.e.c=b),_e&&(_e.type=="XLDAPR"&&(A.D=!0),_e=void 0);break;case 176:F.push(Q);break;case 49:_e=((u.xlmeta||{}).Cell||[])[Q-1];break;case 494:var re=n["!id"][Q.relId];for(re?(Q.Target=re.Target,Q.loc&&(Q.Target+="#"+Q.loc),Q.Rel=re):Q.relId==""&&(Q.Target="#"+Q.loc),S=Q.rfx.s.r;S<=Q.rfx.e.r;++S)for(b=Q.rfx.s.c;b<=Q.rfx.e.c;++b)u.dense?(d[S]||(d[S]=[]),d[S][b]||(d[S][b]={t:"z",v:void 0}),d[S][b].l=Q):(k=ut({c:b,r:S}),d[k]||(d[k]={t:"z",v:void 0}),d[k].l=Q);break;case 426:if(!u.cellFormula)break;M.push(Q),B=u.dense?d[S][b]:d[Lr(b)+O],B.f=pn(Q[1],x,{r:y.r,c:b},ae,u),B.F=Rt(Q[0]);break;case 427:if(!u.cellFormula)break;te[ut(Q[0].s)]=Q[1],B=u.dense?d[S][b]:d[Lr(b)+O],B.f=pn(Q[1],x,{r:y.r,c:b},ae,u);break;case 60:if(!u.cellStyles)break;for(;Q.e>=Q.s;)de[Q.e--]={width:Q.w/256,hidden:!!(Q.flags&1),level:Q.level},ee||(ee=!0,Mx(Q.w/256)),Ql(de[Q.e+1]);break;case 161:d["!autofilter"]={ref:Rt(Q)};break;case 476:d["!margins"]=Q;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Q.name&&(i.Sheets[r].CodeName=Q.name),(Q.above||Q.left)&&(d["!outline"]={above:Q.above,left:Q.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Q.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!Ce.T){if(!v||u.WTF)throw new Error("Unexpected record 0x"+Be.toString(16))}}},u),delete u.supbooks,delete u["!row"],!d["!ref"]&&(x.s.r<2e6||p&&(p.e.r>0||p.e.c>0||p.s.r>0||p.s.c>0))&&(d["!ref"]=Rt(p||x)),u.sheetRows&&d["!ref"]){var xe=vr(d["!ref"]);u.sheetRows<=+xe.e.r&&(xe.e.r=u.sheetRows-1,xe.e.r>x.e.r&&(xe.e.r=x.e.r),xe.e.r<xe.s.r&&(xe.s.r=xe.e.r),xe.e.c>x.e.c&&(xe.e.c=x.e.c),xe.e.c<xe.s.c&&(xe.s.c=xe.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Rt(xe))}return F.length>0&&(d["!merges"]=F),de.length>0&&(d["!cols"]=de),pe.length>0&&(d["!rows"]=pe),d}function GM(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(t[+l[1]]=r?+l[2]:l[2])});var i=Pt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function $M(e,t,r,n,i,a){var l=a||{"!type":"chart"};if(!e)return a;var u=0,d=0,p="A",x={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var E=GM(v);x.s.r=x.s.c=0,x.e.c=u,p=Lr(u),E[0].forEach(function(y,A){l[p+nn(A)]={t:"n",v:y,z:E[1]},d=A}),x.e.r<d&&(x.e.r=d),++u}),u>0&&(l["!ref"]=Rt(x)),l}function XM(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,u=e.match(JC);return u&&Bx(u[0],a,i,r),(l=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function KM(e,t){e.l+=10;var r=vn(e);return{name:r}}function YM(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Ys(e,function(d,p,x){switch(x){case 550:a["!rel"]=d;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),d.name&&(i.Sheets[r].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(p.T>0)){if(!(p.T<0)){if(!l||t.WTF)throw new Error("Unexpected record 0x"+x.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var tT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],qM=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],ZM=[],QM=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ow(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=rr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function lw(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=rr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function rT(e){lw(e.WBProps,tT),lw(e.CalcPr,QM),ow(e.WBView,qM),ow(e.Sheets,ZM),Nl.date1904=rr(e.WBProps.date1904)}var JM="][*?/\\".split("");function eL(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return JM.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var tL=/<\w+:workbook/;function rL(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(e.replace(En,function(d,p){var x=st(d);switch(As(x[0])){case"<?xml":break;case"<workbook":d.match(tL)&&(i="xmlns"+d.match(/<(\w+):/)[1]),r.xmlns=x[i];break;case"</workbook>":break;case"<fileVersion":delete x[0],r.AppVersion=x;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":tT.forEach(function(v){if(x[v[0]]!=null)switch(v[2]){case"bool":r.WBProps[v[0]]=rr(x[v[0]]);break;case"int":r.WBProps[v[0]]=parseInt(x[v[0]],10);break;default:r.WBProps[v[0]]=x[v[0]]}}),x.codeName&&(r.WBProps.CodeName=Xt(x.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete x[0],r.WBView.push(x);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(x.state){case"hidden":x.Hidden=1;break;case"veryHidden":x.Hidden=2;break;default:x.Hidden=0}delete x.state,x.name=Pt(Xt(x.name)),delete x[0],r.Sheets.push(x);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Xt(x.name),x.comment&&(a.Comment=x.comment),x.localSheetId&&(a.Sheet=+x.localSheetId),rr(x.hidden||"0")&&(a.Hidden=!0),l=p+d.length;break;case"</definedName>":a.Ref=Pt(Xt(e.slice(l,p))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete x[0],r.CalcPr=x;break;case"<calcPr/>":delete x[0],r.CalcPr=x;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+x[0]+" in workbook")}return d}),y5.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return rT(r),r}function nL(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Ip(e),r.name=vn(e),r}function iL(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?vn(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function sL(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function aL(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=B5(e),l=H9(e,0,r),u=Ox(e);e.l=n;var d={Name:a,Ptg:l};return i<268435455&&(d.Sheet=i),u&&(d.Comment=u),d}function oL(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],oh[16]={n:"BrtFRTArchID$",f:sL},Ys(e,function(d,p,x){switch(x){case 156:l.SheetNames.push(d.name),r.Sheets.push(d);break;case 153:r.WBProps=d;break;case 39:d.Sheet!=null&&(t.SID=d.Sheet),d.Ref=pn(d.Ptg,null,null,l,t),delete t.SID,delete d.Ptg,a.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([x,d]):l[0]=[x,d],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(d),l.XTI=l.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(x),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(x),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!p.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+x.toString(16))}}},t),rT(r),r.Names=a,r.supbooks=l,r}function lL(e,t,r){return t.slice(-4)===".bin"?oL(e,r):rL(e,r)}function cL(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?zM(e,n,r,i,a,l,u):nM(e,n,r,i,a,l,u)}function uL(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?YM(e,n,r,i,a):XM(e,n,r,i,a)}function fL(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?wF():yF()}function hL(e,t,r,n,i,a,l,u){return t.slice(-4)===".bin"?mF():vF()}function dL(e,t,r,n){return t.slice(-4)===".bin"?P7(e,r,n):k7(e,r,n)}function pL(e,t,r){return WC(e,r)}function gL(e,t,r){return t.slice(-4)===".bin"?qP(e,r):KP(e,r)}function xL(e,t,r){return t.slice(-4)===".bin"?pF(e,r):cF(e,r)}function mL(e,t,r){return t.slice(-4)===".bin"?aF(e):iF(e)}function vL(e,t,r,n){return r.slice(-4)===".bin"?oF(e,t,r,n):void 0}function wL(e,t,r){return t.slice(-4)===".bin"?rF(e,t,r):nF(e,t,r)}var nT=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,iT=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(nT),a,l,u,d;if(i)for(d=0;d!=i.length;++d)a=i[d].match(iT),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?u="xmlns"+a[1].slice(6):u=a[1].slice(l+1),n[u]=a[2].slice(1,a[2].length-1));return n}function yL(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(nT),i,a,l,u;if(n)for(u=0;u!=n.length;++u)i=n[u].match(iT),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var ru;function EL(e,t){var r=ru[e]||Pt(e);return r==="General"?bo(t):ki(r,t)}function _L(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=rr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=$r(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Pt(t)]=i}function AL(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Mo[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=bu(e.v):e.w=bo(e.v):e.w=EL(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=ru[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&oc(n)){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function CL(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=_7[n.Pattern]||n.Pattern)}e[t.ID]=t}function TL(e,t,r,n,i,a,l,u,d,p){var x="General",v=n.StyleID,E={};p=p||{};var y=[],A=0;for(v===void 0&&u&&(v=u.StyleID),v===void 0&&l&&(v=l.StyleID);a[v]!==void 0&&(a[v].nf&&(x=a[v].nf),a[v].Interior&&y.push(a[v].Interior),!!a[v].Parent);)v=a[v].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=rr(e);break;case"String":n.t="s",n.r=Rv(Pt(e)),n.v=e.indexOf("<")>-1?Pt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=($r(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Pt(e):n.v<60&&(n.v=n.v-1),(!x||x=="General")&&(x="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=yC[e],p.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=Rv(t||e));break}if(AL(n,x,p),p.cellFormula!==!1)if(n.Formula){var _=Pt(n.Formula);_.charCodeAt(0)==61&&(_=_.slice(1)),n.f=Ol(_,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Ol("RC:RC",i):n.ArrayRange&&(n.F=Ol(n.ArrayRange,i),d.push([vr(n.F),n.F]))}else for(A=0;A<d.length;++A)i.r>=d[A][0].s.r&&i.r<=d[A][0].e.r&&i.c>=d[A][0].s.c&&i.c<=d[A][0].e.c&&(n.F=d[A][1]);p.cellStyles&&(y.forEach(function(S){!E.patternType&&S.patternType&&(E.patternType=S.patternType)}),n.s=E),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function SL(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function a1(e,t){var r=t||{};$A();var n=Dc(Sx(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Xt(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=rn(r);return l.type="string",Ru.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ze){i.indexOf("<"+Ze)>=0&&(a=!0)}),a)return FL(n,r);ru={"General Number":"General","General Date":gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":gt[15],"Short Date":gt[14],"Long Time":gt[19],"Medium Time":gt[18],"Short Time":gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:gt[2],Standard:gt[4],Percent:gt[10],Scientific:gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var u,d=[],p,x={},v=[],E=r.dense?[]:{},y="",A={},_={},S=Pi('<Data ss:Type="String">'),b=0,k=0,T=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},F={},R="",z=0,M=[],te={},ae={},q=0,de=[],pe=[],ee={},_e=[],xe,ve=!1,Q=[],Ce=[],Be={},H=0,oe=0,re={Sheets:[],WBProps:{date1904:!1}},ie={};Iu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var le="";u=Iu.exec(n);)switch(u[3]=(le=u[3]).toLowerCase()){case"data":if(le=="data"){if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break}if(d[d.length-1][1])break;u[1]==="/"?TL(n.slice(b,u.index),R,S,d[d.length-1][0]=="comment"?ee:A,{c:k,r:T},B,_e[k],_,Q,r):(R="",S=Pi(u[0]),b=u.index+u[0].length);break;case"cell":if(u[1]==="/")if(pe.length>0&&(A.c=pe),(!r.sheetRows||r.sheetRows>T)&&A.v!==void 0&&(r.dense?(E[T]||(E[T]=[]),E[T][k]=A):E[Lr(k)+nn(T)]=A),A.HRef&&(A.l={Target:Pt(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(H=k+(parseInt(A.MergeAcross,10)|0),oe=T+(parseInt(A.MergeDown,10)|0),M.push({s:{c:k,r:T},e:{c:H,r:oe}})),!r.sheetStubs)A.MergeAcross?k=H+1:++k;else if(A.MergeAcross||A.MergeDown){for(var Se=k;Se<=H;++Se)for(var De=T;De<=oe;++De)(Se>k||De>T)&&(r.dense?(E[De]||(E[De]=[]),E[De][Se]={t:"z"}):E[Lr(Se)+nn(De)]={t:"z"});k=H+1}else++k;else A=yL(u[0]),A.Index&&(k=+A.Index-1),k<O.s.c&&(O.s.c=k),k>O.e.c&&(O.e.c=k),u[0].slice(-2)==="/>"&&++k,pe=[];break;case"row":u[1]==="/"||u[0].slice(-2)==="/>"?(T<O.s.r&&(O.s.r=T),T>O.e.r&&(O.e.r=T),u[0].slice(-2)==="/>"&&(_=Pi(u[0]),_.Index&&(T=+_.Index-1)),k=0,++T):(_=Pi(u[0]),_.Index&&(T=+_.Index-1),Be={},(_.AutoFitHeight=="0"||_.Height)&&(Be.hpx=parseInt(_.Height,10),Be.hpt=VC(Be.hpx),Ce[T]=Be),_.Hidden=="1"&&(Be.hidden=!0,Ce[T]=Be));break;case"worksheet":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));v.push(y),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(E["!ref"]=Rt(O),r.sheetRows&&r.sheetRows<=O.e.r&&(E["!fullref"]=E["!ref"],O.e.r=r.sheetRows-1,E["!ref"]=Rt(O))),M.length&&(E["!merges"]=M),_e.length>0&&(E["!cols"]=_e),Ce.length>0&&(E["!rows"]=Ce),x[y]=E}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=k=0,d.push([u[3],!1]),p=Pi(u[0]),y=Pt(p.Name),E=r.dense?[]:{},M=[],Q=[],Ce=[],ie={name:y,Hidden:0},re.Sheets.push(ie);break;case"table":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else{if(u[0].slice(-2)=="/>")break;d.push([u[3],!1]),_e=[],ve=!1}break;case"style":u[1]==="/"?CL(B,F,r):F=Pi(u[0]);break;case"numberformat":F.nf=Pt(Pi(u[0]).Format||"General"),ru[F.nf]&&(F.nf=ru[F.nf]);for(var Pe=0;Pe!=392&&gt[Pe]!=F.nf;++Pe);if(Pe==392){for(Pe=57;Pe!=392;++Pe)if(gt[Pe]==null){vo(F.nf,Pe);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(xe=Pi(u[0]),xe.Hidden&&(xe.hidden=!0,delete xe.Hidden),xe.Width&&(xe.wpx=parseInt(xe.Width,10)),!ve&&xe.wpx>10){ve=!0,kn=UC;for(var be=0;be<_e.length;++be)_e[be]&&Ql(_e[be])}ve&&Ql(xe),_e[xe.Index-1||_e.length]=xe;for(var Ke=0;Ke<+xe.Span;++Ke)_e[_e.length]=rn(xe);break;case"namedrange":if(u[1]==="/")break;re.Names||(re.Names=[]);var J=st(u[0]),$e={Name:J.Name,Ref:Ol(J.RefersTo.slice(1),{r:0,c:0})};re.Sheets.length>0&&($e.Sheet=re.Sheets.length-1),re.Names.push($e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(u[0].slice(-2)==="/>")break;u[1]==="/"?R+=n.slice(z,u.index):z=u.index+u[0].length;break;case"interior":if(!r.cellStyles)break;F.Interior=Pi(u[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(u[0].slice(-2)==="/>")break;u[1]==="/"?cD(te,le,n.slice(q,u.index)):q=u.index+u[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else d.push([u[3],!1]);break;case"comment":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"));SL(ee),pe.push(ee)}else d.push([u[3],!1]),p=Pi(u[0]),ee={a:p.Author};break;case"autofilter":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else if(u[0].charAt(u[0].length-2)!=="/"){var lt=Pi(u[0]);E["!autofilter"]={ref:Ol(lt.Range).replace(/\$/g,"")},d.push([u[3],!0])}break;case"name":break;case"datavalidation":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(u[1]==="/"){if((p=d.pop())[0]!==u[3])throw new Error("Bad state: "+p.join("|"))}else u[0].charAt(u[0].length-2)!=="/"&&d.push([u[3],!0]);break;case"null":break;default:if(d.length==0&&u[3]=="document"||d.length==0&&u[3]=="uof")return pw(n,r);var dt=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(u[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:dt=!1}break;case"componentoptions":switch(u[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:dt=!1}break;case"excelworkbook":switch(u[3]){case"date1904":re.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:dt=!1}break;case"workbookoptions":switch(u[3]){case"owcversion":break;case"height":break;case"width":break;default:dt=!1}break;case"worksheetoptions":switch(u[3]){case"visible":if(u[0].slice(-2)!=="/>")if(u[1]==="/")switch(n.slice(q,u.index)){case"SheetHidden":ie.Hidden=1;break;case"SheetVeryHidden":ie.Hidden=2;break}else q=u.index+u[0].length;break;case"header":E["!margins"]||tu(E["!margins"]={},"xlml"),isNaN(+st(u[0]).Margin)||(E["!margins"].header=+st(u[0]).Margin);break;case"footer":E["!margins"]||tu(E["!margins"]={},"xlml"),isNaN(+st(u[0]).Margin)||(E["!margins"].footer=+st(u[0]).Margin);break;case"pagemargins":var it=st(u[0]);E["!margins"]||tu(E["!margins"]={},"xlml"),isNaN(+it.Top)||(E["!margins"].top=+it.Top),isNaN(+it.Left)||(E["!margins"].left=+it.Left),isNaN(+it.Right)||(E["!margins"].right=+it.Right),isNaN(+it.Bottom)||(E["!margins"].bottom=+it.Bottom);break;case"displayrighttoleft":re.Views||(re.Views=[]),re.Views[0]||(re.Views[0]={}),re.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":E["!outline"]||(E["!outline"]={}),E["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:dt=!1}break;case"pivottable":case"pivotcache":switch(u[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:dt=!1}break;case"pagebreaks":switch(u[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:dt=!1}break;case"autofilter":switch(u[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:dt=!1}break;case"querytable":switch(u[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:dt=!1}break;case"datavalidation":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:dt=!1}break;case"sorting":case"conditionalformatting":switch(u[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:dt=!1}break;case"mapinfo":case"schema":case"data":switch(u[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:dt=!1}break;case"smarttags":break;default:dt=!1;break}if(dt||u[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+u[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(u[0].slice(-2)==="/>")break;u[1]==="/"?_L(ae,le,de,n.slice(q,u.index)):(de=u,q=u.index+u[0].length);break}if(r.WTF)throw"Unrecognized tag: "+u[3]+"|"+d.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=x),Re.SheetNames=v,Re.Workbook=re,Re.SSF=rn(gt),Re.Props=te,Re.Custprops=ae,Re}function Dp(e,t){switch(Vx(t=t||{}),t.type||"base64"){case"base64":return a1(fi(e),t);case"binary":case"buffer":case"file":return a1(e,t);case"array":return a1(Do(e),t)}}function bL(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=V5(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=W5(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var kL=[60,1084,2066,2165,2175];function IL(e,t,r,n,i){var a=n,l=[],u=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&u.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(u)}l.push(u),r.l+=a;for(var d=Ms(r,r.l),p=Pp[d],x=0;p!=null&&kL.indexOf(d)>-1;)a=Ms(r,r.l+2),x=r.l+4,d==2066?x+=4:(d==2165||d==2175)&&(x+=12),u=r.slice(x,r.l+4+a),l.push(u),r.l+=4+a,p=Pp[d=Ms(r,r.l)];var v=ga(l);en(v,0);var E=0;v.lens=[];for(var y=0;y<l.length;++y)v.lens.push(E),E+=l[y].length;if(v.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+v.length+" < "+n;return t.f(v,v.length,i)}function as(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=gt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Mo[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=bu(e.v):e.w=bo(e.v):e.w=ki(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&oc(gt[n]||String(n))){var i=oo(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function K0(e,t,r){return{v:e,ixfe:t,t:r}}function RL(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},l={},u=null,d=[],p="",x={},v,E="",y,A,_,S,b={},k=[],T,O,B=[],F=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},z={},M=function(ot){return ot<8?wo[ot]:ot<64&&F[ot-8]||wo[ot]},te=function(ot,Bt,Xr){var ct=Bt.XF.data;if(!(!ct||!ct.patternType||!Xr||!Xr.cellStyles)){Bt.s={},Bt.s.patternType=ct.patternType;var Oe;(Oe=Ou(M(ct.icvFore)))&&(Bt.s.fgColor={rgb:Oe}),(Oe=Ou(M(ct.icvBack)))&&(Bt.s.bgColor={rgb:Oe})}},ae=function(ot,Bt,Xr){if(!(Be>1)&&!(Xr.sheetRows&&ot.r>=Xr.sheetRows)){if(Xr.cellStyles&&Bt.XF&&Bt.XF.data&&te(ot,Bt,Xr),delete Bt.ixfe,delete Bt.XF,v=ot,E=ut(ot),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<l.s.r&&(l.s.r=ot.r),ot.c<l.s.c&&(l.s.c=ot.c),ot.r+1>l.e.r&&(l.e.r=ot.r+1),ot.c+1>l.e.c&&(l.e.c=ot.c+1),Xr.cellFormula&&Bt.f){for(var ct=0;ct<k.length;++ct)if(!(k[ct][0].s.c>ot.c||k[ct][0].s.r>ot.r)&&!(k[ct][0].e.c<ot.c||k[ct][0].e.r<ot.r)){Bt.F=Rt(k[ct][0]),(k[ct][0].s.c!=ot.c||k[ct][0].s.r!=ot.r)&&delete Bt.f,Bt.f&&(Bt.f=""+pn(k[ct][1],l,ot,Q,q));break}}Xr.dense?(i[ot.r]||(i[ot.r]=[]),i[ot.r][ot.c]=Bt):i[E]=Bt}},q={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(q.password=t.password);var de,pe=[],ee=[],_e=[],xe=[],ve=!1,Q=[];Q.SheetNames=q.snames,Q.sharedf=q.sharedf,Q.arrayf=q.arrayf,Q.names=[],Q.XTI=[];var Ce=0,Be=0,H=0,oe=[],re=[],ie;q.codepage=1200,$i(1200);for(var le=!1;e.l<e.length-1;){var Se=e.l,De=e.read_shift(2);if(De===0&&Ce===10)break;var Pe=e.l===e.length?0:e.read_shift(2),be=Pp[De];if(be&&be.f){if(t.bookSheets&&Ce===133&&De!==133)break;if(Ce=De,be.r===2||be.r==12){var Ke=e.read_shift(2);if(Pe-=2,!q.enc&&Ke!==De&&((Ke&255)<<8|Ke>>8)!==De)throw new Error("rt mismatch: "+Ke+"!="+De);be.r==12&&(e.l+=10,Pe-=10)}var J={};if(De===10?J=be.f(e,Pe,q):J=IL(De,be,e,Pe,q),Be==0&&[9,521,1033,2057].indexOf(Ce)===-1)continue;switch(De){case 34:r.opts.Date1904=R.WBProps.date1904=J;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(q.enc||(e.l=0),q.enc=J,!t.password)throw new Error("File is password-protected");if(J.valid==null)throw new Error("Encryption scheme unsupported");if(!J.valid)throw new Error("Password is incorrect");break;case 92:q.lastuser=J;break;case 66:var $e=Number(J);switch($e){case 21010:$e=1200;break;case 32768:$e=1e4;break;case 32769:$e=1252;break}$i(q.codepage=$e),le=!0;break;case 317:q.rrtabid=J;break;case 25:q.winlocked=J;break;case 439:r.opts.RefreshAll=J;break;case 12:r.opts.CalcCount=J;break;case 16:r.opts.CalcDelta=J;break;case 17:r.opts.CalcIter=J;break;case 13:r.opts.CalcMode=J;break;case 14:r.opts.CalcPrecision=J;break;case 95:r.opts.CalcSaveRecalc=J;break;case 15:q.CalcRefMode=J;break;case 2211:r.opts.FullCalc=J;break;case 129:J.fDialog&&(i["!type"]="dialog"),J.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),J.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:B.push(J);break;case 430:Q.push([J]),Q[Q.length-1].XTI=[];break;case 35:case 547:Q[Q.length-1].push(J);break;case 24:case 536:ie={Name:J.Name,Ref:pn(J.rgce,l,null,Q,q)},J.itab>0&&(ie.Sheet=J.itab-1),Q.names.push(ie),Q[0]||(Q[0]=[],Q[0].XTI=[]),Q[Q.length-1].push(J),J.Name=="_xlnm._FilterDatabase"&&J.itab>0&&J.rgce&&J.rgce[0]&&J.rgce[0][0]&&J.rgce[0][0][0]=="PtgArea3d"&&(re[J.itab-1]={ref:Rt(J.rgce[0][0][1][2])});break;case 22:q.ExternCount=J;break;case 23:Q.length==0&&(Q[0]=[],Q[0].XTI=[]),Q[Q.length-1].XTI=Q[Q.length-1].XTI.concat(J),Q.XTI=Q.XTI.concat(J);break;case 2196:if(q.biff<8)break;ie!=null&&(ie.Comment=J[1]);break;case 18:i["!protect"]=J;break;case 19:J!==0&&q.WTF&&console.error("Password verifier: "+J);break;case 133:a[J.pos]=J,q.snames.push(J.name);break;case 10:{if(--Be)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Rt(l),t.sheetRows&&t.sheetRows<=l.e.r){var lt=l.e.r;l.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Rt(l),l.e.r=lt}l.e.r++,l.e.c++}pe.length>0&&(i["!merges"]=pe),ee.length>0&&(i["!objects"]=ee),_e.length>0&&(i["!cols"]=_e),xe.length>0&&(i["!rows"]=xe),R.Sheets.push(z)}p===""?x=i:n[p]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(q.biff===8&&(q.biff={9:2,521:3,1033:4}[De]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[J.BIFFVer]||8),q.biffguess=J.BIFFVer==0,J.BIFFVer==0&&J.dt==4096&&(q.biff=5,le=!0,$i(q.codepage=28591)),q.biff==8&&J.BIFFVer==0&&J.dt==16&&(q.biff=2),Be++)break;if(i=t.dense?[]:{},q.biff<8&&!le&&(le=!0,$i(q.codepage=t.codepage||1252)),q.biff<5||J.BIFFVer==0&&J.dt==4096){p===""&&(p="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var dt={pos:e.l-Pe,name:p};a[dt.pos]=dt,q.snames.push(p)}else p=(a[Se]||{name:""}).name;J.dt==32&&(i["!type"]="chart"),J.dt==64&&(i["!type"]="macro"),pe=[],ee=[],q.arrayf=k=[],_e=[],xe=[],ve=!1,z={Hidden:(a[Se]||{hs:0}).hs,name:p}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[J.r]||[])[J.c]:i[ut({c:J.c,r:J.r})])&&++J.c,T={ixfe:J.ixfe,XF:B[J.ixfe]||{},v:J.val,t:"n"},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t);break;case 5:case 517:T={ixfe:J.ixfe,XF:B[J.ixfe],v:J.val,t:J.t},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t);break;case 638:T={ixfe:J.ixfe,XF:B[J.ixfe],v:J.rknum,t:"n"},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t);break;case 189:for(var it=J.c;it<=J.C;++it){var Re=J.rkrec[it-J.c][0];T={ixfe:Re,XF:B[Re],v:J.rkrec[it-J.c][1],t:"n"},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:it,r:J.r},T,t)}break;case 6:case 518:case 1030:{if(J.val=="String"){u=J;break}if(T=K0(J.val,J.cell.ixfe,J.tt),T.XF=B[T.ixfe],t.cellFormula){var Ze=J.formula;if(Ze&&Ze[0]&&Ze[0][0]&&Ze[0][0][0]=="PtgExp"){var Qe=Ze[0][0][1][0],Ur=Ze[0][0][1][1],He=ut({r:Qe,c:Ur});b[He]?T.f=""+pn(J.formula,l,J.cell,Q,q):T.F=((t.dense?(i[Qe]||[])[Ur]:i[He])||{}).F}else T.f=""+pn(J.formula,l,J.cell,Q,q)}H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae(J.cell,T,t),u=J}break;case 7:case 519:if(u)u.val=J,T=K0(J,u.cell.ixfe,"s"),T.XF=B[T.ixfe],t.cellFormula&&(T.f=""+pn(u.formula,l,u.cell,Q,q)),H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae(u.cell,T,t),u=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(J);var Yn=ut(J[0].s);if(y=t.dense?(i[J[0].s.r]||[])[J[0].s.c]:i[Yn],t.cellFormula&&y){if(!u||!Yn||!y)break;y.f=""+pn(J[1],l,J[0],Q,q),y.F=Rt(J[0])}}break;case 1212:{if(!t.cellFormula)break;if(E){if(!u)break;b[ut(u.cell)]=J[0],y=t.dense?(i[u.cell.r]||[])[u.cell.c]:i[ut(u.cell)],(y||{}).f=""+pn(J[0],l,v,Q,q)}}break;case 253:T=K0(d[J.isst].t,J.ixfe,"s"),d[J.isst].h&&(T.h=d[J.isst].h),T.XF=B[T.ixfe],H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t);break;case 513:t.sheetStubs&&(T={ixfe:J.ixfe,XF:B[J.ixfe],t:"z"},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t));break;case 190:if(t.sheetStubs)for(var Rr=J.c;Rr<=J.C;++Rr){var Kt=J.ixfe[Rr-J.c];T={ixfe:Kt,XF:B[Kt],t:"z"},H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:Rr,r:J.r},T,t)}break;case 214:case 516:case 4:T=K0(J.val,J.ixfe,"s"),T.XF=B[T.ixfe],H>0&&(T.z=oe[T.ixfe>>8&63]),as(T,t,r.opts.Date1904),ae({c:J.c,r:J.r},T,t);break;case 0:case 512:Be===1&&(l=J);break;case 252:d=J;break;case 1054:if(q.biff==4){oe[H++]=J[1];for(var _n=0;_n<H+163&&gt[_n]!=J[1];++_n);_n>=163&&vo(J[1],H+163)}else vo(J[1],J[0]);break;case 30:{oe[H++]=J;for(var Ot=0;Ot<H+163&&gt[Ot]!=J;++Ot);Ot>=163&&vo(J,H+163)}break;case 229:pe=pe.concat(J);break;case 93:ee[J.cmo[0]]=q.lastobj=J;break;case 438:q.lastobj.TxO=J;break;case 127:q.lastobj.ImData=J;break;case 440:for(S=J[0].s.r;S<=J[0].e.r;++S)for(_=J[0].s.c;_<=J[0].e.c;++_)y=t.dense?(i[S]||[])[_]:i[ut({c:_,r:S})],y&&(y.l=J[1]);break;case 2048:for(S=J[0].s.r;S<=J[0].e.r;++S)for(_=J[0].s.c;_<=J[0].e.c;++_)y=t.dense?(i[S]||[])[_]:i[ut({c:_,r:S})],y&&y.l&&(y.l.Tooltip=J[1]);break;case 28:{if(q.biff<=5&&q.biff>=2)break;y=t.dense?(i[J[0].r]||[])[J[0].c]:i[ut(J[0])];var An=ee[J[2]];y||(t.dense?(i[J[0].r]||(i[J[0].r]=[]),y=i[J[0].r][J[0].c]={t:"z"}):y=i[ut(J[0])]={t:"z"},l.e.r=Math.max(l.e.r,J[0].r),l.s.r=Math.min(l.s.r,J[0].r),l.e.c=Math.max(l.e.c,J[0].c),l.s.c=Math.min(l.s.c,J[0].c)),y.c||(y.c=[]),A={a:J[1],t:An.TxO.t},y.c.push(A)}break;case 2173:Q7(B[J.ixfe],J.ext);break;case 125:{if(!q.cellStyles)break;for(;J.e>=J.s;)_e[J.e--]={width:J.w/256,level:J.level||0,hidden:!!(J.flags&1)},ve||(ve=!0,Mx(J.w/256)),Ql(_e[J.e+1])}break;case 520:{var Wt={};J.level!=null&&(xe[J.r]=Wt,Wt.level=J.level),J.hidden&&(xe[J.r]=Wt,Wt.hidden=!0),J.hpt&&(xe[J.r]=Wt,Wt.hpt=J.hpt,Wt.hpx=Nu(J.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||tu(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[De]]=J;break;case 161:i["!margins"]||tu(i["!margins"]={}),i["!margins"].header=J.header,i["!margins"].footer=J.footer;break;case 574:J.RTL&&(R.Views[0].RTL=!0);break;case 146:F=J;break;case 2198:de=J;break;case 140:O=J;break;case 442:p?z.CodeName=J||z.name:R.WBProps.CodeName=J||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+De.toString(16)),e.l+=Pe}return r.SheetNames=Es(a).sort(function(Lt,ot){return Number(Lt)-Number(ot)}).map(function(Lt){return a[Lt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&x["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=x)):r.Preamble=x,r.Sheets&&re.forEach(function(Lt,ot){r.Sheets[r.SheetNames[ot]]["!autofilter"]=Lt}),r.Strings=d,r.SSF=rn(gt),q.enc&&(r.Encryption=q.enc),de&&(r.Themes=de),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),Q.names.length>0&&(R.Names=Q.names),r.Workbook=R,r}var cw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function OL(e,t,r){var n=It.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=$v(n,K5,cw.DSI);for(var a in i)t[a]=i[a]}catch(p){if(r.WTF)throw p}var l=It.find(e,"/!SummaryInformation");if(l&&l.size>0)try{var u=$v(l,Y5,cw.SI);for(var d in u)t[d]==null&&(t[d]=u[d])}catch(p){if(r.WTF)throw p}t.HeadingPairs&&t.TitlesOfParts&&(_C(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function sT(e,t){t||(t={}),Vx(t),PA(),t.codepage&&wx(t.codepage);var r,n;if(e.FullPaths){if(It.find(e,"/encryption"))throw new Error("File is password-protected");r=It.find(e,"!CompObj"),n=It.find(e,"/Workbook")||It.find(e,"/Book")}else{switch(t.type){case"base64":e=Gi(fi(e));break;case"binary":e=Gi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}en(e,0),n={content:e}}var i,a;if(r&&bL(r),t.bookProps&&!t.bookSheets)i={};else{var l=bt?"buffer":"array";if(n&&n.content)i=RL(n.content,t);else if((a=It.find(e,"PerfectOffice_MAIN"))&&a.content)i=Jc.to_workbook(a.content,(t.type=l,t));else if((a=It.find(e,"NativeContent_MAIN"))&&a.content)i=Jc.to_workbook(a.content,(t.type=l,t));else throw(a=It.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&It.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=xF(e))}var u={};return e.FullPaths&&OL(e,u,t),i.Props=i.Custprops=u,t.bookFiles&&(i.cfb=e),i}var oh={0:{f:hM},1:{f:xM},2:{f:TM},3:{f:yM},4:{f:vM},5:{f:CM},6:{f:kM},7:{f:_M},8:{f:DM},9:{f:NM},10:{f:RM},11:{f:OM},12:{f:mM},13:{f:SM},14:{f:EM},15:{f:wM},16:{f:eT},17:{f:IM},18:{f:AM},19:{f:Rx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:aL},40:{},42:{},43:{f:R7},44:{f:I7},45:{f:O7},46:{f:D7},47:{f:N7},48:{},49:{f:P5},50:{},51:{f:eF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:PC},62:{f:bM},63:{f:sF},64:{f:WM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:yn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:VM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:gM},148:{f:dM,p:16},151:{f:MM},152:{},153:{f:iL},154:{},155:{},156:{f:nL},157:{},158:{},159:{T:1,f:YP},160:{T:-1},161:{T:1,f:Fo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:J7},336:{T:-1},337:{f:tF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ip},357:{},358:{},359:{},360:{T:1},361:{},362:{f:DC},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:LM},427:{f:BM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:pM},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:FM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ip},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:dF},633:{T:1},634:{T:-1},635:{T:1,f:hF},636:{T:-1},637:{f:M5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:HM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Pp={6:{f:i1},10:{f:aa},12:{f:Sr},13:{f:Sr},14:{f:Er},15:{f:Er},16:{f:xn},17:{f:Er},18:{f:Er},19:{f:Sr},20:{f:qv},21:{f:qv},23:{f:DC},24:{f:Qv},25:{f:Er},26:{},27:{},28:{f:uP},29:{},34:{f:Er},35:{f:Zv},38:{f:xn},39:{f:xn},40:{f:xn},41:{f:xn},42:{f:Er},43:{f:Er},47:{f:p7},49:{f:GD},51:{f:Sr},60:{},61:{f:WD},64:{f:Er},65:{f:zD},66:{f:Sr},77:{},80:{},81:{},82:{},85:{f:Sr},89:{},90:{},91:{},92:{f:PD},93:{f:hP},94:{},95:{f:Er},96:{},97:{},99:{f:Er},125:{f:PC},128:{f:tP},129:{f:FD},130:{f:Sr},131:{f:Er},132:{f:Er},133:{f:MD},134:{},140:{f:vP},141:{f:Sr},144:{},146:{f:yP},151:{},152:{},153:{},154:{},155:{},156:{f:Sr},157:{},158:{},160:{f:TP},161:{f:_P},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ZD},190:{f:QD},193:{f:aa},197:{},198:{},199:{},200:{},201:{},202:{f:Er},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Sr},220:{},221:{f:Er},222:{},224:{f:eP},225:{f:DD},226:{f:aa},227:{},229:{f:fP},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:LD},253:{f:$D},255:{f:BD},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:bC},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Er},353:{f:aa},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:nP},431:{f:Er},432:{},433:{},434:{},437:{},438:{f:gP},439:{f:Er},440:{f:xP},441:{},442:{f:t0},443:{},444:{f:Sr},445:{},446:{},448:{f:aa},449:{f:VD,r:2},450:{f:aa},512:{f:Kv},513:{f:CP},515:{f:rP},516:{f:XD},517:{f:Yv},519:{f:SP},520:{f:UD},523:{},545:{f:Jv},549:{f:Xv},566:{},574:{f:HD},638:{f:qD},659:{},1048:{},1054:{f:KD},1084:{},1212:{f:oP},2048:{f:mP},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:G0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:aa},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:EP,r:12},2173:{f:Z7,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Er,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:aP,r:12},2197:{},2198:{f:G7,r:12},2199:{},2200:{},2201:{},2202:{f:lP,r:12},2203:{f:aa},2204:{},2205:{},2206:{},2207:{},2211:{f:jD},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Sr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:AP},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wP},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Kv},1:{},2:{f:RP},3:{f:IP},4:{f:kP},5:{f:Yv},7:{f:OP},8:{},9:{f:G0},11:{},22:{f:Sr},30:{f:YD},31:{},32:{},33:{f:Jv},36:{},37:{f:Xv},50:{f:NP},62:{},52:{},67:{},68:{f:Sr},69:{},86:{},126:{},127:{f:bP},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:DP},223:{},234:{},354:{},421:{},518:{f:i1},521:{f:G0},536:{f:Qv},547:{f:Zv},561:{},579:{},1030:{f:i1},1033:{f:G0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Fi(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,l=e.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&pC(r)&&e.push(r)}}function uw(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),l=i.index,u=a&&a.index||e.length,d=r5(e.slice(l,u),/(:?<tr[^>]*>)/i,"<tr>"),p=-1,x=0,v=0,E=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<d.length;++l){var _=d[l].trim(),S=_.slice(0,3).toLowerCase();if(S=="<tr"){if(++p,r.sheetRows&&r.sheetRows<=p){--p;break}x=0;continue}if(!(S!="<td"&&S!="<th")){var b=_.split(/<\/t[dh]>/i);for(u=0;u<b.length;++u){var k=b[u].trim();if(k.match(/<t[dh]/i)){for(var T=k,O=0;T.charAt(0)=="<"&&(O=T.indexOf(">"))>-1;)T=T.slice(O+1);for(var B=0;B<A.length;++B){var F=A[B];F.s.c==x&&F.s.r<p&&p<=F.e.r&&(x=F.e.c+1,B=-1)}var R=st(k.slice(0,k.indexOf(">")));E=R.colspan?+R.colspan:1,((v=+R.rowspan)>1||E>1)&&A.push({s:{r:p,c:x},e:{r:p+(v||1)-1,c:x+E-1}});var z=R.t||R["data-t"]||"";if(!T.length){x+=E;continue}if(T=tC(T),y.s.r>p&&(y.s.r=p),y.e.r<p&&(y.e.r=p),y.s.c>x&&(y.s.c=x),y.e.c<x&&(y.e.c=x),!T.length){x+=E;continue}var M={t:"s",v:T};r.raw||!T.trim().length||z=="s"||(T==="TRUE"?M={t:"b",v:!0}:T==="FALSE"?M={t:"b",v:!1}:isNaN(qi(T))?isNaN(Zl(T).getDate())||(M={t:"d",v:$r(T)},r.cellDates||(M={t:"n",v:Dn(M.v)}),M.z=r.dateNF||gt[14]):M={t:"n",v:qi(T)}),r.dense?(n[p]||(n[p]=[]),n[p][x]=M):n[ut({r:p,c:x})]=M,x+=E}}}}return n["!ref"]=Rt(y),A.length&&(n["!merges"]=A),n}function NL(e,t,r,n){for(var i=e["!merges"]||[],a=[],l=t.s.c;l<=t.e.c;++l){for(var u=0,d=0,p=0;p<i.length;++p)if(!(i[p].s.r>r||i[p].s.c>l)&&!(i[p].e.r<r||i[p].e.c<l)){if(i[p].s.r<r||i[p].s.c<l){u=-1;break}u=i[p].e.r-i[p].s.r+1,d=i[p].e.c-i[p].s.c+1;break}if(!(u<0)){var x=ut({r,c:l}),v=n.dense?(e[r]||[])[l]:e[x],E=v&&v.v!=null&&(v.h||Tx(v.w||(Xs(v),v.w)||""))||"",y={};u>1&&(y.rowspan=u),d>1&&(y.colspan=d),n.editable?E='<span contenteditable="true">'+E+"</span>":v&&(y["data-t"]=v&&v.t||"z",v.v!=null&&(y["data-v"]=v.v),v.z!=null&&(y["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(E='<a href="'+v.l.Target+'">'+E+"</a>")),y.id=(n.id||"sjs")+"-"+x,a.push(v5("td",E,y))}}var A="<tr>";return A+a.join("")+"</tr>"}var DL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',PL="</body></html>";function FL(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ga(uw(r[0],t),t);var n=Hx();return r.forEach(function(i,a){zx(n,uw(i,t),"Sheet"+(a+1))}),n}function ML(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function LL(e,t){var r=t||{},n=r.header!=null?r.header:DL,i=r.footer!=null?r.footer:PL,a=[n],l=lc(e["!ref"]);r.dense=Array.isArray(e),a.push(ML(e,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(NL(e,l,u,r));return a.push("</table>"+i),a.join("")}function aT(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?In(n.origin):n.origin;i=l.r,a=l.c}var u=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),p={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var x=lc(e["!ref"]);p.s.r=Math.min(p.s.r,x.s.r),p.s.c=Math.min(p.s.c,x.s.c),p.e.r=Math.max(p.e.r,x.e.r),p.e.c=Math.max(p.e.c,x.e.c),i==-1&&(p.e.r=i=x.e.r+1)}var v=[],E=0,y=e["!rows"]||(e["!rows"]=[]),A=0,_=0,S=0,b=0,k=0,T=0;for(e["!cols"]||(e["!cols"]=[]);A<u.length&&_<d;++A){var O=u[A];if(fw(O)){if(n.display)continue;y[_]={hidden:!0}}var B=O.children;for(S=b=0;S<B.length;++S){var F=B[S];if(!(n.display&&fw(F))){var R=F.hasAttribute("data-v")?F.getAttribute("data-v"):F.hasAttribute("v")?F.getAttribute("v"):tC(F.innerHTML),z=F.getAttribute("data-z")||F.getAttribute("z");for(E=0;E<v.length;++E){var M=v[E];M.s.c==b+a&&M.s.r<_+i&&_+i<=M.e.r&&(b=M.e.c+1-a,E=-1)}T=+F.getAttribute("colspan")||1,((k=+F.getAttribute("rowspan")||1)>1||T>1)&&v.push({s:{r:_+i,c:b+a},e:{r:_+i+(k||1)-1,c:b+a+(T||1)-1}});var te={t:"s",v:R},ae=F.getAttribute("data-t")||F.getAttribute("t")||"";R!=null&&(R.length==0?te.t=ae||"z":n.raw||R.trim().length==0||ae=="s"||(R==="TRUE"?te={t:"b",v:!0}:R==="FALSE"?te={t:"b",v:!1}:isNaN(qi(R))?isNaN(Zl(R).getDate())||(te={t:"d",v:$r(R)},n.cellDates||(te={t:"n",v:Dn(te.v)}),te.z=n.dateNF||gt[14]):te={t:"n",v:qi(R)})),te.z===void 0&&z!=null&&(te.z=z);var q="",de=F.getElementsByTagName("A");if(de&&de.length)for(var pe=0;pe<de.length&&!(de[pe].hasAttribute("href")&&(q=de[pe].getAttribute("href"),q.charAt(0)!="#"));++pe);q&&q.charAt(0)!="#"&&(te.l={Target:q}),n.dense?(e[_+i]||(e[_+i]=[]),e[_+i][b+a]=te):e[ut({c:b+a,r:_+i})]=te,p.e.c<b+a&&(p.e.c=b+a),b+=T}}++_}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),p.e.r=Math.max(p.e.r,_-1+i),e["!ref"]=Rt(p),_>=d&&(e["!fullref"]=Rt((p.e.r=u.length-A+_-1+i,p))),e}function oT(e,t){var r=t||{},n=r.dense?[]:{};return aT(n,e,t)}function BL(e,t){return Ga(oT(e,t),t)}function fw(e){var t="",r=UL(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function UL(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function jL(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Pt(t.replace(/<[^>]*>/g,""));return[r]}var hw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function lT(e,t){var r=t||{},n=Sx(e),i=[],a,l,u={name:""},d="",p=0,x,v,E={},y=[],A=r.dense?[]:{},_,S,b={value:""},k="",T=0,O=[],B=-1,F=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},z=0,M={},te=[],ae={},q=0,de=0,pe=[],ee=1,_e=1,xe=[],ve={Names:[]},Q={},Ce=["",""],Be=[],H={},oe="",re=0,ie=!1,le=!1,Se=0;for(Iu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=Iu.exec(n);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"":_[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?A["!ref"]=Rt(R):A["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(A["!fullref"]=A["!ref"],R.e.r=r.sheetRows-1,A["!ref"]=Rt(R)),te.length&&(A["!merges"]=te),pe.length&&(A["!rows"]=pe),x.name=x.||x.name,typeof JSON<"u"&&JSON.stringify(x),y.push(x.name),E[x.name]=A,le=!1):_[0].charAt(_[0].length-2)!=="/"&&(x=st(_[0],!1),B=F=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,A=r.dense?[]:{},te=[],pe=[],le=!0);break;case"table-row-group":_[1]==="/"?--z:++z;break;case"table-row":case"":if(_[1]==="/"){B+=ee,ee=1;break}if(v=st(_[0],!1),v.?B=v.-1:B==-1&&(B=0),ee=+v["number-rows-repeated"]||1,ee<10)for(Se=0;Se<ee;++Se)z>0&&(pe[B+Se]={level:z});F=-1;break;case"covered-table-cell":_[1]!=="/"&&++F,r.sheetStubs&&(r.dense?(A[B]||(A[B]=[]),A[B][F]={t:"z"}):A[ut({r:B,c:F})]={t:"z"}),k="",O=[];break;case"table-cell":case"":if(_[0].charAt(_[0].length-2)==="/")++F,b=st(_[0],!1),_e=parseInt(b["number-columns-repeated"]||"1",10),S={t:"z",v:null},b.formula&&r.cellFormula!=!1&&(S.f=aw(Pt(b.formula))),(b.||b["value-type"])=="string"&&(S.t="s",S.v=Pt(b["string-value"]||""),r.dense?(A[B]||(A[B]=[]),A[B][F]=S):A[ut({r:B,c:F})]=S),F+=_e-1;else if(_[1]!=="/"){++F,k="",T=0,O=[],_e=1;var De=ee?B+ee-1:B;if(F>R.e.c&&(R.e.c=F),F<R.s.c&&(R.s.c=F),B<R.s.r&&(R.s.r=B),De>R.e.r&&(R.e.r=De),b=st(_[0],!1),Be=[],H={},S={t:b.||b["value-type"],v:null},r.cellFormula)if(b.formula&&(b.formula=Pt(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(q=parseInt(b["number-matrix-rows-spanned"],10)||0,de=parseInt(b["number-matrix-columns-spanned"],10)||0,ae={s:{r:B,c:F},e:{r:B+q-1,c:F+de-1}},S.F=Rt(ae),xe.push([ae,S.F])),b.formula)S.f=aw(b.formula);else for(Se=0;Se<xe.length;++Se)B>=xe[Se][0].s.r&&B<=xe[Se][0].e.r&&F>=xe[Se][0].s.c&&F<=xe[Se][0].e.c&&(S.F=xe[Se][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(q=parseInt(b["number-rows-spanned"],10)||0,de=parseInt(b["number-columns-spanned"],10)||0,ae={s:{r:B,c:F},e:{r:B+q-1,c:F+de-1}},te.push(ae)),b["number-columns-repeated"]&&(_e=parseInt(b["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=rr(b["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(b.value);break;case"percentage":S.t="n",S.v=parseFloat(b.value);break;case"currency":S.t="n",S.v=parseFloat(b.value);break;case"date":S.t="d",S.v=$r(b["date-value"]),r.cellDates||(S.t="n",S.v=Dn(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=JN(b["time-value"])/86400,r.cellDates&&(S.t="d",S.v=$h(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(b.);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",b["string-value"]!=null&&(k=Pt(b["string-value"]),O=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(ie=!1,S.t==="s"&&(S.v=k||"",O.length&&(S.R=O),ie=T==0),Q.Target&&(S.l=Q),Be.length>0&&(S.c=Be,Be=[]),k&&r.cellText!==!1&&(S.w=k),ie&&(S.t="z",delete S.v),(!ie||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=B))for(var Pe=0;Pe<ee;++Pe){if(_e=parseInt(b["number-columns-repeated"]||"1",10),r.dense)for(A[B+Pe]||(A[B+Pe]=[]),A[B+Pe][F]=Pe==0?S:rn(S);--_e>0;)A[B+Pe][F+_e]=rn(S);else for(A[ut({r:B+Pe,c:F})]=S;--_e>0;)A[ut({r:B+Pe,c:F+_e})]=rn(S);R.e.c<=F&&(R.e.c=F)}_e=parseInt(b["number-columns-repeated"]||"1",10),F+=_e-1,_e=0,S={},k="",O=[]}Q={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(_[1]==="/"){if((a=i.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!0]);break;case"annotation":if(_[1]==="/"){if((a=i.pop())[0]!==_[3])throw"Bad state: "+a;H.t=k,O.length&&(H.R=O),H.a=oe,Be.push(H)}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);oe="",re=0,k="",T=0,O=[];break;case"creator":_[1]==="/"?oe=n.slice(re,_.index):re=_.index+_[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(_[1]==="/"){if((a=i.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);k="",T=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(_[1]==="/"){if(M[u.name]=d,(a=i.pop())[0]!==_[3])throw"Bad state: "+a}else _[0].charAt(_[0].length-2)!=="/"&&(d="",u=st(_[0],!1),i.push([_[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=st(_[0],!1),d+=hw[_[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=st(_[0],!1),d+=hw[_[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(_[0].slice(-2)==="/>")break;if(_[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":d+=n.slice(p,_.index);break}else p=_.index+_[0].length;break;case"named-range":l=st(_[0],!1),Ce=s1(l["cell-range-address"]);var be={Name:l.name,Ref:Ce[0]+"!"+Ce[1]};le&&(be.Sheet=y.length),ve.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(_[1]==="/"&&(!b||!b["string-value"])){var Ke=jL(n.slice(T,_.index));k=(k.length>0?k+`
`:"")+Ke[0]}else st(_[0],!1),T=_.index+_[0].length;break;case"s":break;case"database-range":if(_[1]==="/")break;try{Ce=s1(st(_[0])["target-range-address"]),E[Ce[0]]["!autofilter"]={ref:Ce[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(_[1]!=="/"){if(Q=st(_[0],!1),!Q.href)break;Q.Target=Pt(Q.href),delete Q.href,Q.Target.charAt(0)=="#"&&Q.Target.indexOf(".")>-1?(Ce=s1(Q.Target.slice(1)),Q.Target="#"+Ce[0]+"!"+Ce[1]):Q.Target.match(/^\.\.[\\\/]/)&&(Q.Target=Q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(_)}}var J={Sheets:E,SheetNames:y,Workbook:ve};return r.bookSheets&&delete J.Sheets,J}function dw(e,t){t=t||{},yi(e,"META-INF/manifest.xml")&&rD(Tr(e,"META-INF/manifest.xml"),t);var r=ii(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=lT(Xt(r),t);return yi(e,"meta.xml")&&(n.Props=EC(Tr(e,"meta.xml"))),n}function pw(e,t){return lT(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ux(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fp(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Xt(Do(e))}function Mp(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function gw(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function VL(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Du(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Br(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function mn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Du(e,r),a=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(a){case 0:{for(var d=r[0];e[r[0]++]>=128;);u=e.slice(d,r[0])}break;case 5:l=4,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Du(e,r),u=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var p={data:u,type:a};t[i]==null?t[i]=[p]:t[i].push(p)}return t}function jx(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function WL(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Du(e,n),a=mn(e.slice(n[0],n[0]+i));n[0]+=i;var l={id:Br(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=mn(u.data),p=Br(d[3][0].data);l.messages.push({meta:d,data:e.slice(n[0],n[0]+p)}),n[0]+=p}),(t=a[3])!=null&&t[0]&&(l.merge=Br(a[3][0].data)>>>0>0),r.push(l)}return r}function HL(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Du(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=t[r[0]],u>1&&(l|=t[r[0]+1]<<8),u>2&&(l|=t[r[0]+2]<<16),u>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,p=0;if(a==1?(p=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(p=(t[r[0]++]>>2)+1,a==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Mp(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(p>=d)for(i.push(i[0].slice(-d)),p-=d;p>=i[i.length-1].length;)i.push(i[i.length-1]),p-=i[i.length-1].length;i.push(i[0].slice(-d,-d+p))}}var x=Mp(i);if(x.length!=n)throw new Error("Unexpected length: ".concat(x.length," != ").concat(n));return x}function zL(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(HL(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Mp(t)}function GL(e,t,r,n){var i=Ux(e),a=i.getUint32(4,!0),l=(n>1?12:8)+gw(a&(n>1?3470:398))*4,u=-1,d=-1,p=NaN,x=new Date(2001,0,1);a&512&&(u=i.getUint32(l,!0),l+=4),l+=gw(a&(n>1?12288:4096))*4,a&16&&(d=i.getUint32(l,!0),l+=4),a&32&&(p=i.getFloat64(l,!0),l+=8),a&64&&(x.setTime(x.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(e[2]){case 0:break;case 2:v={t:"n",v:p};break;case 3:v={t:"s",v:t[d]};break;case 5:v={t:"d",v:x};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(u>-1)v={t:"s",v:r[u]};else if(d>-1)v={t:"s",v:t[d]};else if(!isNaN(p))v={t:"n",v:p};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return v}function $L(e,t,r){var n=Ux(e),i=n.getUint32(8,!0),a=12,l=-1,u=-1,d=NaN,p=NaN,x=new Date(2001,0,1);i&1&&(d=VL(e,a),a+=16),i&2&&(p=n.getFloat64(a,!0),a+=8),i&4&&(x.setTime(x.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(u=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var v;switch(e[1]){case 0:break;case 2:v={t:"n",v:d};break;case 3:v={t:"s",v:t[u]};break;case 5:v={t:"d",v:x};break;case 6:v={t:"b",v:p>0};break;case 7:v={t:"n",v:p/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:v={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return v}function XL(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return GL(e,t,r,e[0]);case 5:return $L(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Fa(e){var t=mn(e);return Du(t[1][0].data)}function xw(e,t){var r=mn(t.data),n=Br(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var u=mn(l.data),d=Br(u[1][0].data)>>>0;switch(n){case 1:a[d]=Fp(u[3][0].data);break;case 8:{var p=e[Fa(u[9][0].data)][0],x=mn(p.data),v=e[Fa(x[1][0].data)][0],E=Br(v.meta[1][0].data);if(E!=2001)throw new Error("2000 unexpected reference to ".concat(E));var y=mn(v.data);a[d]=y[3].map(function(A){return Fp(A.data)}).join("")}break}}),a}function KL(e,t){var r,n,i,a,l,u,d,p,x,v,E,y,A,_,S=mn(e),b=Br(S[1][0].data)>>>0,k=Br(S[2][0].data)>>>0,T=((n=(r=S[8])==null?void 0:r[0])==null?void 0:n.data)&&Br(S[8][0].data)>0||!1,O,B;if((a=(i=S[7])==null?void 0:i[0])!=null&&a.data&&t!=0)O=(u=(l=S[7])==null?void 0:l[0])==null?void 0:u.data,B=(p=(d=S[6])==null?void 0:d[0])==null?void 0:p.data;else if((v=(x=S[4])==null?void 0:x[0])!=null&&v.data&&t!=1)O=(y=(E=S[4])==null?void 0:E[0])==null?void 0:y.data,B=(_=(A=S[3])==null?void 0:A[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var F=T?4:1,R=Ux(O),z=[],M=0;M<O.length/2;++M){var te=R.getUint16(M*2,!0);te<65535&&z.push([M,te])}if(z.length!=k)throw"Expected ".concat(k," cells, found ").concat(z.length);var ae=[];for(M=0;M<z.length-1;++M)ae[z[M][0]]=B.subarray(z[M][1]*F,z[M+1][1]*F);return z.length>=1&&(ae[z[z.length-1][0]]=B.subarray(z[z.length-1][1]*F)),{R:b,cells:ae}}function YL(e,t){var r,n=mn(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Br(n[7][0].data)>>>0>0?1:0:-1,a=jx(n[5],function(l){return KL(l,i)});return{nrows:Br(n[4][0].data)>>>0,data:a.reduce(function(l,u){return l[u.R]||(l[u.R]=[]),u.cells.forEach(function(d,p){if(l[u.R][p])throw new Error("Duplicate cell r=".concat(u.R," c=").concat(p));l[u.R][p]=d}),l},[])}}function qL(e,t,r){var n,i=mn(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Br(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Br(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Rt(a);var l=mn(i[4][0].data),u=xw(e,e[Fa(l[4][0].data)][0]),d=(n=l[17])!=null&&n[0]?xw(e,e[Fa(l[17][0].data)][0]):[],p=mn(l[3][0].data),x=0;p[1].forEach(function(v){var E=mn(v.data),y=e[Fa(E[2][0].data)][0],A=Br(y.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var _=YL(e,y);_.data.forEach(function(S,b){S.forEach(function(k,T){var O=ut({r:x+b,c:T}),B=XL(k,u,d);B&&(r[O]=B)})}),x+=_.nrows})}function ZL(e,t){var r=mn(t.data),n={"!ref":"A1"},i=e[Fa(r[2][0].data)],a=Br(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return qL(e,i[0],n),n}function QL(e,t){var r,n=mn(t.data),i={name:(r=n[1])!=null&&r[0]?Fp(n[1][0].data):"",sheets:[]},a=jx(n[2],Fa);return a.forEach(function(l){e[l].forEach(function(u){var d=Br(u.meta[1][0].data);d==6e3&&i.sheets.push(ZL(e,u))})}),i}function JL(e,t){var r=Hx(),n=mn(t.data),i=jx(n[1],Fa);if(i.forEach(function(a){e[a].forEach(function(l){var u=Br(l.meta[1][0].data);if(u==2){var d=QL(e,l);d.sheets.forEach(function(p,x){zx(r,p,x==0?d.name:d.name+"_"+x,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function o1(e){var t,r,n,i,a={},l=[];if(e.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var p;try{p=zL(d.content)}catch(v){return console.log("?? "+d.content.length+" "+(v.message||v))}var x;try{x=WL(p)}catch(v){return console.log("## "+(v.message||v))}x.forEach(function(v){a[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var u=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Br(a[1][0].meta[1][0].data)==1&&a[1][0];if(u||l.forEach(function(d){a[d].forEach(function(p){var x=Br(p.meta[1][0].data)>>>0;if(x==1)if(!u)u=p;else throw new Error("Document has multiple roots")})}),!u)throw new Error("Cannot find Document root");return JL(a,u)}function eB(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Vx(e){eB([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function tB(e){return ml.WS.indexOf(e)>-1?"sheet":e==ml.CS?"chart":e==ml.DS?"dialog":e==ml.MS?"macro":e&&e.length?e:"sheet"}function rB(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,tB(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function nB(e,t,r,n,i,a,l,u,d,p,x,v){try{a[n]=Zc(ii(e,r,!0),t);var E=Tr(e,t),y;switch(u){case"sheet":y=cL(E,t,i,d,a[n],p,x,v);break;case"chart":if(y=uL(E,t,i,d,a[n],p,x,v),!y||!y["!drawel"])break;var A=Fc(y["!drawel"].Target,t),_=Rp(A),S=lF(ii(e,A,!0),Zc(ii(e,_,!0),A)),b=Fc(S,A),k=Rp(b);y=$M(ii(e,b,!0),b,d,Zc(ii(e,k,!0),b),p,y);break;case"macro":y=fL(E,t,i,d,a[n],p,x,v);break;case"dialog":y=hL(E,t,i,d,a[n],p,x,v);break;default:throw new Error("Unrecognized sheet type "+u)}l[n]=y;var T=[];a&&a[n]&&Es(a[n]).forEach(function(O){var B="";if(a[n][O].Type==ml.CMNT){B=Fc(a[n][O].Target,t);var F=xL(Tr(e,B,!0),B,d);if(!F||!F.length)return;tw(y,F,!1)}a[n][O].Type==ml.TCMNT&&(B=Fc(a[n][O].Target,t),T=T.concat(uF(Tr(e,B,!0),d)))}),T&&T.length&&tw(y,T,!0,d.people||[])}catch(O){if(d.WTF)throw O}}function vi(e){return e.charAt(0)=="/"?e.slice(1):e}function iB(e,t){if($A(),t=t||{},Vx(t),yi(e,"META-INF/manifest.xml")||yi(e,"objectdata.xml"))return dw(e,t);if(yi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof o1<"u"){if(e.FileIndex)return o1(e);var r=It.utils.cfb_new();return kv(e).forEach(function(pe){s5(r,pe,i5(e,pe))}),o1(r)}throw new Error("Unsupported NUMBERS file")}if(!yi(e,"[Content_Types].xml"))throw yi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):yi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=kv(e),i=eD(ii(e,"[Content_Types].xml")),a=!1,l,u;if(i.workbooks.length===0&&(u="xl/workbook.xml",Tr(e,u,!0)&&i.workbooks.push(u)),i.workbooks.length===0){if(u="xl/workbook.bin",!Tr(e,u,!0))throw new Error("Could not find workbook");i.workbooks.push(u),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var d={},p={};if(!t.bookSheets&&!t.bookProps){if(eu=[],i.sst)try{eu=gL(Tr(e,vi(i.sst)),i.sst,t)}catch(pe){if(t.WTF)throw pe}t.cellStyles&&i.themes.length&&(d=pL(ii(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(p=dL(Tr(e,vi(i.style)),i.style,d,t))}i.links.map(function(pe){try{var ee=Zc(ii(e,Rp(vi(pe))),pe);return vL(Tr(e,vi(pe)),ee,pe,t)}catch{}});var x=lL(Tr(e,vi(i.workbooks[0])),i.workbooks[0],t),v={},E="";i.coreprops.length&&(E=Tr(e,vi(i.coreprops[0]),!0),E&&(v=EC(E)),i.extprops.length!==0&&(E=Tr(e,vi(i.extprops[0]),!0),E&&sD(E,v,t)));var y={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(E=ii(e,vi(i.custprops[0]),!0),E&&(y=oD(E,t)));var A={};if((t.bookSheets||t.bookProps)&&(x.Sheets?l=x.Sheets.map(function(ee){return ee.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),t.bookProps&&(A.Props=v,A.Custprops=y),t.bookSheets&&typeof l<"u"&&(A.SheetNames=l),t.bookSheets?A.SheetNames:t.bookProps))return A;l={};var _={};t.bookDeps&&i.calcchain&&(_=mL(Tr(e,vi(i.calcchain)),i.calcchain));var S=0,b={},k,T;{var O=x.Sheets;v.Worksheets=O.length,v.SheetNames=[];for(var B=0;B!=O.length;++B)v.SheetNames[B]=O[B].name}var F=a?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),z=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");yi(e,z)||(z="xl/_rels/workbook."+F+".rels");var M=Zc(ii(e,z,!0),z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=wL(Tr(e,vi(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=fF(Tr(e,vi(i.people[0])),t)),M&&(M=rB(M,x.Sheets));var te=Tr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=v.Worksheets;++S){var ae="sheet";if(M&&M[S]?(k="xl/"+M[S][1].replace(/[\/]?xl\//,""),yi(e,k)||(k=M[S][1]),yi(e,k)||(k=z.replace(/_rels\/.*$/,"")+M[S][1]),ae=M[S][2]):(k="xl/worksheets/sheet"+(S+1-te)+"."+F,k=k.replace(/sheet0\./,"sheet.")),T=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(S!=t.sheets)continue e;break;case"string":if(v.SheetNames[S].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var q=!1,de=0;de!=t.sheets.length;++de)typeof t.sheets[de]=="number"&&t.sheets[de]==S&&(q=1),typeof t.sheets[de]=="string"&&t.sheets[de].toLowerCase()==v.SheetNames[S].toLowerCase()&&(q=1);if(!q)continue e}}nB(e,k,T,v.SheetNames[S],S,b,l,ae,t,x,d,p)}return A={Directory:i,Workbook:x,Props:v,Custprops:y,Deps:_,Sheets:l,SheetNames:v.SheetNames,Strings:eu,Styles:p,Themes:d,SSF:rn(gt)},t&&t.bookFiles&&(e.files?(A.keys=n,A.files=e.files):(A.keys=[],A.files={},e.FullPaths.forEach(function(pe,ee){pe=pe.replace(/^Root Entry[\/]/,""),A.keys.push(pe),A.files[pe]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?A.vbaraw=Tr(e,vi(i.vba[0]),!0):i.defaults&&i.defaults.bin===gF&&(A.vbaraw=Tr(e,"xl/vbaProject.bin",!0))),A}function sB(e,t){var r=t||{},n="Workbook",i=It.find(e,n);try{if(n="/!DataSpaces/Version",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(ZP(i.content),n="/!DataSpaces/DataSpaceMap",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=JP(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=e7(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);r7(i.content)}catch{}if(n="/EncryptionInfo",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var u=n7(i.content);if(n="/EncryptedPackage",i=It.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(u[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(u[1],i.content,r.password||"",r);if(u[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(u[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Wx(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function aB(e,t){return It.find(e,"EncryptedPackage")?sB(e,t):sT(e,t)}function oB(e,t){var r,n=e,i=t||{};return i.type||(i.type=bt&&Buffer.isBuffer(e)?"buffer":"base64"),r=QA(n,i),iB(r,i)}function cT(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Dp(e.slice(r),t);default:break e}return Ru.to_workbook(e,t)}function lB(e,t){var r="",n=Wx(e,t);switch(t.type){case"base64":r=fi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=ko(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Xt(r)),t.type="binary",cT(r,t)}function cB(e,t){var r=e;return t.type=="base64"&&(r=fi(r)),r=pa.utils.decode(1200,r.slice(2),"str"),t.type="binary",cT(r,t)}function uB(e){return e.match(/[^\x00-\x7F]/)?Mc(e):e}function l1(e,t,r,n){return n?(r.type="string",Ru.to_workbook(e,r)):Ru.to_workbook(t,r)}function Lp(e,t){PA();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Lp(new Uint8Array(e),(r=rn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Nl={},r.dateNF&&(Nl.dateNF=r.dateNF),r.type||(r.type=bt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=bt?"buffer":"binary",n=ZN(e),typeof Uint8Array<"u"&&!bt&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=uB(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),u=new Uint8Array(l);if(u.foo="bar",!u.foo)return r=rn(r),r.type="array",Lp(yx(n),r)}switch((i=Wx(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return aB(It.read(n,r),r);break;case 9:if(i[1]<=8)return sT(n,r);break;case 60:return Dp(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return BP(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return MP.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?oB(n,r):l1(e,n,r,a);case 239:return i[3]===60?Dp(n,r):l1(e,n,r,a);case 255:if(i[1]===254)return cB(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Jc.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Jc.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return ew.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return g7.to_workbook(n,r);break;case 10:case 13:case 32:return lB(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return PP.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?ew.to_workbook(n,r):l1(e,n,r,a)}function fB(e,t,r,n,i,a,l,u){var d=nn(r),p=u.defval,x=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),v=!0,E=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(E,"__rowNum__",{value:r,enumerable:!1})}catch{E.__rowNum__=r}else E.__rowNum__=r;if(!l||e[r])for(var y=t.s.c;y<=t.e.c;++y){var A=l?e[r][y]:e[n[y]+d];if(A===void 0||A.t===void 0){if(p===void 0)continue;a[y]!=null&&(E[a[y]]=p);continue}var _=A.v;switch(A.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(a[y]!=null){if(_==null)if(A.t=="e"&&_===null)E[a[y]]=null;else if(p!==void 0)E[a[y]]=p;else if(x&&_===null)E[a[y]]=null;else continue;else E[a[y]]=x&&(A.t!=="n"||A.t==="n"&&u.rawNumbers!==!1)?_:Xs(A,_,u);_!=null&&(v=!1)}}return{row:E,isempty:v}}function Bp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},p=t||{},x=p.range!=null?p.range:e["!ref"];switch(p.header===1?n=1:p.header==="A"?n=2:Array.isArray(p.header)?n=3:p.header==null&&(n=0),typeof x){case"string":d=vr(x);break;case"number":d=vr(e["!ref"]),d.s.r=x;break;default:d=x}n>0&&(i=0);var v=nn(d.s.r),E=[],y=[],A=0,_=0,S=Array.isArray(e),b=d.s.r,k=0,T={};S&&!e[b]&&(e[b]=[]);var O=p.skipHidden&&e["!cols"]||[],B=p.skipHidden&&e["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(O[k]||{}).hidden)switch(E[k]=Lr(k),r=S?e[b][k]:e[E[k]+v],n){case 1:a[k]=k-d.s.c;break;case 2:a[k]=E[k];break;case 3:a[k]=p.header[k-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=Xs(r,null,p),_=T[l]||0,!_)T[l]=1;else{do u=l+"_"+_++;while(T[u]);T[l]=_,T[u]=1}a[k]=u}for(b=d.s.r+i;b<=d.e.r;++b)if(!(B[b]||{}).hidden){var F=fB(e,d,b,E,n,a,S,p);(F.isempty===!1||(n===1?p.blankrows!==!1:p.blankrows))&&(y[A++]=F.row)}return y.length=A,y}var mw=/"/g;function hB(e,t,r,n,i,a,l,u){for(var d=!0,p=[],x="",v=nn(r),E=t.s.c;E<=t.e.c;++E)if(n[E]){var y=u.dense?(e[r]||[])[E]:e[n[E]+v];if(y==null)x="";else if(y.v!=null){d=!1,x=""+(u.rawNumbers&&y.t=="n"?y.v:Xs(y,null,u));for(var A=0,_=0;A!==x.length;++A)if((_=x.charCodeAt(A))===i||_===a||_===34||u.forceQuotes){x='"'+x.replace(mw,'""')+'"';break}x=="ID"&&(x='"ID"')}else y.f!=null&&!y.F?(d=!1,x="="+y.f,x.indexOf(",")>=0&&(x='"'+x.replace(mw,'""')+'"')):x="";p.push(x)}return u.blankrows===!1&&d?null:p.join(l)}function uT(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=vr(e["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),p=new RegExp((a=="|"?"\\|":a)+"+$"),x="",v=[];n.dense=Array.isArray(e);for(var E=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(E[A]||{}).hidden||(v[A]=Lr(A));for(var _=0,S=i.s.r;S<=i.e.r;++S)(y[S]||{}).hidden||(x=hB(e,i,S,v,l,d,a,n),x!=null&&(n.strip&&(x=x.replace(p,"")),(x||n.blankrows!==!1)&&r.push((_++?u:"")+x)));return delete n.dense,r.join("")}function dB(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=uT(e,t);return r}function pB(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=vr(e["!ref"]),a="",l=[],u,d=[],p=Array.isArray(e);for(u=i.s.c;u<=i.e.c;++u)l[u]=Lr(u);for(var x=i.s.r;x<=i.e.r;++x)for(a=nn(x),u=i.s.c;u<=i.e.c;++u)if(t=l[u]+a,r=p?(e[x]||[])[u]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function fT(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?In(n.origin):n.origin;l=d.r,u=d.c}var p,x={s:{c:0,r:0},e:{c:u,r:l+t.length-1+i}};if(a["!ref"]){var v=vr(a["!ref"]);x.e.c=Math.max(x.e.c,v.e.c),x.e.r=Math.max(x.e.r,v.e.r),l==-1&&(l=v.e.r+1,x.e.r=l+t.length-1+i)}else l==-1&&(l=0,x.e.r=t.length-1+i);var E=n.header||[],y=0;t.forEach(function(_,S){Es(_).forEach(function(b){(y=E.indexOf(b))==-1&&(E[y=E.length]=b);var k=_[b],T="z",O="",B=ut({c:u+y,r:l+S+i});p=Pu(a,B),k&&typeof k=="object"&&!(k instanceof Date)?a[B]=k:(typeof k=="number"?T="n":typeof k=="boolean"?T="b":typeof k=="string"?T="s":k instanceof Date?(T="d",n.cellDates||(T="n",k=Dn(k)),O=n.dateNF||gt[14]):k===null&&n.nullError&&(T="e",k=0),p?(p.t=T,p.v=k,delete p.w,delete p.R,O&&(p.z=O)):a[B]=p={t:T,v:k},O&&(p.z=O))})}),x.e.c=Math.max(x.e.c,u+E.length-1);var A=nn(l);if(i)for(y=0;y<E.length;++y)a[Lr(y+u)+A]={t:"s",v:E[y]};return a["!ref"]=Rt(x),a}function gB(e,t){return fT(null,e,t)}function Pu(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=In(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Pu(e,ut(t)):Pu(e,ut({r:t,c:r||0}))}function xB(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Hx(){return{SheetNames:[],Sheets:{}}}function zx(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=l+i)!=-1;++i);}if(eL(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function mB(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=xB(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function vB(e,t){return e.z=t,e}function hT(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function wB(e,t,r){return hT(e,"#"+t,r)}function yB(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function EB(e,t,r,n){for(var i=typeof t!="string"?t:vr(t),a=typeof t=="string"?t:Rt(t),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var d=Pu(e,l,u);d.t="n",d.F=a,delete d.v,l==i.s.r&&u==i.s.c&&(d.f=r,n&&(d.D=!0))}return e}var _B={encode_col:Lr,encode_row:nn,encode_cell:ut,encode_range:Rt,decode_col:Ix,decode_row:kx,split_cell:D5,decode_cell:In,decode_range:lc,format_cell:Xs,sheet_add_aoa:xC,sheet_add_json:fT,sheet_add_dom:aT,aoa_to_sheet:cc,json_to_sheet:gB,table_to_sheet:oT,table_to_book:BL,sheet_to_csv:uT,sheet_to_txt:dB,sheet_to_json:Bp,sheet_to_html:LL,sheet_to_formulae:pB,sheet_to_row_object_array:Bp,sheet_get_cell:Pu,book_new:Hx,book_append_sheet:zx,book_set_sheet_visibility:mB,cell_set_number_format:vB,cell_set_hyperlink:hT,cell_set_internal_link:wB,cell_add_comment:yB,sheet_set_array_formula:EB,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const AB=({onUpload:e,isUploading:t})=>{const[r,n]=j.useState(!1),[i,a]=j.useState(!1),[l,u]=j.useState(!1),d=j.useRef(null),{toast:p}=Yu(),x=()=>{var A;i?(A=d.current)==null||A.click():n(!0)},v=()=>{a(!0),n(!1),setTimeout(()=>{var A;(A=d.current)==null||A.click()},100)},E=async A=>new Promise((_,S)=>{const b=new FileReader;b.onload=k=>{var T;try{const O=(T=k.target)==null?void 0:T.result,B=Lp(O,{type:"binary"}),F=B.SheetNames[0],R=B.Sheets[F],M=_B.sheet_to_json(R).map(te=>({employee_id:String(te.Empoyee_ID||"").trim(),employee_name:String(te.Employee_Name||"").trim(),meal_type:te.Meal_Type?String(te.Meal_Type).trim():null,company_name:te.Company_Name?String(te.Company_Name).trim():null,camp_allocation:te.Camp_Allocation?String(te.Camp_Allocation).trim():null,access_card:te.Access_Card?String(te.Access_Card).trim():null,card_number:te.Card_Number?String(te.Card_Number).trim():null})).filter(te=>te.employee_id&&te.employee_name);_(M)}catch(O){S(O)}},b.onerror=()=>S(new Error("Failed to read file")),b.readAsBinaryString(A)}),y=async A=>{var b;const _=(b=A.target.files)==null?void 0:b[0];if(!_)return;if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".xlsx",".xls"].some(k=>_.type===k||_.name.endsWith(k))){p({title:"Invalid File Type",description:"Please upload an Excel file (.xlsx or .xls)",variant:"destructive"});return}try{const k=await E(_);if(k.length===0){p({title:"No Data Found",description:"The Excel file appears to be empty or has incorrect headers.",variant:"destructive"});return}await e(k),u(!0),p({title:"Upload Successful",description:`${k.length} employee records have been uploaded.`}),setTimeout(()=>u(!1),3e3)}catch(k){console.error("Excel parse error:",k),p({title:"Upload Failed",description:"Failed to parse the Excel file. Please check the format.",variant:"destructive"})}d.current&&(d.current.value="")};return V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"glass-card mx-4 p-6 mt-auto",children:[V.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[V.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-neon-purple to-neon-pink flex items-center justify-center",children:V.jsx(L8,{className:"w-4 h-4 text-secondary-foreground"})}),V.jsxs("div",{children:[V.jsx("h3",{className:"font-bold tracking-wide",children:"Master Database Control"}),V.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin access required"})]})]}),V.jsx("input",{ref:d,type:"file",accept:".xlsx,.xls",onChange:y,className:"hidden"}),V.jsx(ys,{variant:"secondary",className:"w-full relative overflow-hidden",onClick:x,disabled:t,children:t?V.jsxs(V.Fragment,{children:[V.jsx(Qg,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):l?V.jsxs(V.Fragment,{children:[V.jsx(D8,{className:"w-4 h-4 mr-2 text-neon-emerald"}),"Upload Complete"]}):V.jsxs(V.Fragment,{children:[i?V.jsx(Z_,{className:"w-4 h-4 mr-2"}):V.jsx(q_,{className:"w-4 h-4 mr-2"}),i?"Upload Excel File":"Unlock & Upload"]})}),V.jsx("p",{className:"text-[10px] text-muted-foreground text-center mt-3",children:"Expected headers: Empoyee_ID, Employee_Name, Meal_Type, Company_Name, Camp_Allocation, Access_Card, Card_Number"})]}),V.jsx(NA,{isOpen:r,onClose:()=>n(!1),onSuccess:v,title:"Database Upload Authorization"})]})},CB=()=>V.jsx("footer",{className:"py-6 px-4 mt-8",children:V.jsx("div",{className:"text-center",children:V.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created by ",V.jsx("span",{className:"font-bold text-foreground",children:"ALI"})," -",V.jsx("a",{href:"mailto:m.nharakkat@",className:"text-neon-cyan hover:text-neon-cyan/80 transition-colors ml-1",children:"m.nharakkat@"}),V.jsx("span",{className:"mx-2",children:""}),V.jsx("span",{className:"text-muted-foreground",children:"2025"})]})})});var ze;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var vw=new Map([[ze.QR_CODE,"QR_CODE"],[ze.AZTEC,"AZTEC"],[ze.CODABAR,"CODABAR"],[ze.CODE_39,"CODE_39"],[ze.CODE_93,"CODE_93"],[ze.CODE_128,"CODE_128"],[ze.DATA_MATRIX,"DATA_MATRIX"],[ze.MAXICODE,"MAXICODE"],[ze.ITF,"ITF"],[ze.EAN_13,"EAN_13"],[ze.EAN_8,"EAN_8"],[ze.PDF_417,"PDF_417"],[ze.RSS_14,"RSS_14"],[ze.RSS_EXPANDED,"RSS_EXPANDED"],[ze.UPC_A,"UPC_A"],[ze.UPC_E,"UPC_E"],[ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ww;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ww||(ww={}));function TB(e){return Object.values(ze).includes(e)}var lh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lh||(lh={}));var SB=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[lh.SCAN_TYPE_CAMERA,lh.SCAN_TYPE_FILE],e}(),dT=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!vw.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,vw.get(t))},e}(),yw=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Up;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Up||(Up={}));var bB=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Up.UNKWOWN_ERROR}},e}(),kB=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Is(e){return typeof e>"u"||e===null}var vl=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),pT=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(t),u=0,d=l;u<d.length;u++){var p=d[u];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),jp={exports:{}};(function(e,t){(function(r,n){n(t)})(vc,function(r){function n(N){return N==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,s){N.__proto__=s}||function(N,s){for(var o in s)s.hasOwnProperty(o)&&(N[o]=s[o])};function a(N,s){i(N,s);function o(){this.constructor=N}N.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function l(N,s){var o=Object.setPrototypeOf;o?o(N,s):N.__proto__=s}function u(N,s){s===void 0&&(s=N.constructor);var o=Error.captureStackTrace;o&&o(N,s)}var d=function(N){a(s,N);function s(o){var c=this.constructor,f=N.call(this,o)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),l(f,c.prototype),u(f),f}return s}(Error);class p extends d{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,f){const h=this.binarizer.getLuminanceSource().crop(s,o,c,f);return new E(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends p{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(s,o,c,f,h){for(;h--;)c[f++]=s[o++]}static currentTimeMillis(){return Date.now()}}class S extends p{}S.kind="IndexOutOfBoundsException";class b extends S{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}b.kind="ArrayIndexOutOfBoundsException";class k{static fill(s,o){for(let c=0,f=s.length;c<f;c++)s[c]=o}static fillWithin(s,o,c,f){k.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=f}static rangeCheck(s,o,c){if(o>c)throw new v("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new b(o);if(c>s)throw new b(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,f=s.length;c<f;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const f=c-o,h=new Int32Array(f);return _.arraycopy(s,o,h,0,f),h}static binarySearch(s,o,c){c===void 0&&(c=k.numberComparator);let f=0,h=s.length-1;for(;f<=h;){const g=h+f>>1,m=c(o,s[g]);if(m>0)f=g+1;else if(m<0)h=g-1;else return g}return-f-1}static numberComparator(s,o){return s-o}}class T{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=O.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=O.makeArray(s);_.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=c[f];h&=~((1<<(s&31))-1);const g=c.length;for(;h===0;){if(++f===g)return o;h=c[f]}const m=f*32+T.numberOfTrailingZeros(h);return m>o?o:m}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let f=Math.floor(s/32),h=~c[f];h&=~((1<<(s&31))-1);const g=c.length;for(;h===0;){if(++f===g)return o;h=~c[f]}const m=f*32+T.numberOfTrailingZeros(h);return m>o?o:m}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new v;if(o===s)return;o--;const c=Math.floor(s/32),f=Math.floor(o/32),h=this.bits;for(let g=c;g<=f;g++){const m=g>c?0:s&31,C=(2<<(g<f?31:o&31))-(1<<m);h[g]|=C}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new v;if(o===s)return!0;o--;const f=Math.floor(s/32),h=Math.floor(o/32),g=this.bits;for(let m=f;m<=h;m++){const w=m>f?0:s&31,I=(2<<(m<h?31:o&31))-(1<<w)&4294967295;if((g[m]&I)!==(c?I:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const o=this.bits;for(let c=0,f=o.length;c<f;c++)o[c]^=s.bits[c]}toBytes(s,o,c,f){for(let h=0;h<f;h++){let g=0;for(let m=0;m<8;m++)this.get(s)&&(g|=1<<7-m),s++;o[c+h]=g}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,f=this.bits;for(let h=0;h<c;h++){let g=f[h];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,s[o-h]=g}if(this.size!==c*32){const h=c*32-this.size;let g=s[0]>>>h;for(let m=1;m<c;m++){const w=s[m];g|=w<<32-h,s[m-1]=g,g=w>>>h}s[c-1]=g}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof O))return!1;const o=s;return this.size===o.size&&k.equals(this.bits,o.bits)}hashCode(){return 31*this.size+k.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new O(this.size,this.bits.slice())}}var B;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var F=B;class R extends p{static getFormatInstance(){return new R}}R.kind="FormatException";var z;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(z||(z={}));class M{constructor(s,o,c,...f){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=f,M.VALUE_IDENTIFIER_TO_ECI.set(s,this),M.NAME_TO_ECI.set(c,this);const h=this.values;for(let g=0,m=h.length;g!==m;g++){const w=h[g];M.VALUES_TO_ECI.set(w,this)}for(const g of f)M.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new R("incorect value");const o=M.VALUES_TO_ECI.get(s);if(o===void 0)throw new R("incorect value");return o}static getCharacterSetECIByName(s){const o=M.NAME_TO_ECI.get(s);if(o===void 0)throw new R("incorect value");return o}equals(s){if(!(s instanceof M))return!1;const o=s;return this.getName()===o.getName()}}M.VALUE_IDENTIFIER_TO_ECI=new Map,M.VALUES_TO_ECI=new Map,M.NAME_TO_ECI=new Map,M.Cp437=new M(z.Cp437,Int32Array.from([0,2]),"Cp437"),M.ISO8859_1=new M(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),M.ISO8859_2=new M(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),M.ISO8859_3=new M(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),M.ISO8859_4=new M(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),M.ISO8859_5=new M(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),M.ISO8859_6=new M(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),M.ISO8859_7=new M(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),M.ISO8859_8=new M(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),M.ISO8859_9=new M(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),M.ISO8859_10=new M(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),M.ISO8859_11=new M(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),M.ISO8859_13=new M(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),M.ISO8859_14=new M(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),M.ISO8859_15=new M(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),M.ISO8859_16=new M(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),M.SJIS=new M(z.SJIS,20,"SJIS","Shift_JIS"),M.Cp1250=new M(z.Cp1250,21,"Cp1250","windows-1250"),M.Cp1251=new M(z.Cp1251,22,"Cp1251","windows-1251"),M.Cp1252=new M(z.Cp1252,23,"Cp1252","windows-1252"),M.Cp1256=new M(z.Cp1256,24,"Cp1256","windows-1256"),M.UnicodeBigUnmarked=new M(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),M.UTF8=new M(z.UTF8,26,"UTF8","UTF-8"),M.ASCII=new M(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),M.Big5=new M(z.Big5,28,"Big5"),M.GB18030=new M(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),M.EUC_KR=new M(z.EUC_KR,30,"EUC_KR","EUC-KR");class te extends p{}te.kind="UnsupportedOperationException";class ae{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!ae.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof M?s:M.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(ae.isDecodeFallbackSupported(c)){let f="";for(let h=0,g=s.length;h<g;h++){let m=s[h].toString(16);m.length<2&&(m="0"+m),f+="%"+m}return decodeURIComponent(f)}if(c.equals(M.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new te(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(M.UTF8)||s.equals(M.ISO8859_1)||s.equals(M.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),f=[];for(let h=0;h<c.length;h++)f.push(c[h].charCodeAt(0));return new Uint8Array(f)}}class q{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return ae.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(F.CHARACTER_SET)!==void 0)return o.get(F.CHARACTER_SET).toString();const c=s.length;let f=!0,h=!0,g=!0,m=0,w=0,C=0,I=0,D=0,L=0,Y=0,ne=0,se=0,ue=0,ye=0;const Le=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let je=0;je<c&&(f||h||g);je++){const Ie=s[je]&255;g&&(m>0?Ie&128?m--:g=!1:Ie&128&&(Ie&64?(m++,Ie&32?(m++,Ie&16?(m++,Ie&8?g=!1:I++):C++):w++):g=!1)),f&&(Ie>127&&Ie<160?f=!1:Ie>159&&(Ie<192||Ie===215||Ie===247)&&ye++),h&&(D>0?Ie<64||Ie===127||Ie>252?h=!1:D--:Ie===128||Ie===160||Ie>239?h=!1:Ie>160&&Ie<224?(L++,ne=0,Y++,Y>se&&(se=Y)):Ie>127?(D++,Y=0,ne++,ne>ue&&(ue=ne)):(Y=0,ne=0))}return g&&m>0&&(g=!1),h&&D>0&&(h=!1),g&&(Le||w+C+I>0)?q.UTF8:h&&(q.ASSUME_SHIFT_JIS||se>=3||ue>=3)?q.SHIFT_JIS:f&&h?se===2&&L===2||ye*10>=c?q.SHIFT_JIS:q.ISO88591:f?q.ISO88591:h?q.SHIFT_JIS:g?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function f(g,m,w,C,I,D){if(g==="%%")return"%";if(o[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let L=I?parseInt(I.substr(1)):void 0,Y;switch(D){case"s":Y=o[c];break;case"c":Y=o[c][0];break;case"f":Y=parseFloat(o[c]).toFixed(g);break;case"p":Y=parseFloat(o[c]).toPrecision(g);break;case"e":Y=parseFloat(o[c]).toExponential(g);break;case"x":Y=parseInt(o[c]).toString(L||16);break;case"d":Y=parseFloat(parseInt(o[c],L||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(L);let ne=parseInt(w),se=w&&w[0]+""=="0"?"0":" ";for(;Y.length<ne;)Y=m!==void 0?Y+se:se+Y;return Y}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}static getBytes(s,o){return ae.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}q.SHIFT_JIS=M.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=M.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=M.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class de{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=q.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let f=o;o<o+c;f++)this.append(s[f]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class pe{constructor(s,o,c,f){if(this.width=s,this.height=o,this.rowSize=c,this.bits=f,o==null&&(o=s),this.height=o,s<1||o<1)throw new v("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,f=new pe(c,o);for(let h=0;h<o;h++){const g=s[h];for(let m=0;m<c;m++)g[m]&&f.set(m,h)}return f}static parseFromString(s,o,c){if(s===null)throw new v("stringRepresentation cannot be null");const f=new Array(s.length);let h=0,g=0,m=-1,w=0,C=0;for(;C<s.length;)if(s.charAt(C)===`
`||s.charAt(C)==="\r"){if(h>g){if(m===-1)m=h-g;else if(h-g!==m)throw new v("row lengths do not match");g=h,w++}C++}else if(s.substring(C,C+o.length)===o)C+=o.length,f[h]=!0,h++;else if(s.substring(C,C+c.length)===c)C+=c.length,f[h]=!1,h++;else throw new v("illegal character encountered: "+s.substring(C));if(h>g){if(m===-1)m=h-g;else if(h-g!==m)throw new v("row lengths do not match");w++}const I=new pe(m,w);for(let D=0;D<h;D++)f[D]&&I.set(Math.floor(D%m),Math.floor(D/m));return I}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const o=new O(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let h=0,g=this.height;h<g;h++){const m=h*c,w=s.getRow(h,o).getBitArray();for(let C=0;C<c;C++)f[m+C]^=w[C]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,f){if(o<0||s<0)throw new v("Left and top must be nonnegative");if(f<1||c<1)throw new v("Height and width must be at least 1");const h=s+c,g=o+f;if(g>this.height||h>this.width)throw new v("The region must fit inside the matrix");const m=this.rowSize,w=this.bits;for(let C=o;C<g;C++){const I=C*m;for(let D=s;D<h;D++)w[I+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new O(this.width):o.clear();const c=this.rowSize,f=this.bits,h=s*c;for(let g=0;g<c;g++)o.setBulk(g*32,f[h+g]);return o}setRow(s,o){_.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new O(s),f=new O(s);for(let h=0,g=Math.floor((o+1)/2);h<g;h++)c=this.getRow(h,c),f=this.getRow(o-1-h,f),c.reverse(),f.reverse(),this.setRow(h,f),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,f=this.bits;let h=s,g=o,m=-1,w=-1;for(let C=0;C<o;C++)for(let I=0;I<c;I++){const D=f[C*c+I];if(D!==0){if(C<g&&(g=C),C>w&&(w=C),I*32<h){let L=0;for(;!(D<<31-L&4294967295);)L++;I*32+L<h&&(h=I*32+L)}if(I*32+31>m){let L=31;for(;!(D>>>L);)L--;I*32+L>m&&(m=I*32+L)}}}return m<h||w<g?null:Int32Array.from([h,g,m-h+1,w-g+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const f=c/s;let h=c%s*32;const g=o[c];let m=0;for(;!(g<<31-m&4294967295);)m++;return h+=m,Int32Array.from([h,f])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/s);let h=Math.floor(c%s)*32;const g=o[c];let m=31;for(;!(g>>>m);)m--;return h+=m,Int32Array.from([h,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof pe))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&k.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+k.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let f=new de;for(let h=0,g=this.height;h<g;h++){for(let m=0,w=this.width;m<w;m++)f.append(this.get(m,h)?s:o);f.append(c)}return f.toString()}clone(){return new pe(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends p{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class _e extends A{constructor(s){super(s),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),f=c.getWidth();o==null||o.getSize()<f?o=new O(f):o.clear(),this.initArrays(f);const h=c.getRow(s,this.luminances),g=this.buckets;for(let w=0;w<f;w++)g[(h[w]&255)>>_e.LUMINANCE_SHIFT]++;const m=_e.estimateBlackPoint(g);if(f<3)for(let w=0;w<f;w++)(h[w]&255)<m&&o.set(w);else{let w=h[0]&255,C=h[1]&255;for(let I=1;I<f-1;I++){const D=h[I+1]&255;(C*4-w-D)/2<m&&o.set(I),w=C,C=D}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),f=new pe(o,c);this.initArrays(o);const h=this.buckets;for(let w=1;w<5;w++){const C=Math.floor(c*w/5),I=s.getRow(C,this.luminances),D=Math.floor(o*4/5);for(let L=Math.floor(o/5);L<D;L++){const Y=I[L]&255;h[Y>>_e.LUMINANCE_SHIFT]++}}const g=_e.estimateBlackPoint(h),m=s.getMatrix();for(let w=0;w<c;w++){const C=w*o;for(let I=0;I<o;I++)(m[C+I]&255)<g&&f.set(I,w)}return f}createBinarizer(s){return new _e(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<_e.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,f=0,h=0;for(let I=0;I<o;I++)s[I]>h&&(f=I,h=s[I]),s[I]>c&&(c=s[I]);let g=0,m=0;for(let I=0;I<o;I++){const D=I-f,L=s[I]*D*D;L>m&&(g=I,m=L)}if(f>g){const I=f;f=g,g=I}if(g-f<=o/16)throw new ee;let w=g-1,C=-1;for(let I=g-1;I>f;I--){const D=I-f,L=D*D*(g-I)*(c-s[I]);L>C&&(w=I,C=L)}return w<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class xe extends _e{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=xe.MINIMUM_DIMENSION&&c>=xe.MINIMUM_DIMENSION){const f=s.getMatrix();let h=o>>xe.BLOCK_SIZE_POWER;o&xe.BLOCK_SIZE_MASK&&h++;let g=c>>xe.BLOCK_SIZE_POWER;c&xe.BLOCK_SIZE_MASK&&g++;const m=xe.calculateBlackPoints(f,h,g,o,c),w=new pe(o,c);xe.calculateThresholdForBlock(f,h,g,o,c,m,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new xe(s)}static calculateThresholdForBlock(s,o,c,f,h,g,m){const w=h-xe.BLOCK_SIZE,C=f-xe.BLOCK_SIZE;for(let I=0;I<c;I++){let D=I<<xe.BLOCK_SIZE_POWER;D>w&&(D=w);const L=xe.cap(I,2,c-3);for(let Y=0;Y<o;Y++){let ne=Y<<xe.BLOCK_SIZE_POWER;ne>C&&(ne=C);const se=xe.cap(Y,2,o-3);let ue=0;for(let Le=-2;Le<=2;Le++){const je=g[L+Le];ue+=je[se-2]+je[se-1]+je[se]+je[se+1]+je[se+2]}const ye=ue/25;xe.thresholdBlock(s,ne,D,ye,f,m)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,f,h,g){for(let m=0,w=c*h+o;m<xe.BLOCK_SIZE;m++,w+=h)for(let C=0;C<xe.BLOCK_SIZE;C++)(s[w+C]&255)<=f&&g.set(o+C,c+m)}static calculateBlackPoints(s,o,c,f,h){const g=h-xe.BLOCK_SIZE,m=f-xe.BLOCK_SIZE,w=new Array(c);for(let C=0;C<c;C++){w[C]=new Int32Array(o);let I=C<<xe.BLOCK_SIZE_POWER;I>g&&(I=g);for(let D=0;D<o;D++){let L=D<<xe.BLOCK_SIZE_POWER;L>m&&(L=m);let Y=0,ne=255,se=0;for(let ye=0,Le=I*f+L;ye<xe.BLOCK_SIZE;ye++,Le+=f){for(let je=0;je<xe.BLOCK_SIZE;je++){const Ie=s[Le+je]&255;Y+=Ie,Ie<ne&&(ne=Ie),Ie>se&&(se=Ie)}if(se-ne>xe.MIN_DYNAMIC_RANGE)for(ye++,Le+=f;ye<xe.BLOCK_SIZE;ye++,Le+=f)for(let je=0;je<xe.BLOCK_SIZE;je++)Y+=s[Le+je]&255}let ue=Y>>xe.BLOCK_SIZE_POWER*2;if(se-ne<=xe.MIN_DYNAMIC_RANGE&&(ue=ne/2,C>0&&D>0)){const ye=(w[C-1][D]+2*w[C][D-1]+w[C-1][D-1])/4;ne<ye&&(ue=ye)}w[C][D]=ue}}return w}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class ve{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,f){throw new te("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new te("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new te("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new de;for(let c=0;c<this.height;c++){const f=this.getRow(c,s);for(let h=0;h<this.width;h++){const g=f[h]&255;let m;g<64?m="#":g<128?m="+":g<192?m=".":m=" ",o.append(m)}o.append(`
`)}return o.toString()}}class Q extends ve{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),f=this.getWidth();for(let h=0;h<f;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let f=0;f<o;f++)c[f]=255-(s[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,f){return new Q(this.delegate.crop(s,o,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Q(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Q(this.delegate.rotateCounterClockwise45())}}class Ce extends ve{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ce.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ce.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const f=new Uint8ClampedArray(o*c);for(let h=0,g=0,m=s.length;h<m;h+=4,g++){let w;if(s[h+3]===0)w=255;else{const I=s[h],D=s[h+1],L=s[h+2];w=306*I+601*D+117*L+512>>10}f[g]=w}return f}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth(),f=s*c;return o===null?o=this.buffer.slice(f,f+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(f,f+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,f){return super.crop(s,o,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),f=s*Ce.DEGREE_TO_RADIANS,h=this.canvas.width,g=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(f))*h+Math.abs(Math.sin(f))*g),w=Math.ceil(Math.abs(Math.sin(f))*h+Math.abs(Math.cos(f))*g);return o.width=m,o.height=w,c.translate(m/2,w/2),c.rotate(f),c.drawImage(this.canvas,h/-2,g/-2),this.buffer=Ce.makeBufferFromCanvasImageData(o),this}invert(){return new Q(this)}}Ce.DEGREE_TO_RADIANS=Math.PI/180;class Be{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var H=(globalThis||vc||self||window||void 0)&&(globalThis||vc||self||window||void 0).__awaiter||function(N,s,o,c){function f(h){return h instanceof o?h:new o(function(g){g(h)})}return new(o||(o=Promise))(function(h,g){function m(I){try{C(c.next(I))}catch(D){g(D)}}function w(I){try{C(c.throw(I))}catch(D){g(D)}}function C(I){I.done?h(I.value):f(I.value).then(m,w)}C((c=c.apply(N,s||[])).next())})};class oe{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return H(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const h=c.deviceId||c.id,g=c.label||`Video device ${o.length+1}`,m=c.groupId,w={deviceId:h,label:g,kind:f,groupId:m};o.push(w)}return o})}getVideoInputDevices(){return H(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Be(o.deviceId,o.label))})}findDeviceById(s){return H(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return H(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return H(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,o)})}decodeOnceFromConstraints(s,o){return H(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return H(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return H(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return H(this,void 0,void 0,function*(){let f;s?f={deviceId:{exact:s}}:f={facingMode:"environment"};const h={video:f};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return H(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(f,o,c)})}decodeFromStream(s,o,c){return H(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return H(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return H(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new x(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new x(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new x("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new x("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new x("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,o);return c.src=s,f}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return H(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return H(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const f=(h,g)=>{if(this._stopAsyncDecode){g(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(s);h(m)}catch(m){const w=o&&m instanceof ee,I=(m instanceof y||m instanceof R)&&c;if(w||I)return setTimeout(f,this._timeBetweenDecodingAttempts,h,g);g(m)}};return new Promise((h,g)=>f(h,g))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(s);o(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){o(null,f);const h=f instanceof y||f instanceof R,g=f instanceof ee;(h||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new Ce(o),f=new xe(c);return new E(f)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,f;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,f=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,f=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=f+"px",o.width=c,o.height=f,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class re{constructor(s,o,c=o==null?0:8*o.length,f,h,g=_.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=f,this.format=h,this.timestamp=g,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=f,this.format=h,this.resultMetadata=null,g==null?this.timestamp=_.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);_.arraycopy(o,0,c,0,o.length),_.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ie;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ie||(ie={}));var le=ie,Se;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Se||(Se={}));var De=Se;class Pe{constructor(s,o,c,f,h=-1,g=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=g,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class be{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class Ke{constructor(s,o){if(o.length===0)throw new v;this.field=s;const c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),_.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let g=0,m=o.length;g!==m;g++){const w=o[g];c=be.addOrSubtract(c,w)}return c}c=o[0];const f=o.length,h=this.field;for(let g=1;g<f;g++)c=be.addOrSubtract(h.multiply(s,c),o[g]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const g=o;o=c,c=g}let f=new Int32Array(c.length);const h=c.length-o.length;_.arraycopy(c,0,f,0,h);for(let g=h;g<c.length;g++)f[g]=be.addOrSubtract(o[g-h],c[g]);return new Ke(this.field,f)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,g=new Int32Array(c+h-1),m=this.field;for(let w=0;w<c;w++){const C=o[w];for(let I=0;I<h;I++)g[w+I]=be.addOrSubtract(g[w+I],m.multiply(C,f[I]))}return new Ke(m,g)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,f=new Int32Array(o),h=this.coefficients;for(let g=0;g<o;g++)f[g]=c.multiply(h[g],s);return new Ke(c,f)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return this.field.getZero();const c=this.coefficients,f=c.length,h=new Int32Array(f+s),g=this.field;for(let m=0;m<f;m++)h[m]=g.multiply(c[m],o);return new Ke(g,h)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const o=this.field;let c=o.getZero(),f=this;const h=s.getCoefficient(s.getDegree()),g=o.inverse(h);for(;f.getDegree()>=s.getDegree()&&!f.isZero();){const m=f.getDegree()-s.getDegree(),w=o.multiply(f.getCoefficient(f.getDegree()),g),C=s.multiplyByMonomial(m,w),I=o.buildMonomial(m,w);c=c.addOrSubtract(I),f=f.addOrSubtract(C)}return[c,f]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const f=this.field.log(c);f===0?s+="1":f===1?s+="a":(s+="a^",s+=f)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class J extends p{}J.kind="ArithmeticException";class $e extends be{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const f=new Int32Array(o);let h=1;for(let m=0;m<o;m++)f[m]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=f;const g=new Int32Array(o);for(let m=0;m<o-1;m++)g[f[m]]=m;this.logTable=g,this.zero=new Ke(this,Int32Array.from([0])),this.one=new Ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new Ke(this,c)}inverse(s){if(s===0)throw new J;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class lt extends p{}lt.kind="ReedSolomonException";class dt extends p{}dt.kind="IllegalStateException";class it{constructor(s){this.field=s}decode(s,o){const c=this.field,f=new Ke(c,s),h=new Int32Array(o);let g=!0;for(let Y=0;Y<o;Y++){const ne=f.evaluateAt(c.exp(Y+c.getGeneratorBase()));h[h.length-1-Y]=ne,ne!==0&&(g=!1)}if(g)return;const m=new Ke(c,h),w=this.runEuclideanAlgorithm(c.buildMonomial(o,1),m,o),C=w[0],I=w[1],D=this.findErrorLocations(C),L=this.findErrorMagnitudes(I,D);for(let Y=0;Y<D.length;Y++){const ne=s.length-1-c.log(D[Y]);if(ne<0)throw new lt("Bad error location");s[ne]=$e.addOrSubtract(s[ne],L[Y])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const Y=s;s=o,o=Y}const f=this.field;let h=s,g=o,m=f.getZero(),w=f.getOne();for(;g.getDegree()>=(c/2|0);){let Y=h,ne=m;if(h=g,m=w,h.isZero())throw new lt("r_{i-1} was zero");g=Y;let se=f.getZero();const ue=h.getCoefficient(h.getDegree()),ye=f.inverse(ue);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){const Le=g.getDegree()-h.getDegree(),je=f.multiply(g.getCoefficient(g.getDegree()),ye);se=se.addOrSubtract(f.buildMonomial(Le,je)),g=g.addOrSubtract(h.multiplyByMonomial(Le,je))}if(w=se.multiply(m).addOrSubtract(ne),g.getDegree()>=h.getDegree())throw new dt("Division algorithm failed to reduce polynomial?")}const C=w.getCoefficient(0);if(C===0)throw new lt("sigmaTilde(0) was zero");const I=f.inverse(C),D=w.multiplyScalar(I),L=g.multiplyScalar(I);return[D,L]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let f=0;const h=this.field;for(let g=1;g<h.getSize()&&f<o;g++)s.evaluateAt(g)===0&&(c[f]=h.inverse(g),f++);if(f!==o)throw new lt("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,f=new Int32Array(c),h=this.field;for(let g=0;g<c;g++){const m=h.inverse(o[g]);let w=1;for(let C=0;C<c;C++)if(g!==C){const I=h.multiply(o[C],m),D=I&1?I&-2:I|1;w=h.multiply(w,D)}f[g]=h.multiply(s.evaluateAt(m),h.inverse(w)),h.getGeneratorBase()!==0&&(f[g]=h.multiply(f[g],m))}return f}}var Re;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Re||(Re={}));class Ze{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),f=this.correctBits(c),h=Ze.convertBoolArrayToByteArray(f),g=Ze.getEncodedData(f),m=new Pe(h,g,null,null);return m.setNumBits(f.length),m}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Re.UPPER,f=Re.UPPER,h="",g=0;for(;g<o;)if(f===Re.BINARY){if(o-g<5)break;let m=Ze.readCode(s,g,5);if(g+=5,m===0){if(o-g<11)break;m=Ze.readCode(s,g,11)+31,g+=11}for(let w=0;w<m;w++){if(o-g<8){g=o;break}const C=Ze.readCode(s,g,8);h+=q.castAsNonUtf8Char(C),g+=8}f=c}else{let m=f===Re.DIGIT?4:5;if(o-g<m)break;let w=Ze.readCode(s,g,m);g+=m;let C=Ze.getCharacter(f,w);C.startsWith("CTRL_")?(c=f,f=Ze.getTable(C.charAt(5)),C.charAt(6)==="L"&&(c=f)):(h+=C,f=c)}return h}static getTable(s){switch(s){case"L":return Re.LOWER;case"P":return Re.PUNCT;case"M":return Re.MIXED;case"D":return Re.DIGIT;case"B":return Re.BINARY;case"U":default:return Re.UPPER}}static getCharacter(s,o){switch(s){case Re.UPPER:return Ze.UPPER_TABLE[o];case Re.LOWER:return Ze.LOWER_TABLE[o];case Re.MIXED:return Ze.MIXED_TABLE[o];case Re.PUNCT:return Ze.PUNCT_TABLE[o];case Re.DIGIT:return Ze.DIGIT_TABLE[o];default:throw new dt("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=$e.AZTEC_DATA_10):(c=12,o=$e.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),h=s.length/c;if(h<f)throw new R;let g=s.length%c,m=new Int32Array(h);for(let L=0;L<h;L++,g+=c)m[L]=Ze.readCode(s,g,c);try{new it(o).decode(m,h-f)}catch(L){throw new R(L)}let w=(1<<c)-1,C=0;for(let L=0;L<f;L++){let Y=m[L];if(Y===0||Y===w)throw new R;(Y===1||Y===w-1)&&C++}let I=new Array(f*c-C),D=0;for(let L=0;L<f;L++){let Y=m[L];if(Y===1||Y===w-1)I.fill(Y>1,D,D+c-1),D+=c-1;else for(let ne=c-1;ne>=0;--ne)I[D++]=(Y&1<<ne)!==0}return I}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(o?11:14)+c*4,h=new Int32Array(f),g=new Array(this.totalBitsInLayer(c,o));if(o)for(let m=0;m<h.length;m++)h[m]=m;else{let m=f+1+2*T.truncDivision(T.truncDivision(f,2)-1,15),w=f/2,C=T.truncDivision(m,2);for(let I=0;I<w;I++){let D=I+T.truncDivision(I,15);h[w-I-1]=C-D-1,h[w+I]=C+D+1}}for(let m=0,w=0;m<c;m++){let C=(c-m)*4+(o?9:12),I=m*2,D=f-1-I;for(let L=0;L<C;L++){let Y=L*2;for(let ne=0;ne<2;ne++)g[w+Y+ne]=s.get(h[I+ne],h[I+L]),g[w+2*C+Y+ne]=s.get(h[I+L],h[D-ne]),g[w+4*C+Y+ne]=s.get(h[D-ne],h[D-L]),g[w+6*C+Y+ne]=s.get(h[D-L],h[I+ne])}w+=C*8}return g}static readCode(s,o,c){let f=0;for(let h=o;h<o+c;h++)f<<=1,s[h]&&(f|=1);return f}static readByte(s,o){let c=s.length-o;return c>=8?Ze.readCode(s,o,8):Ze.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=Ze.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,f){const h=s-c,g=o-f;return Math.sqrt(h*h+g*g)}static sum(s){let o=0;for(let c=0,f=s.length;c!==f;c++){const h=s[c];o+=h}return o}}class Ur{static floatToIntBits(s){return s}}Ur.MAX_VALUE=Number.MAX_SAFE_INTEGER;class He{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof He){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ur.floatToIntBits(this.x)+Ur.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),f=this.distance(s[0],s[2]);let h,g,m;if(c>=o&&c>=f?(g=s[0],h=s[1],m=s[2]):f>=c&&f>=o?(g=s[1],h=s[0],m=s[2]):(g=s[2],h=s[0],m=s[1]),this.crossProductZ(h,g,m)<0){const w=h;h=m,m=w}s[0]=h,s[1]=g,s[2]=m}static distance(s,o){return Qe.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const f=o.x,h=o.y;return(c.x-f)*(s.y-h)-(c.y-h)*(s.x-f)}}class Yn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Rr extends Yn{constructor(s,o,c,f,h){super(s,o),this.compact=c,this.nbDatablocks=f,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Kt{constructor(s,o,c,f){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Kt.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),f==null&&(f=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=f-h,this.downInit=f+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,f=this.downInit,h=!1,g=!0,m=!1,w=!1,C=!1,I=!1,D=!1;const L=this.width,Y=this.height;for(;g;){g=!1;let ne=!0;for(;(ne||!w)&&o<L;)ne=this.containsBlackPoint(c,f,o,!1),ne?(o++,g=!0,w=!0):w||o++;if(o>=L){h=!0;break}let se=!0;for(;(se||!C)&&f<Y;)se=this.containsBlackPoint(s,o,f,!0),se?(f++,g=!0,C=!0):C||f++;if(f>=Y){h=!0;break}let ue=!0;for(;(ue||!I)&&s>=0;)ue=this.containsBlackPoint(c,f,s,!1),ue?(s--,g=!0,I=!0):I||s--;if(s<0){h=!0;break}let ye=!0;for(;(ye||!D)&&c>=0;)ye=this.containsBlackPoint(s,o,c,!0),ye?(c--,g=!0,D=!0):D||c--;if(c<0){h=!0;break}g&&(m=!0)}if(!h&&m){const ne=o-s;let se=null;for(let je=1;se===null&&je<ne;je++)se=this.getBlackPointOnSegment(s,f-je,s+je,f);if(se==null)throw new ee;let ue=null;for(let je=1;ue===null&&je<ne;je++)ue=this.getBlackPointOnSegment(s,c+je,s+je,c);if(ue==null)throw new ee;let ye=null;for(let je=1;ye===null&&je<ne;je++)ye=this.getBlackPointOnSegment(o,c+je,o-je,c);if(ye==null)throw new ee;let Le=null;for(let je=1;Le===null&&je<ne;je++)Le=this.getBlackPointOnSegment(o,f-je,o-je,f);if(Le==null)throw new ee;return this.centerEdges(Le,se,ye,ue)}else throw new ee}getBlackPointOnSegment(s,o,c,f){const h=Qe.round(Qe.distance(s,o,c,f)),g=(c-s)/h,m=(f-o)/h,w=this.image;for(let C=0;C<h;C++){const I=Qe.round(s+C*g),D=Qe.round(o+C*m);if(w.get(I,D))return new He(I,D)}return null}centerEdges(s,o,c,f){const h=s.getX(),g=s.getY(),m=o.getX(),w=o.getY(),C=c.getX(),I=c.getY(),D=f.getX(),L=f.getY(),Y=Kt.CORR;return h<this.width/2?[new He(D-Y,L+Y),new He(m+Y,w+Y),new He(C-Y,I-Y),new He(h+Y,g-Y)]:[new He(D+Y,L+Y),new He(m+Y,w-Y),new He(C-Y,I+Y),new He(h-Y,g-Y)]}containsBlackPoint(s,o,c,f){const h=this.image;if(f){for(let g=s;g<=o;g++)if(h.get(g,c))return!0}else for(let g=s;g<=o;g++)if(h.get(c,g))return!0;return!1}}Kt.INIT_SIZE=10,Kt.CORR=1;class _n{static checkAndNudgePoints(s,o){const c=s.getWidth(),f=s.getHeight();let h=!0;for(let g=0;g<o.length&&h;g+=2){const m=Math.floor(o[g]),w=Math.floor(o[g+1]);if(m<-1||m>c||w<-1||w>f)throw new ee;h=!1,m===-1?(o[g]=0,h=!0):m===c&&(o[g]=c-1,h=!0),w===-1?(o[g+1]=0,h=!0):w===f&&(o[g+1]=f-1,h=!0)}h=!0;for(let g=o.length-2;g>=0&&h;g-=2){const m=Math.floor(o[g]),w=Math.floor(o[g+1]);if(m<-1||m>c||w<-1||w>f)throw new ee;h=!1,m===-1?(o[g]=0,h=!0):m===c&&(o[g]=c-1,h=!0),w===-1?(o[g+1]=0,h=!0):w===f&&(o[g+1]=f-1,h=!0)}}}class Ot{constructor(s,o,c,f,h,g,m,w,C){this.a11=s,this.a21=o,this.a31=c,this.a12=f,this.a22=h,this.a32=g,this.a13=m,this.a23=w,this.a33=C}static quadrilateralToQuadrilateral(s,o,c,f,h,g,m,w,C,I,D,L,Y,ne,se,ue){const ye=Ot.quadrilateralToSquare(s,o,c,f,h,g,m,w);return Ot.squareToQuadrilateral(C,I,D,L,Y,ne,se,ue).times(ye)}transformPoints(s){const o=s.length,c=this.a11,f=this.a12,h=this.a13,g=this.a21,m=this.a22,w=this.a23,C=this.a31,I=this.a32,D=this.a33;for(let L=0;L<o;L+=2){const Y=s[L],ne=s[L+1],se=h*Y+w*ne+D;s[L]=(c*Y+g*ne+C)/se,s[L+1]=(f*Y+m*ne+I)/se}}transformPointsWithValues(s,o){const c=this.a11,f=this.a12,h=this.a13,g=this.a21,m=this.a22,w=this.a23,C=this.a31,I=this.a32,D=this.a33,L=s.length;for(let Y=0;Y<L;Y++){const ne=s[Y],se=o[Y],ue=h*ne+w*se+D;s[Y]=(c*ne+g*se+C)/ue,o[Y]=(f*ne+m*se+I)/ue}}static squareToQuadrilateral(s,o,c,f,h,g,m,w){const C=s-c+h-m,I=o-f+g-w;if(C===0&&I===0)return new Ot(c-s,h-c,s,f-o,g-f,o,0,0,1);{const D=c-h,L=m-h,Y=f-g,ne=w-g,se=D*ne-L*Y,ue=(C*ne-L*I)/se,ye=(D*I-C*Y)/se;return new Ot(c-s+ue*c,m-s+ye*m,s,f-o+ue*f,w-o+ye*w,o,ue,ye,1)}}static quadrilateralToSquare(s,o,c,f,h,g,m,w){return Ot.squareToQuadrilateral(s,o,c,f,h,g,m,w).buildAdjoint()}buildAdjoint(){return new Ot(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Ot(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class An extends _n{sampleGrid(s,o,c,f,h,g,m,w,C,I,D,L,Y,ne,se,ue,ye,Le,je){const Ie=Ot.quadrilateralToQuadrilateral(f,h,g,m,w,C,I,D,L,Y,ne,se,ue,ye,Le,je);return this.sampleGridWithTransform(s,o,c,Ie)}sampleGridWithTransform(s,o,c,f){if(o<=0||c<=0)throw new ee;const h=new pe(o,c),g=new Float32Array(2*o);for(let m=0;m<c;m++){const w=g.length,C=m+.5;for(let I=0;I<w;I+=2)g[I]=I/2+.5,g[I+1]=C;f.transformPoints(g),_n.checkAndNudgePoints(s,g);try{for(let I=0;I<w;I+=2)s.get(Math.floor(g[I]),Math.floor(g[I+1]))&&h.set(I/2,m)}catch{throw new ee}}return h}}class Wt{static setGridSampler(s){Wt.gridSampler=s}static getInstance(){return Wt.gridSampler}}Wt.gridSampler=new An;class Lt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new He(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ot{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new Rr(f,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new ee;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let f=0;for(let g=0;g<4;g++){let m=c[(this.shift+g)%4];this.compact?(f<<=7,f+=m>>1&127):(f<<=10,f+=(m>>2&992)+(m>>1&31))}let h=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((f,h,g)=>{let m=(f>>o-2<<1)+(f&1);c=(c<<3)+m}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(T.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new ee}getCorrectedParameterData(s,o){let c,f;o?(c=7,f=2):(c=10,f=4);let h=c-f,g=new Int32Array(c);for(let w=c-1;w>=0;--w)g[w]=s&15,s>>=4;try{new it($e.AZTEC_PARAM).decode(g,h)}catch{throw new ee}let m=0;for(let w=0;w<f;w++)m=(m<<4)+g[w];return m}getBullsEyeCorners(s){let o=s,c=s,f=s,h=s,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(o,g,1,-1),L=this.getFirstDifferent(c,g,1,1),Y=this.getFirstDifferent(f,g,-1,1),ne=this.getFirstDifferent(h,g,-1,-1);if(this.nbCenterLayers>2){let se=this.distancePoint(ne,D)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(D,L,Y,ne))break}o=D,c=L,f=Y,h=ne,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let m=new He(o.getX()+.5,o.getY()-.5),w=new He(c.getX()+.5,c.getY()+.5),C=new He(f.getX()-.5,f.getY()+.5),I=new He(h.getX()-.5,h.getY()-.5);return this.expandSquare([m,w,C,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,f;try{let m=new Kt(this.image).detect();s=m[0],o=m[1],c=m[2],f=m[3]}catch{let w=this.image.getWidth()/2,C=this.image.getHeight()/2;s=this.getFirstDifferent(new Lt(w+7,C-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Lt(w+7,C+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Lt(w-7,C+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Lt(w-7,C-7),!1,-1,-1).toResultPoint()}let h=Qe.round((s.getX()+f.getX()+o.getX()+c.getX())/4),g=Qe.round((s.getY()+f.getY()+o.getY()+c.getY())/4);try{let m=new Kt(this.image,15,h,g).detect();s=m[0],o=m[1],c=m[2],f=m[3]}catch{s=this.getFirstDifferent(new Lt(h+7,g-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Lt(h+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Lt(h-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new Lt(h-7,g-7),!1,-1,-1).toResultPoint()}return h=Qe.round((s.getX()+f.getX()+o.getX()+c.getX())/4),g=Qe.round((s.getY()+f.getY()+o.getY()+c.getY())/4),new Lt(h,g)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,f,h){let g=Wt.getInstance(),m=this.getDimension(),w=m/2-this.nbCenterLayers,C=m/2+this.nbCenterLayers;return g.sampleGrid(s,m,m,w,w,C,w,C,C,w,C,o.getX(),o.getY(),c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let f=0,h=this.distanceResultPoint(s,o),g=h/c,m=s.getX(),w=s.getY(),C=g*(o.getX()-s.getX())/h,I=g*(o.getY()-s.getY())/h;for(let D=0;D<c;D++)this.image.get(Qe.round(m+D*C),Qe.round(w+D*I))&&(f|=1<<c-D-1);return f}isWhiteOrBlackRectangle(s,o,c,f){let h=3;s=new Lt(s.getX()-h,s.getY()+h),o=new Lt(o.getX()-h,o.getY()-h),c=new Lt(c.getX()+h,c.getY()-h),f=new Lt(f.getX()+h,f.getY()+h);let g=this.getColor(f,s);if(g===0)return!1;let m=this.getColor(s,o);return m!==g||(m=this.getColor(o,c),m!==g)?!1:(m=this.getColor(c,f),m===g)}getColor(s,o){let c=this.distancePoint(s,o),f=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,g=0,m=s.getX(),w=s.getY(),C=this.image.get(s.getX(),s.getY()),I=Math.ceil(c);for(let L=0;L<I;L++)m+=f,w+=h,this.image.get(Qe.round(m),Qe.round(w))!==C&&g++;let D=g/c;return D>.1&&D<.9?0:D<=.1===C?1:-1}getFirstDifferent(s,o,c,f){let h=s.getX()+c,g=s.getY()+f;for(;this.isValid(h,g)&&this.image.get(h,g)===o;)h+=c,g+=f;for(h-=c,g-=f;this.isValid(h,g)&&this.image.get(h,g)===o;)h+=c;for(h-=c;this.isValid(h,g)&&this.image.get(h,g)===o;)g+=f;return g-=f,new Lt(h,g)}expandSquare(s,o,c){let f=c/(2*o),h=s[0].getX()-s[2].getX(),g=s[0].getY()-s[2].getY(),m=(s[0].getX()+s[2].getX())/2,w=(s[0].getY()+s[2].getY())/2,C=new He(m+f*h,w+f*g),I=new He(m-f*h,w-f*g);h=s[1].getX()-s[3].getX(),g=s[1].getY()-s[3].getY(),m=(s[1].getX()+s[3].getX())/2,w=(s[1].getY()+s[3].getY())/2;let D=new He(m+f*h,w+f*g),L=new He(m-f*h,w-f*g);return[C,D,I,L]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Qe.round(s.getX()),c=Qe.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return Qe.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Qe.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Bt{decode(s,o=null){let c=null,f=new ot(s.getBlackMatrix()),h=null,g=null;try{let I=f.detectMirror(!1);h=I.getPoints(),this.reportFoundResultPoints(o,h),g=new Ze().decode(I)}catch(I){c=I}if(g==null)try{let I=f.detectMirror(!0);h=I.getPoints(),this.reportFoundResultPoints(o,h),g=new Ze().decode(I)}catch(I){throw c??I}let m=new re(g.getText(),g.getRawBytes(),g.getNumBits(),h,le.AZTEC,_.currentTimeMillis()),w=g.getByteSegments();w!=null&&m.putMetadata(De.BYTE_SEGMENTS,w);let C=g.getECLevel();return C!=null&&m.putMetadata(De.ERROR_CORRECTION_LEVEL,C),m}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(F.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((f,h,g)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class Xr extends oe{constructor(s=500){super(new Bt,s)}}class ct{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(F.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),g=this.doDecode(h,o),m=g.getResultMetadata();let w=270;m!==null&&m.get(De.ORIENTATION)===!0&&(w=w+m.get(De.ORIENTATION)%360),g.putMetadata(De.ORIENTATION,w);const C=g.getResultPoints();if(C!==null){const I=h.getHeight();for(let D=0;D<C.length;D++)C[D]=new He(I-C[D].getY()-1,C[D].getX())}return g}else throw new ee}}reset(){}doDecode(s,o){const c=s.getWidth(),f=s.getHeight();let h=new O(c);const g=o&&o.get(F.TRY_HARDER)===!0,m=Math.max(1,f>>(g?8:5));let w;g?w=f:w=15;const C=Math.trunc(f/2);for(let I=0;I<w;I++){const D=Math.trunc((I+1)/2),L=(I&1)===0,Y=C+m*(L?D:-D);if(Y<0||Y>=f)break;try{h=s.getBlackRow(Y,h)}catch{continue}for(let ne=0;ne<2;ne++){if(ne===1&&(h.reverse(),o&&o.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const se=new Map;o.forEach((ue,ye)=>se.set(ye,ue)),se.delete(F.NEED_RESULT_POINT_CALLBACK),o=se}try{const se=this.decodeRow(Y,h,o);if(ne===1){se.putMetadata(De.ORIENTATION,180);const ue=se.getResultPoints();ue!==null&&(ue[0]=new He(c-ue[0].getX()-1,ue[0].getY()),ue[1]=new He(c-ue[1].getX()-1,ue[1].getY()))}return se}catch{}}}throw new ee}static recordPattern(s,o,c){const f=c.length;for(let C=0;C<f;C++)c[C]=0;const h=s.getSize();if(o>=h)throw new ee;let g=!s.get(o),m=0,w=o;for(;w<h;){if(s.get(w)!==g)c[m]++;else{if(++m===f)break;c[m]=1,g=!g}w++}if(!(m===f||m===f-1&&w===h))throw new ee}static recordPatternInReverse(s,o,c){let f=c.length,h=s.get(o);for(;o>0&&f>=0;)s.get(--o)!==h&&(f--,h=!h);if(f>=0)throw new ee;ct.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const f=s.length;let h=0,g=0;for(let C=0;C<f;C++)h+=s[C],g+=o[C];if(h<g)return Number.POSITIVE_INFINITY;const m=h/g;c*=m;let w=0;for(let C=0;C<f;C++){const I=s[C],D=o[C]*m,L=I>D?I-D:D-I;if(L>c)return Number.POSITIVE_INFINITY;w+=L}return w/h}}class Oe extends ct{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let f=0,h=Int32Array.from([0,0,0,0,0,0]),g=c,m=!1;const w=6;for(let C=c;C<o;C++)if(s.get(C)!==m)h[f]++;else{if(f===w-1){let I=Oe.MAX_AVG_VARIANCE,D=-1;for(let L=Oe.CODE_START_A;L<=Oe.CODE_START_C;L++){const Y=ct.patternMatchVariance(h,Oe.CODE_PATTERNS[L],Oe.MAX_INDIVIDUAL_VARIANCE);Y<I&&(I=Y,D=L)}if(D>=0&&s.isRange(Math.max(0,g-(C-g)/2),g,!1))return Int32Array.from([g,C,D]);g+=h[0]+h[1],h=h.slice(2,h.length-1),h[f-1]=0,h[f]=0,f--}else f++;h[f]=1,m=!m}throw new ee}static decodeCode(s,o,c){ct.recordPattern(s,c,o);let f=Oe.MAX_AVG_VARIANCE,h=-1;for(let g=0;g<Oe.CODE_PATTERNS.length;g++){const m=Oe.CODE_PATTERNS[g],w=this.patternMatchVariance(o,m,Oe.MAX_INDIVIDUAL_VARIANCE);w<f&&(f=w,h=g)}if(h>=0)return h;throw new ee}decodeRow(s,o,c){const f=c&&c.get(F.ASSUME_GS1)===!0,h=Oe.findStartPattern(o),g=h[2];let m=0;const w=new Uint8Array(20);w[m++]=g;let C;switch(g){case Oe.CODE_START_A:C=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:C=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:C=Oe.CODE_CODE_C;break;default:throw new R}let I=!1,D=!1,L="",Y=h[0],ne=h[1];const se=Int32Array.from([0,0,0,0,0,0]);let ue=0,ye=0,Le=g,je=0,Ie=!0,Tt=!1,pt=!1;for(;!I;){const Ho=D;switch(D=!1,ue=ye,ye=Oe.decodeCode(o,se,ne),w[m++]=ye,ye!==Oe.CODE_STOP&&(Ie=!0),ye!==Oe.CODE_STOP&&(je++,Le+=je*ye),Y=ne,ne+=se.reduce((r4,n4)=>r4+n4,0),ye){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new R}switch(C){case Oe.CODE_CODE_A:if(ye<64)pt===Tt?L+=String.fromCharCode(32+ye):L+=String.fromCharCode(32+ye+128),pt=!1;else if(ye<96)pt===Tt?L+=String.fromCharCode(ye-64):L+=String.fromCharCode(ye+64),pt=!1;else switch(ye!==Oe.CODE_STOP&&(Ie=!1),ye){case Oe.CODE_FNC_1:f&&(L.length===0?L+="]C1":L+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!Tt&&pt?(Tt=!0,pt=!1):Tt&&pt?(Tt=!1,pt=!1):pt=!0;break;case Oe.CODE_SHIFT:D=!0,C=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:C=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:C=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:I=!0;break}break;case Oe.CODE_CODE_B:if(ye<96)pt===Tt?L+=String.fromCharCode(32+ye):L+=String.fromCharCode(32+ye+128),pt=!1;else switch(ye!==Oe.CODE_STOP&&(Ie=!1),ye){case Oe.CODE_FNC_1:f&&(L.length===0?L+="]C1":L+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!Tt&&pt?(Tt=!0,pt=!1):Tt&&pt?(Tt=!1,pt=!1):pt=!0;break;case Oe.CODE_SHIFT:D=!0,C=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:C=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:C=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:I=!0;break}break;case Oe.CODE_CODE_C:if(ye<100)ye<10&&(L+="0"),L+=ye;else switch(ye!==Oe.CODE_STOP&&(Ie=!1),ye){case Oe.CODE_FNC_1:f&&(L.length===0?L+="]C1":L+="");break;case Oe.CODE_CODE_A:C=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:C=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:I=!0;break}break}Ho&&(C=C===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const Bn=ne-Y;if(ne=o.getNextUnset(ne),!o.isRange(ne,Math.min(o.getSize(),ne+(ne-Y)/2),!1))throw new ee;if(Le-=je*ue,Le%103!==ue)throw new y;const Oi=L.length;if(Oi===0)throw new ee;Oi>0&&Ie&&(C===Oe.CODE_CODE_C?L=L.substring(0,Oi-2):L=L.substring(0,Oi-1));const Un=(h[1]+h[0])/2,Vt=Y+Bn/2,qr=w.length,Qn=new Uint8Array(qr);for(let Ho=0;Ho<qr;Ho++)Qn[Ho]=w[Ho];const Wo=[new He(Un,s),new He(Vt,s)];return new re(L,Qn,0,Wo,le.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Yt extends ct{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let h=Yt.findAsteriskPattern(o,f),g=o.getNextSet(h[1]),m=o.getSize(),w,C;do{Yt.recordPattern(o,g,f);let se=Yt.toNarrowWidePattern(f);if(se<0)throw new ee;w=Yt.patternToChar(se),this.decodeRowResult+=w,C=g;for(let ue of f)g+=ue;g=o.getNextSet(g)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let se of f)I+=se;let D=g-C-I;if(g!==m&&D*2<I)throw new ee;if(this.usingCheckDigit){let se=this.decodeRowResult.length-1,ue=0;for(let ye=0;ye<se;ye++)ue+=Yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ye));if(this.decodeRowResult.charAt(se)!==Yt.ALPHABET_STRING.charAt(ue%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,se)}if(this.decodeRowResult.length===0)throw new ee;let L;this.extendedMode?L=Yt.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let Y=(h[1]+h[0])/2,ne=C+I/2;return new re(L,null,0,[new He(Y,s),new He(ne,s)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),f=s.getNextSet(0),h=0,g=f,m=!1,w=o.length;for(let C=f;C<c;C++)if(s.get(C)!==m)o[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(o)===Yt.ASTERISK_ENCODING&&s.isRange(Math.max(0,g-Math.floor((C-g)/2)),g,!1))return[g,C];g+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,m=!m}throw new ee}static toNarrowWidePattern(s){let o=s.length,c=0,f;do{let h=2147483647;for(let w of s)w<h&&w>c&&(h=w);c=h,f=0;let g=0,m=0;for(let w=0;w<o;w++){let C=s[w];C>c&&(m|=1<<o-1-w,f++,g+=C)}if(f===3){for(let w=0;w<o&&f>0;w++){let C=s[w];if(C>c&&(f--,C*2>=g))return-1}return m}}while(f>3);return-1}static patternToChar(s){for(let o=0;o<Yt.CHARACTER_ENCODINGS.length;o++)if(Yt.CHARACTER_ENCODINGS[o]===s)return Yt.ALPHABET_STRING.charAt(o);if(s===Yt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(s){let o=s.length,c="";for(let f=0;f<o;f++){let h=s.charAt(f);if(h==="+"||h==="$"||h==="%"||h==="/"){let g=s.charAt(f+1),m="\0";switch(h){case"+":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)+32);else throw new R;break;case"$":if(g>="A"&&g<="Z")m=String.fromCharCode(g.charCodeAt(0)-64);else throw new R;break;case"%":if(g>="A"&&g<="E")m=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")m=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")m=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")m="\0";else if(g==="V")m="@";else if(g==="W")m="`";else if(g==="X"||g==="Y"||g==="Z")m="";else throw new R;break;case"/":if(g>="A"&&g<="O")m=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")m=":";else throw new R;break}c+=m,f++}else c+=h}return c}}Yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Yt.ASTERISK_ENCODING=148;class At extends ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let f=this.decodeStart(o),h=this.decodeEnd(o),g=new de;At.decodeMiddle(o,f[1],h[0],g);let m=g.toString(),w=null;c!=null&&(w=c.get(F.ALLOWED_LENGTHS)),w==null&&(w=At.DEFAULT_ALLOWED_LENGTHS);let C=m.length,I=!1,D=0;for(let ne of w){if(C===ne){I=!0;break}ne>D&&(D=ne)}if(!I&&C>D&&(I=!0),!I)throw new R;const L=[new He(f[1],s),new He(h[0],s)];return new re(m,null,0,L,le.ITF,new Date().getTime())}static decodeMiddle(s,o,c,f){let h=new Int32Array(10),g=new Int32Array(5),m=new Int32Array(5);for(h.fill(0),g.fill(0),m.fill(0);o<c;){ct.recordPattern(s,o,h);for(let C=0;C<5;C++){let I=2*C;g[C]=h[I],m[C]=h[I+1]}let w=At.decodeDigit(g);f.append(w.toString()),w=this.decodeDigit(m),f.append(w.toString()),h.forEach(function(C){o+=C})}}decodeStart(s){let o=At.skipWhiteSpace(s),c=At.findGuardPattern(s,o,At.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let f=o-1;c>0&&f>=0&&!s.get(f);f--)c--;if(c!==0)throw new ee}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new ee;return c}decodeEnd(s){s.reverse();try{let o=At.skipWhiteSpace(s),c;try{c=At.findGuardPattern(s,o,At.END_PATTERN_REVERSED[0])}catch(h){h instanceof ee&&(c=At.findGuardPattern(s,o,At.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let f=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-f,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let f=c.length,h=new Int32Array(f),g=s.getSize(),m=!1,w=0,C=o;h.fill(0);for(let I=o;I<g;I++)if(s.get(I)!==m)h[w]++;else{if(w===f-1){if(ct.patternMatchVariance(h,c,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return[C,I];C+=h[0]+h[1],_.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,m=!m}throw new ee}static decodeDigit(s){let o=At.MAX_AVG_VARIANCE,c=-1,f=At.PATTERNS.length;for(let h=0;h<f;h++){let g=At.PATTERNS[h],m=ct.patternMatchVariance(s,g,At.MAX_INDIVIDUAL_VARIANCE);m<o?(o=m,c=h):m===o&&(c=-1)}if(c>=0)return c%10;throw new ee}}At.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],At.MAX_AVG_VARIANCE=.38,At.MAX_INDIVIDUAL_VARIANCE=.5,At.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],At.START_PATTERN=Int32Array.from([1,1,1,1]),At.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ht extends ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,f=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=Ht.findGuardPattern(s,f,!1,this.START_END_PATTERN,h);let g=c[0];f=c[1];let m=g-(f-g);m>=0&&(o=s.isRange(m,g,!1))}return c}static checkChecksum(s){return Ht.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Ht.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return Ht.findGuardPattern(s,o,!1,Ht.START_END_PATTERN,new Int32Array(Ht.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,f){return this.findGuardPattern(s,o,c,f,new Int32Array(f.length))}static findGuardPattern(s,o,c,f,h){let g=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let m=0,w=o,C=f.length,I=c;for(let D=o;D<g;D++)if(s.get(D)!==I)h[m]++;else{if(m===C-1){if(ct.patternMatchVariance(h,f,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return Int32Array.from([w,D]);w+=h[0]+h[1];let L=h.slice(2,h.length-1);for(let Y=0;Y<m-1;Y++)h[Y]=L[Y];h[m-1]=0,h[m]=0,m--}else m++;h[m]=1,I=!I}throw new ee}static decodeDigit(s,o,c,f){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,g=-1,m=f.length;for(let w=0;w<m;w++){let C=f[w],I=ct.patternMatchVariance(o,C,Ht.MAX_INDIVIDUAL_VARIANCE);I<h&&(h=I,g=w)}if(g>=0)return g;throw new ee}}Ht.MAX_AVG_VARIANCE=.48,Ht.MAX_INDIVIDUAL_VARIANCE=.7,Ht.START_END_PATTERN=Int32Array.from([1,1,1]),Ht.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ht.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ht.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ts{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),g=f.toString(),m=ts.parseExtensionString(g),w=[new He((c[0]+c[1])/2,s),new He(h,s)],C=new re(g,null,0,w,le.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),g=o[1],m=0;for(let C=0;C<5&&g<h;C++){let I=Ht.decodeDigit(s,f,g,Ht.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let D of f)g+=D;I>=10&&(m|=1<<4-C),C!==4&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==5)throw new ee;let w=this.determineCheckDigit(m);if(ts.extensionChecksum(c.toString())!==w)throw new ee;return g}static extensionChecksum(s){let o=s.length,c=0;for(let f=o-2;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;c*=3;for(let f=o-1;f>=0;f-=2)c+=s.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new ee}static parseExtensionString(s){if(s.length!==5)return null;let o=ts.parseExtension5String(s);return o==null?null:new Map([[De.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),f=(c/100).toString(),h=c%100,g=h<10?"0"+h:h.toString();return o+f+"."+g}}class Ts{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let f=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,f),g=f.toString(),m=Ts.parseExtensionString(g),w=[new He((c[0]+c[1])/2,s),new He(h,s)],C=new re(g,null,0,w,le.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),g=o[1],m=0;for(let w=0;w<2&&g<h;w++){let C=Ht.decodeDigit(s,f,g,Ht.L_AND_G_PATTERNS);c+=String.fromCharCode(48+C%10);for(let I of f)g+=I;C>=10&&(m|=1<<1-w),w!==1&&(g=s.getNextSet(g),g=s.getNextUnset(g))}if(c.length!==2)throw new ee;if(parseInt(c.toString())%4!==m)throw new ee;return g}static parseExtensionString(s){return s.length!==2?null:new Map([[De.ISSUE_NUMBER,parseInt(s)]])}}class Zs{static decodeRow(s,o,c){let f=Ht.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ts().decodeRow(s,o,f)}catch{return new Ts().decodeRow(s,o,f)}}}Zs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class St extends Ht{constructor(){super(),this.decodeRowStringBuffer="",St.L_AND_G_PATTERNS=St.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=St.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[o.length-f-1];St.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let f=St.findStartGuardPattern(o),h=c==null?null:c.get(F.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Ie=new He((f[0]+f[1])/2,s);h.foundPossibleResultPoint(Ie)}let g=this.decodeMiddle(o,f,this.decodeRowStringBuffer),m=g.rowOffset,w=g.resultString;if(h!=null){const Ie=new He(m,s);h.foundPossibleResultPoint(Ie)}let C=this.decodeEnd(o,m);if(h!=null){const Ie=new He((C[0]+C[1])/2,s);h.foundPossibleResultPoint(Ie)}let I=C[1],D=I+(I-C[0]);if(D>=o.getSize()||!o.isRange(I,D,!1))throw new ee;let L=w.toString();if(L.length<8)throw new R;if(!St.checkChecksum(L))throw new y;let Y=(f[1]+f[0])/2,ne=(C[1]+C[0])/2,se=this.getBarcodeFormat(),ue=[new He(Y,s),new He(ne,s)],ye=new re(L,null,0,ue,se,new Date().getTime()),Le=0;try{let Ie=Zs.decodeRow(s,o,C[1]);ye.putMetadata(De.UPC_EAN_EXTENSION,Ie.getText()),ye.putAllMetadata(Ie.getResultMetadata()),ye.addResultPoints(Ie.getResultPoints()),Le=Ie.getText().length}catch{}let je=c==null?null:c.get(F.ALLOWED_EAN_EXTENSIONS);if(je!=null){let Ie=!1;for(let Tt in je)if(Le.toString()===Tt){Ie=!0;break}if(!Ie)throw new ee}return ye}decodeEnd(s,o){return St.findGuardPattern(s,o,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return St.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return St.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let f=o-1;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new R;c+=h}c*=3;for(let f=o-2;f>=0;f-=2){let h=s.charAt(f).charCodeAt(0)-48;if(h<0||h>9)throw new R;c+=h}return(1e3-c)%10}}class qn extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),g=o[1],m=0;for(let C=0;C<6&&g<h;C++){let I=St.decodeDigit(s,f,g,St.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let D of f)g+=D;I>=10&&(m|=1<<5-C)}c=qn.determineFirstDigit(c,m),g=St.findGuardPattern(s,g,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&g<h;C++){let I=St.decodeDigit(s,f,g,St.L_PATTERNS);c+=String.fromCharCode(48+I);for(let D of f)g+=D}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new ee}}qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class an extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),g=o[1];for(let w=0;w<4&&g<h;w++){let C=St.decodeDigit(s,f,g,St.L_PATTERNS);c+=String.fromCharCode(48+C);for(let I of f)g+=I}g=St.findGuardPattern(s,g,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&g<h;w++){let C=St.decodeDigit(s,f,g,St.L_PATTERNS);c+=String.fromCharCode(48+C);for(let I of f)g+=I}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return le.EAN_8}}class Bo extends St{constructor(){super(...arguments),this.ean13Reader=new qn}getBarcodeFormat(){return le.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new re(o.substring(1),null,null,s.getResultPoints(),le.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new ee}reset(){this.ean13Reader.reset()}}class Ye extends St{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const f=this.decodeMiddleCounters.map(C=>C);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const h=s.getSize();let g=o[1],m=0;for(let C=0;C<6&&g<h;C++){const I=Ye.decodeDigit(s,f,g,Ye.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let D of f)g+=D;I>=10&&(m|=1<<5-C)}let w=Ye.determineNumSysAndCheckDigit(c,m);return{rowOffset:g,resultString:w}}decodeEnd(s,o){return Ye.findGuardPatternWithoutCounters(s,o,!0,Ye.MIDDLE_END_PATTERN)}checkChecksum(s){return St.checkChecksum(Ye.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let h=String.fromCharCode(48+c),g=String.fromCharCode(48+f);return h+s+g}throw ee.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new de;c.append(s.charAt(0));let f=o[5];switch(f){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(f),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(f);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Ye.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ye.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class kt extends ct{constructor(s){super();let o=s==null?null:s.get(F.POSSIBLE_FORMATS),c=[];n(o)?(c.push(new qn),c.push(new Bo),c.push(new an),c.push(new Ye)):(o.indexOf(le.EAN_13)>-1&&c.push(new qn),o.indexOf(le.UPC_A)>-1&&c.push(new Bo),o.indexOf(le.EAN_8)>-1&&c.push(new an),o.indexOf(le.UPC_E)>-1&&c.push(new Ye)),this.readers=c}decodeRow(s,o,c){for(let f of this.readers)try{const h=f.decodeRow(s,o,c),g=h.getBarcodeFormat()===le.EAN_13&&h.getText().charAt(0)==="0",m=c==null?null:c.get(F.POSSIBLE_FORMATS),w=m==null||m.includes(le.UPC_A);if(g&&w){const C=h.getRawBytes(),I=new re(h.getText().substring(1),C,C?C.length:null,h.getResultPoints(),le.UPC_A);return I.putAllMetadata(h.getResultMetadata()),I}return h}catch{}throw new ee}reset(){for(let s of this.readers)s.reset()}}class ft extends ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(ct.patternMatchVariance(s,o[c],ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return c;throw new ee}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]>f&&(f=o[h],c=h);s[c]++}static decrement(s,o){let c=0,f=o[0];for(let h=1;h<s.length;h++)o[h]<f&&(f=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],f=o/c;if(f>=ft.MIN_FINDER_PATTERN_RATIO&&f<=ft.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let m of s)m>g&&(g=m),m<h&&(h=m);return g<10*h}return!1}}ft.MAX_AVG_VARIANCE=.2,ft.MAX_INDIVIDUAL_VARIANCE=.45,ft.MIN_FINDER_PATTERN_RATIO=9.5/12,ft.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ar{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Ar))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class jr{constructor(s,o,c,f,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new He(c,h)),this.resultPoints.push(new He(f,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof jr))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class wr{constructor(){}static getRSSvalue(s,o,c){let f=0;for(let w of s)f+=w;let h=0,g=0,m=s.length;for(let w=0;w<m-1;w++){let C;for(C=1,g|=1<<w;C<s[w];C++,g&=~(1<<w)){let I=wr.combins(f-C-1,m-w-2);if(c&&g===0&&f-C-(m-w-1)>=m-w-1&&(I-=wr.combins(f-C-(m-w),m-w-2)),m-w-1>1){let D=0;for(let L=f-C-(m-w-2);L>o;L--)D+=wr.combins(f-C-L-1,m-w-3);I-=D*(m-1-w)}else f-C>o&&I--;h+=I}f-=C}return h}static combins(s,o){let c,f;s-o>o?(f=o,c=s-o):(f=s-o,c=o);let h=1,g=1;for(let m=s;m>c;m--)h*=m,g<=f&&(h/=g,g++);for(;g<=f;)h/=g,g++;return h}}class Ri{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,f=new O(c),h=0,m=s[0].getRightChar().getValue();for(let w=11;w>=0;--w)m&1<<w&&f.set(h),h++;for(let w=1;w<s.length;++w){let C=s[w],I=C.getLeftChar().getValue();for(let D=11;D>=0;--D)I&1<<D&&f.set(h),h++;if(C.getRightChar()!=null){let D=C.getRightChar().getValue();for(let L=11;L>=0;--L)D&1<<L&&f.set(h),h++}}return f}}class sr{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Mn{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class on extends Mn{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===on.FNC1}}on.FNC1="$";class Ss extends Mn{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class P extends Mn{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new R;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===P.FNC1}isSecondDigitFNC1(){return this.secondDigit===P.FNC1}isAnyFNC1(){return this.firstDigit===P.FNC1||this.secondDigit===P.FNC1}}P.FNC1=10;class U{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new ee;let o=s.substring(0,2);for(let h of U.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(2,h[2],s):U.processFixedAI(2,h[1],s);if(s.length<3)throw new ee;let c=s.substring(0,3);for(let h of U.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(3,h[2],s):U.processFixedAI(3,h[1],s);for(let h of U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,h[2],s):U.processFixedAI(4,h[1],s);if(s.length<4)throw new ee;let f=s.substring(0,4);for(let h of U.FOUR_DIGIT_DATA_LENGTH)if(h[0]===f)return h[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,h[2],s):U.processFixedAI(4,h[1],s);throw new ee}static processFixedAI(s,o,c){if(c.length<s)throw new ee;let f=c.substring(0,s);if(c.length<s+o)throw new ee;let h=c.substring(s,s+o),g=c.substring(s+o),m="("+f+")"+h,w=U.parseFieldsInGeneralPurpose(g);return w==null?m:m+w}static processVariableAI(s,o,c){let f=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let g=c.substring(s,h),m=c.substring(h),w="("+f+")"+g,C=U.parseFieldsInGeneralPurpose(m);return C==null?w:w+C}}U.VARIABLE_LENGTH=[],U.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",U.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",U.VARIABLE_LENGTH,20],["22",U.VARIABLE_LENGTH,29],["30",U.VARIABLE_LENGTH,8],["37",U.VARIABLE_LENGTH,8],["90",U.VARIABLE_LENGTH,30],["91",U.VARIABLE_LENGTH,30],["92",U.VARIABLE_LENGTH,30],["93",U.VARIABLE_LENGTH,30],["94",U.VARIABLE_LENGTH,30],["95",U.VARIABLE_LENGTH,30],["96",U.VARIABLE_LENGTH,30],["97",U.VARIABLE_LENGTH,3],["98",U.VARIABLE_LENGTH,30],["99",U.VARIABLE_LENGTH,30]],U.THREE_DIGIT_DATA_LENGTH=[["240",U.VARIABLE_LENGTH,30],["241",U.VARIABLE_LENGTH,30],["242",U.VARIABLE_LENGTH,6],["250",U.VARIABLE_LENGTH,30],["251",U.VARIABLE_LENGTH,30],["253",U.VARIABLE_LENGTH,17],["254",U.VARIABLE_LENGTH,20],["400",U.VARIABLE_LENGTH,30],["401",U.VARIABLE_LENGTH,30],["402",17],["403",U.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",U.VARIABLE_LENGTH,20],["421",U.VARIABLE_LENGTH,15],["422",3],["423",U.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",U.VARIABLE_LENGTH,15],["391",U.VARIABLE_LENGTH,18],["392",U.VARIABLE_LENGTH,15],["393",U.VARIABLE_LENGTH,18],["703",U.VARIABLE_LENGTH,30]],U.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",U.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",U.VARIABLE_LENGTH,20],["8003",U.VARIABLE_LENGTH,30],["8004",U.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",U.VARIABLE_LENGTH,30],["8008",U.VARIABLE_LENGTH,12],["8018",18],["8020",U.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",U.VARIABLE_LENGTH,70],["8200",U.VARIABLE_LENGTH,70]];class W{constructor(s){this.buffer=new de,this.information=s}decodeAllCodes(s,o){let c=o,f=null;do{let h=this.decodeGeneralPurposeField(c,f),g=U.parseFieldsInGeneralPurpose(h.getNewString());if(g!=null&&s.append(g),h.isRemaining()?f=""+h.getRemainingValue():f=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new P(this.information.getSize(),P.FNC1,P.FNC1):new P(this.information.getSize(),h-1,P.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,f=(o-8)%11;return new P(s+7,c,f)}extractNumericValueFromBitArray(s,o){return W.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let f=0;for(let h=0;h<c;++h)s.get(o+h)&&(f|=1<<c-h-1);return f}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new Ss(this.current.getPosition(),this.buffer.toString()):o=new Ss(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new sr(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new sr(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new sr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new sr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new sr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new Ss(this.current.getPosition(),this.buffer.toString());return new sr(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new sr(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(s,8);return f>=232&&f<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new on(s+5,on.FNC1);if(o>=5&&o<15)return new on(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new on(s+7,""+(c+1));if(c>=90&&c<116)return new on(s+7,""+(c+7));let f=this.extractNumericValueFromBitArray(s,8),h;switch(f){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new R}return new on(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new on(s+5,on.FNC1);if(o>=5&&o<15)return new on(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new on(s+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new dt("Decoding invalid alphanumeric value: "+c)}return new on(s+6,f)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class G{constructor(s){this.information=s,this.generalDecoder=new W(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class K extends G{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let f=0;f<4;++f){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*f,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}K.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let f=0;f<13;f++){let h=s.charAt(f+o).charCodeAt(0)-48;c+=f&1?h:3*h}c=10-c%10,c===10&&(c=0),s.append(c)}}K.GTIN_SIZE=40;class Z extends K{constructor(s){super(s)}parseInformation(){let s=new de;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Z.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Z.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Z.HEADER_SIZE+44)}}Z.HEADER_SIZE=4;class he extends G{constructor(s){super(s)}parseInformation(){let s=new de;return this.getGeneralDecoder().decodeAllCodes(s,he.HEADER_SIZE)}}he.HEADER_SIZE=5;class Ae extends K{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,f);let h=this.checkWeight(f),g=1e5;for(let m=0;m<5;++m)h/g===0&&s.append("0"),g/=10;s.append(h)}}class ce extends Ae{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ce.HEADER_SIZE+Ae.GTIN_SIZE+ce.WEIGHT_SIZE)throw new ee;let s=new de;return this.encodeCompressedGtin(s,ce.HEADER_SIZE),this.encodeCompressedWeight(s,ce.HEADER_SIZE+Ae.GTIN_SIZE,ce.WEIGHT_SIZE),s.toString()}}ce.HEADER_SIZE=5,ce.WEIGHT_SIZE=15;class ge extends ce{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class me extends ce{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ke extends K{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ke.HEADER_SIZE+K.GTIN_SIZE)throw new ee;let s=new de;this.encodeCompressedGtin(s,ke.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ke.HEADER_SIZE+K.GTIN_SIZE,ke.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(ke.HEADER_SIZE+K.GTIN_SIZE+ke.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}ke.HEADER_SIZE=8,ke.LAST_DIGIT_SIZE=2;class Ne extends K{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ne.HEADER_SIZE+K.GTIN_SIZE)throw new ee;let s=new de;this.encodeCompressedGtin(s,Ne.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ne.HEADER_SIZE+K.GTIN_SIZE,Ne.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ne.HEADER_SIZE+K.GTIN_SIZE+Ne.LAST_DIGIT_SIZE,Ne.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(Ne.HEADER_SIZE+K.GTIN_SIZE+Ne.LAST_DIGIT_SIZE+Ne.FIRST_THREE_DIGITS_SIZE,null);return s.append(f.getNewString()),s.toString()}}Ne.HEADER_SIZE=8,Ne.LAST_DIGIT_SIZE=2,Ne.FIRST_THREE_DIGITS_SIZE=10;class Me extends Ae{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=Me.HEADER_SIZE+Me.GTIN_SIZE+Me.WEIGHT_SIZE+Me.DATE_SIZE)throw new ee;let s=new de;return this.encodeCompressedGtin(s,Me.HEADER_SIZE),this.encodeCompressedWeight(s,Me.HEADER_SIZE+Me.GTIN_SIZE,Me.WEIGHT_SIZE),this.encodeCompressedDate(s,Me.HEADER_SIZE+Me.GTIN_SIZE+Me.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,Me.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let f=c%32;c/=32;let h=c%12+1;c/=12;let g=c;g/10==0&&s.append("0"),s.append(g),h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}Me.HEADER_SIZE=8,Me.WEIGHT_SIZE=20,Me.DATE_SIZE=16;function Ue(N){try{if(N.get(1))return new Z(N);if(!N.get(2))return new he(N);switch(W.extractNumericValueFromBitArray(N,1,4)){case 4:return new ge(N);case 5:return new me(N)}switch(W.extractNumericValueFromBitArray(N,1,5)){case 12:return new ke(N);case 13:return new Ne(N)}switch(W.extractNumericValueFromBitArray(N,1,7)){case 56:return new Me(N,"310","11");case 57:return new Me(N,"320","11");case 58:return new Me(N,"310","13");case 59:return new Me(N,"320","13");case 60:return new Me(N,"310","15");case 61:return new Me(N,"320","15");case 62:return new Me(N,"310","17");case 63:return new Me(N,"320","17")}}catch(s){throw console.log(s),new dt("unknown decoder: "+N)}}class We{constructor(s,o,c,f){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof We?We.equalsOrNull(s.leftchar,o.leftchar)&&We.equalsOrNull(s.rightchar,o.rightchar)&&We.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:We.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class at{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof at?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((f,h)=>{o.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ee extends ft{constructor(s){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(s,o))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof ee){if(!this.pairs.length)throw new ee;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(s,!1),f){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new ee}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let g of s)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(f);try{return this.checkRows(h,c+1)}catch(g){this.verbose&&console.log(g)}}throw new ee}static isValidSequence(s){for(let o of Ee.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let f=0;f<s.length;f++)if(s[f].getFinderPattern().getValue()!=o[f]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,f=!1,h=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>s){h=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),c++}h||f||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new at(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let f of c.getPairs())for(let h of s)if(We.equals(f,h))break}}static isPartialRow(s,o){for(let c of o){let f=!0;for(let h of s){let g=!1;for(let m of c.getPairs())if(h.equals(m)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Ri.buildBitArray(s),f=Ue(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),g=s[s.length-1].getFinderPattern().getResultPoints(),m=[h[0],h[1],g[0],g[1]];return new re(f,null,null,m,le.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),h=2;for(let m=1;m<this.pairs.size();++m){let w=this.pairs.get(m);f+=w.getLeftChar().getChecksumPortion(),h++;let C=w.getRightChar();C!=null&&(f+=C.getChecksumPortion(),h++)}return f%=211,211*(h-4)+f==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let f=o.length%2==0;this.startFromEven&&(f=!f);let h,g=!0,m=-1;do this.findNextPair(s,o,m),h=this.parseFoundFinderPattern(s,c,f),h==null?m=Ee.getNextSecondBar(s,this.startEnd[0]):g=!1;while(g);let w=this.decodeDataCharacter(s,h,f,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new ee;let C;try{C=this.decodeDataCharacter(s,h,f,!1)}catch(I){C=null,this.verbose&&console.log(I)}return new We(w,C,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let h=s.getSize(),g;c>=0?g=c:this.isEmptyPair(o)?g=0:g=o[o.length-1].getFinderPattern().getStartEnd()[1];let m=o.length%2!=0;this.startFromEven&&(m=!m);let w=!1;for(;g<h&&(w=!s.get(g),!!w);)g++;let C=0,I=g;for(let D=g;D<h;D++)if(s.get(D)!=w)f[C]++;else{if(C==3){if(m&&Ee.reverseCounters(f),Ee.isFinderPattern(f)){this.startEnd[0]=I,this.startEnd[1]=D;return}m&&Ee.reverseCounters(f),I+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,C--}else C++;f[C]=1,w=!w}throw new ee}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let f=s[c];s[c]=s[o-c-1],s[o-c-1]=f}}parseFoundFinderPattern(s,o,c){let f,h,g;if(c){let C=this.startEnd[0]-1;for(;C>=0&&!s.get(C);)C--;C++,f=this.startEnd[0]-C,h=C,g=this.startEnd[1]}else h=this.startEnd[0],g=s.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let m=this.getDecodeFinderCounters();_.arraycopy(m,0,m,1,m.length-1),m[0]=f;let w;try{w=this.parseFinderValue(m,Ee.FINDER_PATTERNS)}catch{return null}return new jr(w,[h,g],h,g,o)}decodeDataCharacter(s,o,c,f){let h=this.getDataCharacterCounters();for(let Vt=0;Vt<h.length;Vt++)h[Vt]=0;if(f)Ee.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Ee.recordPattern(s,o.getStartEnd()[1],h);for(let Vt=0,qr=h.length-1;Vt<qr;Vt++,qr--){let Qn=h[Vt];h[Vt]=h[qr],h[qr]=Qn}}let g=17,m=Qe.sum(new Int32Array(h))/g,w=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(m-w)/w>.3)throw new ee;let C=this.getOddCounts(),I=this.getEvenCounts(),D=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Vt=0;Vt<h.length;Vt++){let qr=1*h[Vt]/m,Qn=qr+.5;if(Qn<1){if(qr<.3)throw new ee;Qn=1}else if(Qn>8){if(qr>8.7)throw new ee;Qn=8}let Wo=Vt/2;Vt&1?(I[Wo]=Qn,L[Wo]=qr-Qn):(C[Wo]=Qn,D[Wo]=qr-Qn)}this.adjustOddEvenCounts(g);let Y=4*o.getValue()+(c?0:2)+(f?0:1)-1,ne=0,se=0;for(let Vt=C.length-1;Vt>=0;Vt--){if(Ee.isNotA1left(o,c,f)){let qr=Ee.WEIGHTS[Y][2*Vt];se+=C[Vt]*qr}ne+=C[Vt]}let ue=0;for(let Vt=I.length-1;Vt>=0;Vt--)if(Ee.isNotA1left(o,c,f)){let qr=Ee.WEIGHTS[Y][2*Vt+1];ue+=I[Vt]*qr}let ye=se+ue;if(ne&1||ne>13||ne<4)throw new ee;let Le=(13-ne)/2,je=Ee.SYMBOL_WIDEST[Le],Ie=9-je,Tt=wr.getRSSvalue(C,je,!0),pt=wr.getRSSvalue(I,Ie,!1),Bn=Ee.EVEN_TOTAL_SUBSET[Le],Oi=Ee.GSUM[Le],Un=Tt*Bn+pt+Oi;return new Ar(Un,ye)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=Qe.sum(new Int32Array(this.getOddCounts())),c=Qe.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1;o>13?h=!0:o<4&&(f=!0);let g=!1,m=!1;c>13?m=!0:c<4&&(g=!0);let w=o+c-s,C=(o&1)==1,I=(c&1)==0;if(w==1)if(C){if(I)throw new ee;h=!0}else{if(!I)throw new ee;m=!0}else if(w==-1)if(C){if(I)throw new ee;f=!0}else{if(!I)throw new ee;g=!0}else if(w==0){if(C){if(!I)throw new ee;o<c?(f=!0,m=!0):(h=!0,g=!0)}else if(I)throw new ee}else throw new ee;if(f){if(h)throw new ee;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(m)throw new ee;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class qt extends Ar{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class vt extends ft{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const f=this.decodePair(o,!1,s,c);vt.addOrTally(this.possibleLeftPairs,f),o.reverse();let h=this.decodePair(o,!0,s,c);vt.addOrTally(this.possibleRightPairs,h),o.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&vt.checkChecksum(g,m))return vt.constructResult(g,m)}throw new ee}static addOrTally(s,o){if(o==null)return;let c=!1;for(let f of s)if(f.getValue()===o.getValue()){f.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),f=new String(c).toString(),h=new de;for(let C=13-f.length;C>0;C--)h.append("0");h.append(f);let g=0;for(let C=0;C<13;C++){let I=h.charAt(C).charCodeAt(0)-48;g+=C&1?I:3*I}g=10-g%10,g===10&&(g=0),h.append(g.toString());let m=s.getFinderPattern().getResultPoints(),w=o.getFinderPattern().getResultPoints();return new re(h.toString(),null,0,[m[0],m[1],w[0],w[1]],le.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,f=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(s,o,c,f){try{let h=this.findFinderPattern(s,o),g=this.parseFoundFinderPattern(s,c,o,h),m=f==null?null:f.get(F.NEED_RESULT_POINT_CALLBACK);if(m!=null){let I=(h[0]+h[1])/2;o&&(I=s.getSize()-1-I),m.foundPossibleResultPoint(new He(I,c))}let w=this.decodeDataCharacter(s,g,!0),C=this.decodeDataCharacter(s,g,!1);return new qt(1597*w.getValue()+C.getValue(),w.getChecksumPortion()+4*C.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(s,o,c){let f=this.getDataCharacterCounters();for(let ue=0;ue<f.length;ue++)f[ue]=0;if(c)ct.recordPatternInReverse(s,o.getStartEnd()[0],f);else{ct.recordPattern(s,o.getStartEnd()[1]+1,f);for(let ue=0,ye=f.length-1;ue<ye;ue++,ye--){let Le=f[ue];f[ue]=f[ye],f[ye]=Le}}let h=c?16:15,g=Qe.sum(new Int32Array(f))/h,m=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let ue=0;ue<f.length;ue++){let ye=f[ue]/g,Le=Math.floor(ye+.5);Le<1?Le=1:Le>8&&(Le=8);let je=Math.floor(ue/2);ue&1?(w[je]=Le,I[je]=ye-Le):(m[je]=Le,C[je]=ye-Le)}this.adjustOddEvenCounts(c,h);let D=0,L=0;for(let ue=m.length-1;ue>=0;ue--)L*=9,L+=m[ue],D+=m[ue];let Y=0,ne=0;for(let ue=w.length-1;ue>=0;ue--)Y*=9,Y+=w[ue],ne+=w[ue];let se=L+3*Y;if(c){if(D&1||D>12||D<4)throw new ee;let ue=(12-D)/2,ye=vt.OUTSIDE_ODD_WIDEST[ue],Le=9-ye,je=wr.getRSSvalue(m,ye,!1),Ie=wr.getRSSvalue(w,Le,!0),Tt=vt.OUTSIDE_EVEN_TOTAL_SUBSET[ue],pt=vt.OUTSIDE_GSUM[ue];return new Ar(je*Tt+Ie+pt,se)}else{if(ne&1||ne>10||ne<4)throw new ee;let ue=(10-ne)/2,ye=vt.INSIDE_ODD_WIDEST[ue],Le=9-ye,je=wr.getRSSvalue(m,ye,!0),Ie=wr.getRSSvalue(w,Le,!1),Tt=vt.INSIDE_ODD_TOTAL_SUBSET[ue],pt=vt.INSIDE_GSUM[ue];return new Ar(Ie*Tt+je+pt,se)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=s.getSize(),h=!1,g=0;for(;g<f&&(h=!s.get(g),o!==h);)g++;let m=0,w=g;for(let C=g;C<f;C++)if(s.get(C)!==h)c[m]++;else{if(m===3){if(ft.isFinderPattern(c))return[w,C];w+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,m--}else m++;c[m]=1,h=!h}throw new ee}parseFoundFinderPattern(s,o,c,f){let h=s.get(f[0]),g=f[0]-1;for(;g>=0&&h!==s.get(g);)g--;g++;const m=f[0]-g,w=this.getDecodeFinderCounters(),C=new Int32Array(w.length);_.arraycopy(w,0,C,1,w.length-1),C[0]=m;const I=this.parseFinderValue(C,vt.FINDER_PATTERNS);let D=g,L=f[1];return c&&(D=s.getSize()-1-D,L=s.getSize()-1-L),new jr(I,[g,f[1]],D,L,o)}adjustOddEvenCounts(s,o){let c=Qe.sum(new Int32Array(this.getOddCounts())),f=Qe.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1,m=!1,w=!1;s?(c>12?g=!0:c<4&&(h=!0),f>12?w=!0:f<4&&(m=!0)):(c>11?g=!0:c<5&&(h=!0),f>10?w=!0:f<4&&(m=!0));let C=c+f-o,I=(c&1)===(s?1:0),D=(f&1)===1;if(C===1)if(I){if(D)throw new ee;g=!0}else{if(!D)throw new ee;w=!0}else if(C===-1)if(I){if(D)throw new ee;h=!0}else{if(!D)throw new ee;m=!0}else if(C===0){if(I){if(!D)throw new ee;c<f?(h=!0,w=!0):(g=!0,m=!0)}else if(D)throw new ee}else throw new ee;if(h){if(g)throw new ee;ft.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&ft.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(w)throw new ee;ft.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&ft.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],vt.OUTSIDE_GSUM=[0,161,961,2015,2715],vt.INSIDE_GSUM=[0,336,1036,1516],vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],vt.INSIDE_ODD_WIDEST=[2,4,6,8],vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pi extends ct{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(F.POSSIBLE_FORMATS):null,f=s&&s.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(le.EAN_13)||c.includes(le.UPC_A)||c.includes(le.EAN_8)||c.includes(le.UPC_E))&&this.readers.push(new kt(s)),c.includes(le.CODE_39)&&this.readers.push(new Yt(f)),c.includes(le.CODE_128)&&this.readers.push(new Oe),c.includes(le.ITF)&&this.readers.push(new At),c.includes(le.RSS_14)&&this.readers.push(new vt),c.includes(le.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new kt(s)),this.readers.push(new Yt),this.readers.push(new kt(s)),this.readers.push(new Oe),this.readers.push(new At),this.readers.push(new vt),this.readers.push(new Ee(this.verbose)))}decodeRow(s,o,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(s,o,c)}catch{}throw new ee}reset(){this.readers.forEach(s=>s.reset())}}class $a extends oe{constructor(s=500,o){super(new pi(o),s,o)}}class Ct{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class wt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class yt{constructor(s,o,c,f,h,g){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=h,this.ecBlocks=g;let m=0;const w=g.getECCodewords(),C=g.getECBlocks();for(let I of C)m+=I.getCount()*(I.getDataCodewords()+w);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new R;for(let c of yt.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new yt(1,10,10,8,8,new Ct(5,new wt(1,3))),new yt(2,12,12,10,10,new Ct(7,new wt(1,5))),new yt(3,14,14,12,12,new Ct(10,new wt(1,8))),new yt(4,16,16,14,14,new Ct(12,new wt(1,12))),new yt(5,18,18,16,16,new Ct(14,new wt(1,18))),new yt(6,20,20,18,18,new Ct(18,new wt(1,22))),new yt(7,22,22,20,20,new Ct(20,new wt(1,30))),new yt(8,24,24,22,22,new Ct(24,new wt(1,36))),new yt(9,26,26,24,24,new Ct(28,new wt(1,44))),new yt(10,32,32,14,14,new Ct(36,new wt(1,62))),new yt(11,36,36,16,16,new Ct(42,new wt(1,86))),new yt(12,40,40,18,18,new Ct(48,new wt(1,114))),new yt(13,44,44,20,20,new Ct(56,new wt(1,144))),new yt(14,48,48,22,22,new Ct(68,new wt(1,174))),new yt(15,52,52,24,24,new Ct(42,new wt(2,102))),new yt(16,64,64,14,14,new Ct(56,new wt(2,140))),new yt(17,72,72,16,16,new Ct(36,new wt(4,92))),new yt(18,80,80,18,18,new Ct(48,new wt(4,114))),new yt(19,88,88,20,20,new Ct(56,new wt(4,144))),new yt(20,96,96,22,22,new Ct(68,new wt(4,174))),new yt(21,104,104,24,24,new Ct(56,new wt(6,136))),new yt(22,120,120,18,18,new Ct(68,new wt(6,175))),new yt(23,132,132,20,20,new Ct(62,new wt(8,163))),new yt(24,144,144,22,22,new Ct(62,new wt(8,156),new wt(2,155))),new yt(25,8,18,6,16,new Ct(7,new wt(1,5))),new yt(26,8,32,6,14,new Ct(11,new wt(1,10))),new yt(27,12,26,10,24,new Ct(14,new wt(1,16))),new yt(28,12,36,10,16,new Ct(18,new wt(1,22))),new yt(29,16,36,14,16,new Ct(24,new wt(1,32))),new yt(30,16,48,14,22,new Ct(28,new wt(1,49)))]}}yt.VERSIONS=yt.buildVersions();class Zn{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new R;this.version=Zn.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return yt.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,f=0;const h=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let m=!1,w=!1,C=!1,I=!1;do if(c===h&&f===0&&!m)s[o++]=this.readCorner1(h,g)&255,c-=2,f+=2,m=!0;else if(c===h-2&&f===0&&g&3&&!w)s[o++]=this.readCorner2(h,g)&255,c-=2,f+=2,w=!0;else if(c===h+4&&f===2&&!(g&7)&&!C)s[o++]=this.readCorner3(h,g)&255,c-=2,f+=2,C=!0;else if(c===h-2&&f===0&&(g&7)===4&&!I)s[o++]=this.readCorner4(h,g)&255,c-=2,f+=2,I=!0;else{do c<h&&f>=0&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,g)&255),c-=2,f+=2;while(c>=0&&f<g);c+=1,f+=3;do c>=0&&f<g&&!this.readMappingMatrix.get(f,c)&&(s[o++]=this.readUtah(c,f,h,g)&255),c+=2,f-=2;while(c<h&&f>=0);c+=3,f+=1}while(c<h||f<g);if(o!==this.version.getTotalCodewords())throw new R;return s}readModule(s,o,c,f){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=f,s+=4-(f+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,f){let h=0;return this.readModule(s-2,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s-1,o,c,f)&&(h|=1),h<<=1,this.readModule(s,o-2,c,f)&&(h|=1),h<<=1,this.readModule(s,o-1,c,f)&&(h|=1),h<<=1,this.readModule(s,o,c,f)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new v("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),g=o/f|0,m=c/h|0,w=g*f,C=m*h,I=new pe(C,w);for(let D=0;D<g;++D){const L=D*f;for(let Y=0;Y<m;++Y){const ne=Y*h;for(let se=0;se<f;++se){const ue=D*(f+2)+1+se,ye=L+se;for(let Le=0;Le<h;++Le){const je=Y*(h+2)+1+Le;if(s.get(je,ue)){const Ie=ne+Le;I.set(Ie,ye)}}}}}return I}}class Qh{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let f=0;const h=c.getECBlocks();for(let se of h)f+=se.getCount();const g=new Array(f);let m=0;for(let se of h)for(let ue=0;ue<se.getCount();ue++){const ye=se.getDataCodewords(),Le=c.getECCodewords()+ye;g[m++]=new Qh(ye,new Uint8Array(Le))}const C=g[0].codewords.length-c.getECCodewords(),I=C-1;let D=0;for(let se=0;se<I;se++)for(let ue=0;ue<m;ue++)g[ue].codewords[se]=s[D++];const L=o.getVersionNumber()===24,Y=L?8:m;for(let se=0;se<Y;se++)g[se].codewords[C-1]=s[D++];const ne=g[0].codewords.length;for(let se=C;se<ne;se++)for(let ue=0;ue<m;ue++){const ye=L?(ue+8)%m:ue,Le=L&&ye>7?se-1:se;g[ye].codewords[Le]=s[D++]}if(D!==s.length)throw new v;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jh{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let o=0,c=this.bitOffset,f=this.byteOffset;const h=this.bytes;if(c>0){const g=8-c,m=s<g?s:g,w=g-m,C=255>>8-m<<w;o=(h[f]&C)>>w,s-=m,c+=m,c===8&&(c=0,f++)}if(s>0){for(;s>=8;)o=o<<8|h[f]&255,f++,s-=8;if(s>0){const g=8-s,m=255>>g<<g;o=o<<s|(h[f]&m)>>g,c+=s}}return this.bitOffset=c,this.byteOffset=f,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Or;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Or||(Or={}));class Qs{static decode(s){const o=new Jh(s),c=new de,f=new de,h=new Array;let g=Or.ASCII_ENCODE;do if(g===Or.ASCII_ENCODE)g=this.decodeAsciiSegment(o,c,f);else{switch(g){case Or.C40_ENCODE:this.decodeC40Segment(o,c);break;case Or.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case Or.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case Or.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case Or.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new R}g=Or.ASCII_ENCODE}while(g!==Or.PAD_ENCODE&&o.available()>0);return f.length()>0&&c.append(f.toString()),new Pe(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let f=!1;do{let h=s.readBits(8);if(h===0)throw new R;if(h<=128)return f&&(h+=128),o.append(String.fromCharCode(h-1)),Or.ASCII_ENCODE;if(h===129)return Or.PAD_ENCODE;if(h<=229){const g=h-130;g<10&&o.append("0"),o.append(""+g)}else switch(h){case 230:return Or.C40_ENCODE;case 231:return Or.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return Or.ANSIX12_ENCODE;case 239:return Or.TEXT_ENCODE;case 240:return Or.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new R;break}}while(s.available()>0);return Or.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const f=[];let h=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),f);for(let m=0;m<3;m++){const w=f[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):o.append(C)}else throw new R;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):o.append(C)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:c?(o.append(String.fromCharCode(w+224)),c=!1):o.append(String.fromCharCode(w+96)),h=0;break;default:throw new R}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,f=[],h=0;do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),f);for(let m=0;m<3;m++){const w=f[m];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[w];c?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):o.append(C)}else throw new R;break;case 1:c?(o.append(String.fromCharCode(w+128)),c=!1):o.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[w];c?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):o.append(C)}else switch(w){case 27:o.append("");break;case 30:c=!0;break;default:throw new R}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[w];c?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):o.append(C),h=0}else throw new R;break;default:throw new R}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const f=s.readBits(8);if(f===254)return;this.parseTwoBytes(f,s.readBits(8),c);for(let h=0;h<3;h++){const g=c[h];switch(g){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(g<14)o.append(String.fromCharCode(g+44));else if(g<40)o.append(String.fromCharCode(g+51));else throw new R;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let f=(s<<8)+o-1,h=Math.floor(f/1600);c[0]=h,f-=h*1600,h=Math.floor(f/40),c[1]=h,c[2]=f-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let f=s.readBits(6);if(f===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}f&32||(f|=64),o.append(String.fromCharCode(f))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let f=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),f++);let g;if(h===0?g=s.available()/8|0:h<250?g=h:g=250*(h-249)+this.unrandomize255State(s.readBits(8),f++),g<0)throw new R;const m=new Uint8Array(g);for(let w=0;w<g;w++){if(s.available()<8)throw new R;m[w]=this.unrandomize255State(s.readBits(8),f++)}c.push(m);try{o.append(ae.decode(m,q.ISO88591))}catch(w){throw new dt("Platform does not support required encoding: "+w.message)}}static unrandomize255State(s,o){const c=149*o%255+1,f=s-c;return f>=0?f:f+256}}Qs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qs.TEXT_SHIFT2_SET_CHARS=Qs.C40_SHIFT2_SET_CHARS,Qs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class DT{constructor(){this.rsDecoder=new it($e.DATA_MATRIX_FIELD_256)}decode(s){const o=new Zn(s),c=o.getVersion(),f=o.readCodewords(),h=Qh.getDataBlocks(f,c);let g=0;for(let C of h)g+=C.getNumDataCodewords();const m=new Uint8Array(g),w=h.length;for(let C=0;C<w;C++){const I=h[C],D=I.getCodewords(),L=I.getNumDataCodewords();this.correctErrors(D,L);for(let Y=0;Y<L;Y++)m[Y*w+C]=D[Y]}return Qs.decode(m)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new y}for(let f=0;f<o;f++)s[f]=c[f]}}class yr{constructor(s){this.image=s,this.rectangleDetector=new Kt(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new ee;o=this.shiftToModuleCenter(o);const c=o[0],f=o[1],h=o[2],g=o[3];let m=this.transitionsBetween(c,g)+1,w=this.transitionsBetween(h,g)+1;(m&1)===1&&(m+=1),(w&1)===1&&(w+=1),4*m<7*w&&4*w<7*m&&(m=w=Math.max(m,w));let C=yr.sampleGrid(this.image,c,f,h,g,m,w);return new Yn(C,[c,f,h,g])}static shiftPoint(s,o,c){let f=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new He(s.getX()+f,s.getY()+h)}static moveAway(s,o,c){let f=s.getX(),h=s.getY();return f<o?f-=1:f+=1,h<c?h-=1:h+=1,new He(f,h)}detectSolid1(s){let o=s[0],c=s[1],f=s[3],h=s[2],g=this.transitionsBetween(o,c),m=this.transitionsBetween(c,f),w=this.transitionsBetween(f,h),C=this.transitionsBetween(h,o),I=g,D=[h,o,c,f];return I>m&&(I=m,D[0]=o,D[1]=c,D[2]=f,D[3]=h),I>w&&(I=w,D[0]=c,D[1]=f,D[2]=h,D[3]=o),I>C&&(D[0]=f,D[1]=h,D[2]=o,D[3]=c),D}detectSolid2(s){let o=s[0],c=s[1],f=s[2],h=s[3],g=this.transitionsBetween(o,h),m=yr.shiftPoint(c,f,(g+1)*4),w=yr.shiftPoint(f,c,(g+1)*4),C=this.transitionsBetween(m,o),I=this.transitionsBetween(w,h);return C<I?(s[0]=o,s[1]=c,s[2]=f,s[3]=h):(s[0]=c,s[1]=f,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],f=s[2],h=s[3],g=this.transitionsBetween(o,h),m=this.transitionsBetween(c,h),w=yr.shiftPoint(o,c,(m+1)*4),C=yr.shiftPoint(f,c,(g+1)*4);g=this.transitionsBetween(w,h),m=this.transitionsBetween(C,h);let I=new He(h.getX()+(f.getX()-c.getX())/(g+1),h.getY()+(f.getY()-c.getY())/(g+1)),D=new He(h.getX()+(o.getX()-c.getX())/(m+1),h.getY()+(o.getY()-c.getY())/(m+1));if(!this.isValid(I))return this.isValid(D)?D:null;if(!this.isValid(D))return I;let L=this.transitionsBetween(w,I)+this.transitionsBetween(C,I),Y=this.transitionsBetween(w,D)+this.transitionsBetween(C,D);return L>Y?I:D}shiftToModuleCenter(s){let o=s[0],c=s[1],f=s[2],h=s[3],g=this.transitionsBetween(o,h)+1,m=this.transitionsBetween(f,h)+1,w=yr.shiftPoint(o,c,m*4),C=yr.shiftPoint(f,c,g*4);g=this.transitionsBetween(w,h)+1,m=this.transitionsBetween(C,h)+1,(g&1)===1&&(g+=1),(m&1)===1&&(m+=1);let I=(o.getX()+c.getX()+f.getX()+h.getX())/4,D=(o.getY()+c.getY()+f.getY()+h.getY())/4;o=yr.moveAway(o,I,D),c=yr.moveAway(c,I,D),f=yr.moveAway(f,I,D),h=yr.moveAway(h,I,D);let L,Y;return w=yr.shiftPoint(o,c,m*4),w=yr.shiftPoint(w,h,g*4),L=yr.shiftPoint(c,o,m*4),L=yr.shiftPoint(L,f,g*4),C=yr.shiftPoint(f,h,m*4),C=yr.shiftPoint(C,c,g*4),Y=yr.shiftPoint(h,f,m*4),Y=yr.shiftPoint(Y,o,g*4),[w,L,C,Y]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,f,h,g,m){return Wt.getInstance().sampleGrid(s,g,m,.5,.5,g-.5,.5,g-.5,m-.5,.5,m-.5,o.getX(),o.getY(),h.getX(),h.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),f=Math.trunc(s.getY()),h=Math.trunc(o.getX()),g=Math.trunc(o.getY()),m=Math.abs(g-f)>Math.abs(h-c);if(m){let se=c;c=f,f=se,se=h,h=g,g=se}let w=Math.abs(h-c),C=Math.abs(g-f),I=-w/2,D=f<g?1:-1,L=c<h?1:-1,Y=0,ne=this.image.get(m?f:c,m?c:f);for(let se=c,ue=f;se!==h;se+=L){let ye=this.image.get(m?ue:se,m?se:ue);if(ye!==ne&&(Y++,ne=ye),I+=C,I>0){if(ue===g)break;ue+=D,I-=w}}return Y}}class Js{constructor(){this.decoder=new DT}decode(s,o=null){let c,f;if(o!=null&&o.has(F.PURE_BARCODE)){const C=Js.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(C),f=Js.NO_POINTS}else{const C=new yr(s.getBlackMatrix()).detect();c=this.decoder.decode(C.getBits()),f=C.getPoints()}const h=c.getRawBytes(),g=new re(c.getText(),h,8*h.length,f,le.DATA_MATRIX,_.currentTimeMillis()),m=c.getByteSegments();m!=null&&g.putMetadata(De.BYTE_SEGMENTS,m);const w=c.getECLevel();return w!=null&&g.putMetadata(De.ERROR_CORRECTION_LEVEL,w),g}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new ee;const f=this.moduleSize(o,s);let h=o[1];const g=c[1];let m=o[0];const C=(c[0]-m+1)/f,I=(g-h+1)/f;if(C<=0||I<=0)throw new ee;const D=f/2;h+=D,m+=D;const L=new pe(C,I);for(let Y=0;Y<I;Y++){const ne=h+Y*f;for(let se=0;se<C;se++)s.get(m+se*f,ne)&&L.set(se,Y)}return L}static moduleSize(s,o){const c=o.getWidth();let f=s[0];const h=s[1];for(;f<c&&o.get(f,h);)f++;if(f===c)throw new ee;const g=f-s[0];if(g===0)throw new ee;return g}}Js.NO_POINTS=[];class PT extends oe{constructor(s=500){super(new Js,s)}}var Uo;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Uo||(Uo={}));class zt{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,zt.FOR_BITS.set(c,this),zt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return zt.L;case"M":return zt.M;case"Q":return zt.Q;case"H":return zt.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof zt))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=zt.FOR_BITS.size)throw new v;return zt.FOR_BITS.get(s)}}zt.FOR_BITS=new Map,zt.FOR_VALUE=new Map,zt.L=new zt(Uo.L,"L",1),zt.M=new zt(Uo.M,"M",0),zt.Q=new zt(Uo.Q,"Q",3),zt.H=new zt(Uo.H,"H",2);class ln{constructor(s){this.errorCorrectionLevel=zt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return T.bitCount(s^o)}static decodeFormatInformation(s,o){const c=ln.doDecodeFormatInformation(s,o);return c!==null?c:ln.doDecodeFormatInformation(s^ln.FORMAT_INFO_MASK_QR,o^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,f=0;for(const h of ln.FORMAT_INFO_DECODE_LOOKUP){const g=h[0];if(g===s||g===o)return new ln(h[1]);let m=ln.numBitsDiffering(s,g);m<c&&(f=h[1],c=m),s!==o&&(m=ln.numBitsDiffering(o,g),m<c&&(f=h[1],c=m))}return c<=3?new ln(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof ln))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class fe{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class X{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let f=0;const h=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const m of g)f+=m.getCount()*(m.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new R;try{return this.getVersionForNumber((s-17)/4)}catch{throw new R}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return qe.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<qe.VERSION_DECODE_INFO.length;f++){const h=qe.VERSION_DECODE_INFO[f];if(h===s)return qe.getVersionForNumber(f+7);const g=ln.numBitsDiffering(s,h);g<o&&(c=f+7,o=g)}return o<=3?qe.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new pe(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const h=this.alignmentPatternCenters[f]-2;for(let g=0;g<c;g++)f===0&&(g===0||g===c-1)||f===c-1&&g===0||o.setRegion(this.alignmentPatternCenters[g]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new fe(7,new X(1,19)),new fe(10,new X(1,16)),new fe(13,new X(1,13)),new fe(17,new X(1,9))),new qe(2,Int32Array.from([6,18]),new fe(10,new X(1,34)),new fe(16,new X(1,28)),new fe(22,new X(1,22)),new fe(28,new X(1,16))),new qe(3,Int32Array.from([6,22]),new fe(15,new X(1,55)),new fe(26,new X(1,44)),new fe(18,new X(2,17)),new fe(22,new X(2,13))),new qe(4,Int32Array.from([6,26]),new fe(20,new X(1,80)),new fe(18,new X(2,32)),new fe(26,new X(2,24)),new fe(16,new X(4,9))),new qe(5,Int32Array.from([6,30]),new fe(26,new X(1,108)),new fe(24,new X(2,43)),new fe(18,new X(2,15),new X(2,16)),new fe(22,new X(2,11),new X(2,12))),new qe(6,Int32Array.from([6,34]),new fe(18,new X(2,68)),new fe(16,new X(4,27)),new fe(24,new X(4,19)),new fe(28,new X(4,15))),new qe(7,Int32Array.from([6,22,38]),new fe(20,new X(2,78)),new fe(18,new X(4,31)),new fe(18,new X(2,14),new X(4,15)),new fe(26,new X(4,13),new X(1,14))),new qe(8,Int32Array.from([6,24,42]),new fe(24,new X(2,97)),new fe(22,new X(2,38),new X(2,39)),new fe(22,new X(4,18),new X(2,19)),new fe(26,new X(4,14),new X(2,15))),new qe(9,Int32Array.from([6,26,46]),new fe(30,new X(2,116)),new fe(22,new X(3,36),new X(2,37)),new fe(20,new X(4,16),new X(4,17)),new fe(24,new X(4,12),new X(4,13))),new qe(10,Int32Array.from([6,28,50]),new fe(18,new X(2,68),new X(2,69)),new fe(26,new X(4,43),new X(1,44)),new fe(24,new X(6,19),new X(2,20)),new fe(28,new X(6,15),new X(2,16))),new qe(11,Int32Array.from([6,30,54]),new fe(20,new X(4,81)),new fe(30,new X(1,50),new X(4,51)),new fe(28,new X(4,22),new X(4,23)),new fe(24,new X(3,12),new X(8,13))),new qe(12,Int32Array.from([6,32,58]),new fe(24,new X(2,92),new X(2,93)),new fe(22,new X(6,36),new X(2,37)),new fe(26,new X(4,20),new X(6,21)),new fe(28,new X(7,14),new X(4,15))),new qe(13,Int32Array.from([6,34,62]),new fe(26,new X(4,107)),new fe(22,new X(8,37),new X(1,38)),new fe(24,new X(8,20),new X(4,21)),new fe(22,new X(12,11),new X(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new fe(30,new X(3,115),new X(1,116)),new fe(24,new X(4,40),new X(5,41)),new fe(20,new X(11,16),new X(5,17)),new fe(24,new X(11,12),new X(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new fe(22,new X(5,87),new X(1,88)),new fe(24,new X(5,41),new X(5,42)),new fe(30,new X(5,24),new X(7,25)),new fe(24,new X(11,12),new X(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new fe(24,new X(5,98),new X(1,99)),new fe(28,new X(7,45),new X(3,46)),new fe(24,new X(15,19),new X(2,20)),new fe(30,new X(3,15),new X(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new fe(28,new X(1,107),new X(5,108)),new fe(28,new X(10,46),new X(1,47)),new fe(28,new X(1,22),new X(15,23)),new fe(28,new X(2,14),new X(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new fe(30,new X(5,120),new X(1,121)),new fe(26,new X(9,43),new X(4,44)),new fe(28,new X(17,22),new X(1,23)),new fe(28,new X(2,14),new X(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new fe(28,new X(3,113),new X(4,114)),new fe(26,new X(3,44),new X(11,45)),new fe(26,new X(17,21),new X(4,22)),new fe(26,new X(9,13),new X(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new fe(28,new X(3,107),new X(5,108)),new fe(26,new X(3,41),new X(13,42)),new fe(30,new X(15,24),new X(5,25)),new fe(28,new X(15,15),new X(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new fe(28,new X(4,116),new X(4,117)),new fe(26,new X(17,42)),new fe(28,new X(17,22),new X(6,23)),new fe(30,new X(19,16),new X(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new fe(28,new X(2,111),new X(7,112)),new fe(28,new X(17,46)),new fe(30,new X(7,24),new X(16,25)),new fe(24,new X(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new fe(30,new X(4,121),new X(5,122)),new fe(28,new X(4,47),new X(14,48)),new fe(30,new X(11,24),new X(14,25)),new fe(30,new X(16,15),new X(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new fe(30,new X(6,117),new X(4,118)),new fe(28,new X(6,45),new X(14,46)),new fe(30,new X(11,24),new X(16,25)),new fe(30,new X(30,16),new X(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new fe(26,new X(8,106),new X(4,107)),new fe(28,new X(8,47),new X(13,48)),new fe(30,new X(7,24),new X(22,25)),new fe(30,new X(22,15),new X(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new fe(28,new X(10,114),new X(2,115)),new fe(28,new X(19,46),new X(4,47)),new fe(28,new X(28,22),new X(6,23)),new fe(30,new X(33,16),new X(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new fe(30,new X(8,122),new X(4,123)),new fe(28,new X(22,45),new X(3,46)),new fe(30,new X(8,23),new X(26,24)),new fe(30,new X(12,15),new X(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new fe(30,new X(3,117),new X(10,118)),new fe(28,new X(3,45),new X(23,46)),new fe(30,new X(4,24),new X(31,25)),new fe(30,new X(11,15),new X(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new fe(30,new X(7,116),new X(7,117)),new fe(28,new X(21,45),new X(7,46)),new fe(30,new X(1,23),new X(37,24)),new fe(30,new X(19,15),new X(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new fe(30,new X(5,115),new X(10,116)),new fe(28,new X(19,47),new X(10,48)),new fe(30,new X(15,24),new X(25,25)),new fe(30,new X(23,15),new X(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new fe(30,new X(13,115),new X(3,116)),new fe(28,new X(2,46),new X(29,47)),new fe(30,new X(42,24),new X(1,25)),new fe(30,new X(23,15),new X(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new fe(30,new X(17,115)),new fe(28,new X(10,46),new X(23,47)),new fe(30,new X(10,24),new X(35,25)),new fe(30,new X(19,15),new X(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new fe(30,new X(17,115),new X(1,116)),new fe(28,new X(14,46),new X(21,47)),new fe(30,new X(29,24),new X(19,25)),new fe(30,new X(11,15),new X(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new fe(30,new X(13,115),new X(6,116)),new fe(28,new X(14,46),new X(23,47)),new fe(30,new X(44,24),new X(7,25)),new fe(30,new X(59,16),new X(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new fe(30,new X(12,121),new X(7,122)),new fe(28,new X(12,47),new X(26,48)),new fe(30,new X(39,24),new X(14,25)),new fe(30,new X(22,15),new X(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new fe(30,new X(6,121),new X(14,122)),new fe(28,new X(6,47),new X(34,48)),new fe(30,new X(46,24),new X(10,25)),new fe(30,new X(2,15),new X(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new fe(30,new X(17,122),new X(4,123)),new fe(28,new X(29,46),new X(14,47)),new fe(30,new X(49,24),new X(10,25)),new fe(30,new X(24,15),new X(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new fe(30,new X(4,122),new X(18,123)),new fe(28,new X(13,46),new X(32,47)),new fe(30,new X(48,24),new X(14,25)),new fe(30,new X(42,15),new X(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new fe(30,new X(20,117),new X(4,118)),new fe(28,new X(40,47),new X(7,48)),new fe(30,new X(43,24),new X(22,25)),new fe(30,new X(10,15),new X(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new fe(30,new X(19,118),new X(6,119)),new fe(28,new X(18,47),new X(31,48)),new fe(30,new X(34,24),new X(34,25)),new fe(30,new X(20,15),new X(61,16)))];var Vr;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Vr||(Vr={}));class gi{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let f=0;f<o;f++)this.isMasked(c,f)&&s.flip(f,c)}}gi.values=new Map([[Vr.DATA_MASK_000,new gi(Vr.DATA_MASK_000,(N,s)=>(N+s&1)===0)],[Vr.DATA_MASK_001,new gi(Vr.DATA_MASK_001,(N,s)=>(N&1)===0)],[Vr.DATA_MASK_010,new gi(Vr.DATA_MASK_010,(N,s)=>s%3===0)],[Vr.DATA_MASK_011,new gi(Vr.DATA_MASK_011,(N,s)=>(N+s)%3===0)],[Vr.DATA_MASK_100,new gi(Vr.DATA_MASK_100,(N,s)=>(Math.floor(N/2)+Math.floor(s/3)&1)===0)],[Vr.DATA_MASK_101,new gi(Vr.DATA_MASK_101,(N,s)=>N*s%6===0)],[Vr.DATA_MASK_110,new gi(Vr.DATA_MASK_110,(N,s)=>N*s%6<3)],[Vr.DATA_MASK_111,new gi(Vr.DATA_MASK_111,(N,s)=>(N+s+N*s%3&1)===0)]]);class FT{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new R;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const f=o-7;for(let h=o-1;h>=f;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=ln.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return qe.getVersionForNumber(o);let c=0;const f=s-11;for(let g=5;g>=0;g--)for(let m=s-9;m>=f;m--)c=this.copyBit(m,g,c);let h=qe.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let g=5;g>=0;g--)for(let m=s-9;m>=f;m--)c=this.copyBit(g,m,c);if(h=qe.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new R}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=gi.values.get(s.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const h=o.buildFunctionPattern();let g=!0;const m=new Uint8Array(o.getTotalCodewords());let w=0,C=0,I=0;for(let D=f-1;D>0;D-=2){D===6&&D--;for(let L=0;L<f;L++){const Y=g?f-1-L:L;for(let ne=0;ne<2;ne++)h.get(D-ne,Y)||(I++,C<<=1,this.bitMatrix.get(D-ne,Y)&&(C|=1),I===8&&(m[w++]=C,I=0,C=0))}g=!g}if(w!==o.getTotalCodewords())throw new R;return m}remask(){if(this.parsedFormatInfo===null)return;const s=gi.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let f=o+1,h=s.getHeight();f<h;f++)s.get(o,f)!==s.get(f,o)&&(s.flip(f,o),s.flip(o,f))}}class ed{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new v;const f=o.getECBlocksForLevel(c);let h=0;const g=f.getECBlocks();for(const ne of g)h+=ne.getCount();const m=new Array(h);let w=0;for(const ne of g)for(let se=0;se<ne.getCount();se++){const ue=ne.getDataCodewords(),ye=f.getECCodewordsPerBlock()+ue;m[w++]=new ed(ue,new Uint8Array(ye))}const C=m[0].codewords.length;let I=m.length-1;for(;I>=0&&m[I].codewords.length!==C;)I--;I++;const D=C-f.getECCodewordsPerBlock();let L=0;for(let ne=0;ne<D;ne++)for(let se=0;se<w;se++)m[se].codewords[ne]=s[L++];for(let ne=I;ne<w;ne++)m[ne].codewords[D]=s[L++];const Y=m[0].codewords.length;for(let ne=D;ne<Y;ne++)for(let se=0;se<w;se++){const ue=se<I?ne:ne+1;m[se].codewords[ue]=s[L++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var xi;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(xi||(xi={}));class Je{constructor(s,o,c,f){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=f,Je.FOR_BITS.set(f,this),Je.FOR_VALUE.set(s,this)}static forBits(s){const o=Je.FOR_BITS.get(s);if(o===void 0)throw new v;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Je))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Je.FOR_BITS=new Map,Je.FOR_VALUE=new Map,Je.TERMINATOR=new Je(xi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Je.NUMERIC=new Je(xi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Je.ALPHANUMERIC=new Je(xi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Je.STRUCTURED_APPEND=new Je(xi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Je.BYTE=new Je(xi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Je.ECI=new Je(xi.ECI,"ECI",Int32Array.from([0,0,0]),7),Je.KANJI=new Je(xi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Je.FNC1_FIRST_POSITION=new Je(xi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Je.FNC1_SECOND_POSITION=new Je(xi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Je.HANZI=new Je(xi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ar{static decode(s,o,c,f){const h=new Jh(s);let g=new de;const m=new Array;let w=-1,C=-1;try{let I=null,D=!1,L;do{if(h.available()<4)L=Je.TERMINATOR;else{const Y=h.readBits(4);L=Je.forBits(Y)}switch(L){case Je.TERMINATOR:break;case Je.FNC1_FIRST_POSITION:case Je.FNC1_SECOND_POSITION:D=!0;break;case Je.STRUCTURED_APPEND:if(h.available()<16)throw new R;w=h.readBits(8),C=h.readBits(8);break;case Je.ECI:const Y=ar.parseECIValue(h);if(I=M.getCharacterSetECIByValue(Y),I===null)throw new R;break;case Je.HANZI:const ne=h.readBits(4),se=h.readBits(L.getCharacterCountBits(o));ne===ar.GB2312_SUBSET&&ar.decodeHanziSegment(h,g,se);break;default:const ue=h.readBits(L.getCharacterCountBits(o));switch(L){case Je.NUMERIC:ar.decodeNumericSegment(h,g,ue);break;case Je.ALPHANUMERIC:ar.decodeAlphanumericSegment(h,g,ue,D);break;case Je.BYTE:ar.decodeByteSegment(h,g,ue,I,m,f);break;case Je.KANJI:ar.decodeKanjiSegment(h,g,ue);break;default:throw new R}break}}while(L!==Je.TERMINATOR)}catch{throw new R}return new Pe(s,g.toString(),m.length===0?null:m,c===null?null:c.toString(),w,C)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const g=s.readBits(13);let m=g/96<<8&4294967295|g%96;m<959?m+=41377:m+=42657,f[h]=m>>8&255,f[h+1]=m&255,h+=2,c--}try{o.append(ae.decode(f,q.GB2312))}catch(g){throw new R(g)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new R;const f=new Uint8Array(2*c);let h=0;for(;c>0;){const g=s.readBits(13);let m=g/192<<8&4294967295|g%192;m<7936?m+=33088:m+=49472,f[h]=m>>8,f[h+1]=m,h+=2,c--}try{o.append(ae.decode(f,q.SHIFT_JIS))}catch(g){throw new R(g)}}static decodeByteSegment(s,o,c,f,h,g){if(8*c>s.available())throw new R;const m=new Uint8Array(c);for(let C=0;C<c;C++)m[C]=s.readBits(8);let w;f===null?w=q.guessEncoding(m,g):w=f.getName();try{o.append(ae.decode(m,w))}catch(C){throw new R(C)}h.push(m)}static toAlphaNumericChar(s){if(s>=ar.ALPHANUMERIC_CHARS.length)throw new R;return ar.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,f){const h=o.length();for(;c>1;){if(s.available()<11)throw new R;const g=s.readBits(11);o.append(ar.toAlphaNumericChar(Math.floor(g/45))),o.append(ar.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(s.available()<6)throw new R;o.append(ar.toAlphaNumericChar(s.readBits(6)))}if(f)for(let g=h;g<o.length();g++)o.charAt(g)==="%"&&(g<o.length()-1&&o.charAt(g+1)==="%"?o.deleteCharAt(g+1):o.setCharAt(g,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new R;const f=s.readBits(10);if(f>=1e3)throw new R;o.append(ar.toAlphaNumericChar(Math.floor(f/100))),o.append(ar.toAlphaNumericChar(Math.floor(f/10)%10)),o.append(ar.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(s.available()<7)throw new R;const f=s.readBits(7);if(f>=100)throw new R;o.append(ar.toAlphaNumericChar(Math.floor(f/10))),o.append(ar.toAlphaNumericChar(f%10))}else if(c===1){if(s.available()<4)throw new R;const f=s.readBits(4);if(f>=10)throw new R;o.append(ar.toAlphaNumericChar(f))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new R}}ar.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ar.GB2312_SUBSET=1;class Zx{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class MT{constructor(){this.rsDecoder=new it($e.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(pe.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new FT(s);let f=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){f=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new Zx(!0)),h}catch(h){throw f!==null?f:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),f=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),g=ed.getDataBlocks(h,c,f);let m=0;for(const I of g)m+=I.getNumDataCodewords();const w=new Uint8Array(m);let C=0;for(const I of g){const D=I.getCodewords(),L=I.getNumDataCodewords();this.correctErrors(D,L);for(let Y=0;Y<L;Y++)w[C++]=D[Y]}return ar.decode(w,c,f,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new y}for(let f=0;f<o;f++)s[f]=c[f]}}class td extends He{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=(this.getX()+o)/2,h=(this.getY()+s)/2,g=(this.estimatedModuleSize+c)/2;return new td(f,h,g)}}class a0{constructor(s,o,c,f,h,g,m){this.image=s,this.startX=o,this.startY=c,this.width=f,this.height=h,this.moduleSize=g,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,f=s+c,h=this.startY+o/2,g=new Int32Array(3),m=this.image;for(let w=0;w<o;w++){const C=h+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));g[0]=0,g[1]=0,g[2]=0;let I=s;for(;I<f&&!m.get(I,C);)I++;let D=0;for(;I<f;){if(m.get(I,C))if(D===1)g[1]++;else if(D===2){if(this.foundPatternCross(g)){const L=this.handlePossibleCenter(g,C,I);if(L!==null)return L}g[0]=g[2],g[1]=1,g[2]=0,D=1}else g[++D]++;else D===1&&D++,g[D]++;I++}if(this.foundPatternCross(g)){const L=this.handlePossibleCenter(g,C,f);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let f=0;f<3;f++)if(Math.abs(o-s[f])>=c)return!1;return!0}crossCheckVertical(s,o,c,f){const h=this.image,g=h.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let w=s;for(;w>=0&&h.get(o,w)&&m[1]<=c;)m[1]++,w--;if(w<0||m[1]>c)return NaN;for(;w>=0&&!h.get(o,w)&&m[0]<=c;)m[0]++,w--;if(m[0]>c)return NaN;for(w=s+1;w<g&&h.get(o,w)&&m[1]<=c;)m[1]++,w++;if(w===g||m[1]>c)return NaN;for(;w<g&&!h.get(o,w)&&m[2]<=c;)m[2]++,w++;if(m[2]>c)return NaN;const C=m[0]+m[1]+m[2];return 5*Math.abs(C-f)>=2*f?NaN:this.foundPatternCross(m)?a0.centerFromEnd(m,w):NaN}handlePossibleCenter(s,o,c){const f=s[0]+s[1]+s[2],h=a0.centerFromEnd(s,c),g=this.crossCheckVertical(o,h,2*s[1],f);if(!isNaN(g)){const m=(s[0]+s[1]+s[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(m,g,h))return C.combineEstimate(g,h,m);const w=new td(h,g,m);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class rd extends He{constructor(s,o,c,f){super(s,o),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const f=Math.abs(s-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const f=this.count+1,h=(this.count*this.getX()+o)/f,g=(this.count*this.getY()+s)/f,m=(this.count*this.estimatedModuleSize+c)/f;return new rd(h,g,m,f)}}class LT{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wr{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(F.TRY_HARDER)!==void 0,c=s!=null&&s.get(F.PURE_BARCODE)!==void 0,f=this.image,h=f.getHeight(),g=f.getWidth();let m=Math.floor(3*h/(4*Wr.MAX_MODULES));(m<Wr.MIN_SKIP||o)&&(m=Wr.MIN_SKIP);let w=!1;const C=new Int32Array(5);for(let D=m-1;D<h&&!w;D+=m){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let L=0;for(let Y=0;Y<g;Y++)if(f.get(Y,D))(L&1)===1&&L++,C[L]++;else if(L&1)C[L]++;else if(L===4)if(Wr.foundPatternCross(C)){if(this.handlePossibleCenter(C,D,Y,c)===!0)if(m=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const se=this.findRowSkip();se>C[2]&&(D+=se-C[2]-m,Y=g-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;continue}L=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,L=3;else C[++L]++;Wr.foundPatternCross(C)&&this.handlePossibleCenter(C,D,g,c)===!0&&(m=C[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return He.orderBestPatterns(I),new LT(I)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const g=s[h];if(g===0)return!1;o+=g}if(o<7)return!1;const c=o/7,f=c/2;return Math.abs(c-s[0])<f&&Math.abs(c-s[1])<f&&Math.abs(3*c-s[2])<3*f&&Math.abs(c-s[3])<f&&Math.abs(c-s[4])<f}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,f){const h=this.getCrossCheckStateCount();let g=0;const m=this.image;for(;s>=g&&o>=g&&m.get(o-g,s-g);)h[2]++,g++;if(s<g||o<g)return!1;for(;s>=g&&o>=g&&!m.get(o-g,s-g)&&h[1]<=c;)h[1]++,g++;if(s<g||o<g||h[1]>c)return!1;for(;s>=g&&o>=g&&m.get(o-g,s-g)&&h[0]<=c;)h[0]++,g++;if(h[0]>c)return!1;const w=m.getHeight(),C=m.getWidth();for(g=1;s+g<w&&o+g<C&&m.get(o+g,s+g);)h[2]++,g++;if(s+g>=w||o+g>=C)return!1;for(;s+g<w&&o+g<C&&!m.get(o+g,s+g)&&h[3]<c;)h[3]++,g++;if(s+g>=w||o+g>=C||h[3]>=c)return!1;for(;s+g<w&&o+g<C&&m.get(o+g,s+g)&&h[4]<c;)h[4]++,g++;if(h[4]>=c)return!1;const I=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(I-f)<2*f&&Wr.foundPatternCross(h)}crossCheckVertical(s,o,c,f){const h=this.image,g=h.getHeight(),m=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(o,w);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(o,w)&&m[1]<=c;)m[1]++,w--;if(w<0||m[1]>c)return NaN;for(;w>=0&&h.get(o,w)&&m[0]<=c;)m[0]++,w--;if(m[0]>c)return NaN;for(w=s+1;w<g&&h.get(o,w);)m[2]++,w++;if(w===g)return NaN;for(;w<g&&!h.get(o,w)&&m[3]<c;)m[3]++,w++;if(w===g||m[3]>=c)return NaN;for(;w<g&&h.get(o,w)&&m[4]<c;)m[4]++,w++;if(m[4]>=c)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-f)>=2*f?NaN:Wr.foundPatternCross(m)?Wr.centerFromEnd(m,w):NaN}crossCheckHorizontal(s,o,c,f){const h=this.image,g=h.getWidth(),m=this.getCrossCheckStateCount();let w=s;for(;w>=0&&h.get(w,o);)m[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,o)&&m[1]<=c;)m[1]++,w--;if(w<0||m[1]>c)return NaN;for(;w>=0&&h.get(w,o)&&m[0]<=c;)m[0]++,w--;if(m[0]>c)return NaN;for(w=s+1;w<g&&h.get(w,o);)m[2]++,w++;if(w===g)return NaN;for(;w<g&&!h.get(w,o)&&m[3]<c;)m[3]++,w++;if(w===g||m[3]>=c)return NaN;for(;w<g&&h.get(w,o)&&m[4]<c;)m[4]++,w++;if(m[4]>=c)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-f)>=f?NaN:Wr.foundPatternCross(m)?Wr.centerFromEnd(m,w):NaN}handlePossibleCenter(s,o,c,f){const h=s[0]+s[1]+s[2]+s[3]+s[4];let g=Wr.centerFromEnd(s,c),m=this.crossCheckVertical(o,Math.floor(g),s[2],h);if(!isNaN(m)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(m),s[2],h),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(m),Math.floor(g),s[2],h)))){const w=h/7;let C=!1;const I=this.possibleCenters;for(let D=0,L=I.length;D<L;D++){const Y=I[D];if(Y.aboutEquals(w,m,g)){I[D]=Y.combineEstimate(m,g,w),C=!0;break}}if(!C){const D=new rd(g,m,w);I.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=Wr.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Wr.CENTER_QUORUM&&(s++,o+=g.getEstimatedModuleSize());if(s<3)return!1;const f=o/c;let h=0;for(const g of this.possibleCenters)h+=Math.abs(g.getEstimatedModuleSize()-f);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new ee;const o=this.possibleCenters;let c;if(s>3){let f=0,h=0;for(const w of this.possibleCenters){const C=w.getEstimatedModuleSize();f+=C,h+=C*C}c=f/s;let g=Math.sqrt(h/s-c*c);o.sort((w,C)=>{const I=Math.abs(C.getEstimatedModuleSize()-c),D=Math.abs(w.getEstimatedModuleSize()-c);return I<D?-1:I>D?1:0});const m=Math.max(.2*c,g);for(let w=0;w<o.length&&o.length>3;w++){const C=o[w];Math.abs(C.getEstimatedModuleSize()-c)>m&&(o.splice(w,1),w--)}}if(o.length>3){let f=0;for(const h of o)f+=h.getEstimatedModuleSize();c=f/o.length,o.sort((h,g)=>{if(g.getCount()===h.getCount()){const m=Math.abs(g.getEstimatedModuleSize()-c),w=Math.abs(h.getEstimatedModuleSize()-c);return m<w?1:m>w?-1:0}else return g.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Wr.CENTER_QUORUM=2,Wr.MIN_SKIP=3,Wr.MAX_MODULES=57;class uc{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(F.NEED_RESULT_POINT_CALLBACK);const c=new Wr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),f=s.getBottomLeft(),h=this.calculateModuleSize(o,c,f);if(h<1)throw new ee("No pattern found in proccess finder.");const g=uc.computeDimension(o,c,f,h),m=qe.getProvisionalVersionForDimension(g),w=m.getDimensionForVersion()-7;let C=null;if(m.getAlignmentPatternCenters().length>0){const Y=c.getX()-o.getX()+f.getX(),ne=c.getY()-o.getY()+f.getY(),se=1-3/w,ue=Math.floor(o.getX()+se*(Y-o.getX())),ye=Math.floor(o.getY()+se*(ne-o.getY()));for(let Le=4;Le<=16;Le<<=1)try{C=this.findAlignmentInRegion(h,ue,ye,Le);break}catch(je){if(!(je instanceof ee))throw je}}const I=uc.createTransform(o,c,f,C,g),D=uc.sampleGrid(this.image,I,g);let L;return C===null?L=[f,o,c]:L=[f,o,c,C],new Yn(D,L)}static createTransform(s,o,c,f,h){const g=h-3.5;let m,w,C,I;return f!==null?(m=f.getX(),w=f.getY(),C=g-3,I=C):(m=o.getX()-s.getX()+c.getX(),w=o.getY()-s.getY()+c.getY(),C=g,I=g),Ot.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,C,I,3.5,g,s.getX(),s.getY(),o.getX(),o.getY(),m,w,c.getX(),c.getY())}static sampleGrid(s,o,c){return Wt.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,f){const h=Qe.round(He.distance(s,o)/f),g=Qe.round(He.distance(s,c)/f);let m=Math.floor((h+g)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new ee("Dimensions could be not found.")}return m}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,f){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,f),g=1,m=s-(c-s);m<0?(g=s/(s-m),m=0):m>=this.image.getWidth()&&(g=(this.image.getWidth()-1-s)/(m-s),m=this.image.getWidth()-1);let w=Math.floor(o-(f-o)*g);return g=1,w<0?(g=o/(o-w),w=0):w>=this.image.getHeight()&&(g=(this.image.getHeight()-1-o)/(w-o),w=this.image.getHeight()-1),m=Math.floor(s+(m-s)*g),h+=this.sizeOfBlackWhiteBlackRun(s,o,m,w),h-1}sizeOfBlackWhiteBlackRun(s,o,c,f){const h=Math.abs(f-o)>Math.abs(c-s);if(h){let Y=s;s=o,o=Y,Y=c,c=f,f=Y}const g=Math.abs(c-s),m=Math.abs(f-o);let w=-g/2;const C=s<c?1:-1,I=o<f?1:-1;let D=0;const L=c+C;for(let Y=s,ne=o;Y!==L;Y+=C){const se=h?ne:Y,ue=h?Y:ne;if(D===1===this.image.get(se,ue)){if(D===2)return Qe.distance(Y,ne,s,o);D++}if(w+=m,w>0){if(ne===f)break;ne+=I,w-=g}}return D===2?Qe.distance(c+C,f,s,o):NaN}findAlignmentInRegion(s,o,c,f){const h=Math.floor(f*s),g=Math.max(0,o-h),m=Math.min(this.image.getWidth()-1,o+h);if(m-g<s*3)throw new ee("Alignment top exceeds estimated module size.");const w=Math.max(0,c-h),C=Math.min(this.image.getHeight()-1,c+h);if(C-w<s*3)throw new ee("Alignment bottom exceeds estimated module size.");return new a0(this.image,g,w,m-g,C-w,s,this.resultPointCallback).find()}}class ea{constructor(){this.decoder=new MT}getDecoder(){return this.decoder}decode(s,o){let c,f;if(o!=null&&o.get(F.PURE_BARCODE)!==void 0){const w=ea.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(w,o),f=ea.NO_POINTS}else{const w=new uc(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(w.getBits(),o),f=w.getPoints()}c.getOther()instanceof Zx&&c.getOther().applyMirroredCorrection(f);const h=new re(c.getText(),c.getRawBytes(),void 0,f,le.QR_CODE,void 0),g=c.getByteSegments();g!==null&&h.putMetadata(De.BYTE_SEGMENTS,g);const m=c.getECLevel();return m!==null&&h.putMetadata(De.ERROR_CORRECTION_LEVEL,m),c.hasStructuredAppend()&&(h.putMetadata(De.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(De.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new ee;const f=this.moduleSize(o,s);let h=o[1],g=c[1],m=o[0],w=c[0];if(m>=w||h>=g)throw new ee;if(g-h!==w-m&&(w=m+(g-h),w>=s.getWidth()))throw new ee;const C=Math.round((w-m+1)/f),I=Math.round((g-h+1)/f);if(C<=0||I<=0)throw new ee;if(I!==C)throw new ee;const D=Math.floor(f/2);h+=D,m+=D;const L=m+Math.floor((C-1)*f)-w;if(L>0){if(L>D)throw new ee;m-=L}const Y=h+Math.floor((I-1)*f)-g;if(Y>0){if(Y>D)throw new ee;h-=Y}const ne=new pe(C,I);for(let se=0;se<I;se++){const ue=h+Math.floor(se*f);for(let ye=0;ye<C;ye++)s.get(m+Math.floor(ye*f),ue)&&ne.set(ye,se)}return ne}static moduleSize(s,o){const c=o.getHeight(),f=o.getWidth();let h=s[0],g=s[1],m=!0,w=0;for(;h<f&&g<c;){if(m!==o.get(h,g)){if(++w===5)break;m=!m}h++,g++}if(h===f||g===c)throw new ee;return(h-s[0])/7}}ea.NO_POINTS=new Array;class nt{PDF417Common(){}static getBitCountSum(s){return Qe.sum(s)}static toIntArray(s){if(s==null||!s.length)return nt.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const f of s)o[c++]=f;return o}static getCodeword(s){const o=k.binarySearch(nt.SYMBOL_TABLE,s&262143);return o<0?-1:(nt.CODEWORD_TABLE[o]-1)%nt.NUMBER_OF_CODEWORDS}}nt.NUMBER_OF_CODEWORDS=929,nt.MAX_CODEWORDS_IN_BARCODE=nt.NUMBER_OF_CODEWORDS-1,nt.MIN_ROWS_IN_BARCODE=3,nt.MAX_ROWS_IN_BARCODE=90,nt.MODULES_IN_CODEWORD=17,nt.MODULES_IN_STOP_PATTERN=18,nt.BARS_IN_MODULE=8,nt.EMPTY_INT_ARRAY=new Int32Array([]),nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class BT{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class mt{static detectMultiple(s,o,c){let f=s.getBlackMatrix(),h=mt.detect(c,f);return h.length||(f=f.clone(),f.rotate180(),h=mt.detect(c,f)),new BT(f,h)}static detect(s,o){const c=new Array;let f=0,h=0,g=!1;for(;f<o.getHeight();){const m=mt.findVertices(o,f,h);if(m[0]==null&&m[3]==null){if(!g)break;g=!1,h=0;for(const w of c)w[1]!=null&&(f=Math.trunc(Math.max(f,w[1].getY()))),w[3]!=null&&(f=Math.max(f,Math.trunc(w[3].getY())));f+=mt.ROW_STEP;continue}if(g=!0,c.push(m),!s)break;m[2]!=null?(h=Math.trunc(m[2].getX()),f=Math.trunc(m[2].getY())):(h=Math.trunc(m[4].getX()),f=Math.trunc(m[4].getY()))}return c}static findVertices(s,o,c){const f=s.getHeight(),h=s.getWidth(),g=new Array(8);return mt.copyToResult(g,mt.findRowsWithPattern(s,f,h,o,c,mt.START_PATTERN),mt.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),o=Math.trunc(g[4].getY())),mt.copyToResult(g,mt.findRowsWithPattern(s,f,h,o,c,mt.STOP_PATTERN),mt.INDEXES_STOP_PATTERN),g}static copyToResult(s,o,c){for(let f=0;f<c.length;f++)s[c[f]]=o[f]}static findRowsWithPattern(s,o,c,f,h,g){const m=new Array(4);let w=!1;const C=new Int32Array(g.length);for(;f<o;f+=mt.ROW_STEP){let D=mt.findGuardPattern(s,h,f,c,!1,g,C);if(D!=null){for(;f>0;){const L=mt.findGuardPattern(s,h,--f,c,!1,g,C);if(L!=null)D=L;else{f++;break}}m[0]=new He(D[0],f),m[1]=new He(D[1],f),w=!0;break}}let I=f+1;if(w){let D=0,L=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;I<o;I++){const Y=mt.findGuardPattern(s,L[0],I,c,!1,g,C);if(Y!=null&&Math.abs(L[0]-Y[0])<mt.MAX_PATTERN_DRIFT&&Math.abs(L[1]-Y[1])<mt.MAX_PATTERN_DRIFT)L=Y,D=0;else{if(D>mt.SKIPPED_ROW_COUNT_MAX)break;D++}}I-=D+1,m[2]=new He(L[0],I),m[3]=new He(L[1],I)}return I-f<mt.BARCODE_MIN_HEIGHT&&k.fill(m,null),m}static findGuardPattern(s,o,c,f,h,g,m){k.fillWithin(m,0,m.length,0);let w=o,C=0;for(;s.get(w,c)&&w>0&&C++<mt.MAX_PIXEL_DRIFT;)w--;let I=w,D=0,L=g.length;for(let Y=h;I<f;I++)if(s.get(I,c)!==Y)m[D]++;else{if(D===L-1){if(mt.patternMatchVariance(m,g,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return new Int32Array([w,I]);w+=m[0]+m[1],_.arraycopy(m,2,m,0,D-1),m[D-1]=0,m[D]=0,D--}else D++;m[D]=1,Y=!Y}return D===L-1&&mt.patternMatchVariance(m,g,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE?new Int32Array([w,I-1]):null}static patternMatchVariance(s,o,c){let f=s.length,h=0,g=0;for(let C=0;C<f;C++)h+=s[C],g+=o[C];if(h<g)return 1/0;let m=h/g;c*=m;let w=0;for(let C=0;C<f;C++){let I=s[C],D=o[C]*m,L=I>D?I-D:D-I;if(L>c)return 1/0;w+=L}return w/h}}mt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),mt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),mt.MAX_AVG_VARIANCE=.42,mt.MAX_INDIVIDUAL_VARIANCE=.8,mt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),mt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),mt.MAX_PIXEL_DRIFT=3,mt.MAX_PATTERN_DRIFT=5,mt.SKIPPED_ROW_COUNT_MAX=25,mt.ROW_STEP=5,mt.BARCODE_MIN_HEIGHT=10;class Kr{constructor(s,o){if(o.length===0)throw new v;this.field=s;let c=o.length;if(c>1&&o[0]===0){let f=1;for(;f<c&&o[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),_.arraycopy(o,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let f=0;for(let h of this.coefficients)f=this.field.add(f,h);return f}let o=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)o=this.field.add(this.field.multiply(s,o),this.coefficients[f]);return o}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let g=o;o=c,c=g}let f=new Int32Array(c.length),h=c.length-o.length;_.arraycopy(c,0,f,0,h);for(let g=h;g<c.length;g++)f[g]=this.field.add(o[g-h],c[g]);return new Kr(this.field,f)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Kr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Kr(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,f=s.coefficients,h=f.length,g=new Int32Array(c+h-1);for(let m=0;m<c;m++){let w=o[m];for(let C=0;C<h;C++)g[m+C]=this.field.add(g[m+C],this.field.multiply(w,f[C]))}return new Kr(this.field,g)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new Kr(this.field,o)}multiplyScalar(s){if(s===0)return new Kr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let f=0;f<o;f++)c[f]=this.field.multiply(this.coefficients[f],s);return new Kr(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new v;if(o===0)return new Kr(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+s);for(let h=0;h<c;h++)f[h]=this.field.multiply(this.coefficients[h],o);return new Kr(this.field,f)}toString(){let s=new de;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class UT{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new J;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class nd extends UT{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let f=0;f<s;f++)this.expTable[f]=c,c=c*o%s;for(let f=0;f<s-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new Kr(this,new Int32Array([0])),this.one=new Kr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new v;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new Kr(this,c)}}nd.PDF417_GF=new nd(nt.NUMBER_OF_CODEWORDS,3);class Qx{constructor(){this.field=nd.PDF417_GF}decode(s,o,c){let f=new Kr(this.field,s),h=new Int32Array(o),g=!1;for(let ne=o;ne>0;ne--){let se=f.evaluateAt(this.field.exp(ne));h[o-ne]=se,se!==0&&(g=!0)}if(!g)return 0;let m=this.field.getOne();if(c!=null)for(const ne of c){let se=this.field.exp(s.length-1-ne),ue=new Kr(this.field,new Int32Array([this.field.subtract(0,se),1]));m=m.multiply(ue)}let w=new Kr(this.field,h),C=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),w,o),I=C[0],D=C[1],L=this.findErrorLocations(I),Y=this.findErrorMagnitudes(D,I,L);for(let ne=0;ne<L.length;ne++){let se=s.length-1-this.field.log(L[ne]);if(se<0)throw y.getChecksumInstance();s[se]=this.field.subtract(s[se],Y[ne])}return L.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let L=s;s=o,o=L}let f=s,h=o,g=this.field.getZero(),m=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let L=f,Y=g;if(f=h,g=m,f.isZero())throw y.getChecksumInstance();h=L;let ne=this.field.getZero(),se=f.getCoefficient(f.getDegree()),ue=this.field.inverse(se);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){let ye=h.getDegree()-f.getDegree(),Le=this.field.multiply(h.getCoefficient(h.getDegree()),ue);ne=ne.add(this.field.buildMonomial(ye,Le)),h=h.subtract(f.multiplyByMonomial(ye,Le))}m=ne.multiply(g).subtract(Y).negative()}let w=m.getCoefficient(0);if(w===0)throw y.getChecksumInstance();let C=this.field.inverse(w),I=m.multiply(C),D=h.multiply(C);return[I,D]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),f=0;for(let h=1;h<this.field.getSize()&&f<o;h++)s.evaluateAt(h)===0&&(c[f]=this.field.inverse(h),f++);if(f!==o)throw y.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let f=o.getDegree(),h=new Int32Array(f);for(let C=1;C<=f;C++)h[f-C]=this.field.multiply(C,o.getCoefficient(C));let g=new Kr(this.field,h),m=c.length,w=new Int32Array(m);for(let C=0;C<m;C++){let I=this.field.inverse(c[C]),D=this.field.subtract(0,s.evaluateAt(I)),L=this.field.inverse(g.evaluateAt(I));w[C]=this.field.multiply(D,L)}return w}}class Xa{constructor(s,o,c,f,h){s instanceof Xa?this.constructor_2(s):this.constructor_1(s,o,c,f,h)}constructor_1(s,o,c,f,h){const g=o==null||c==null,m=f==null||h==null;if(g&&m)throw new ee;g?(o=new He(0,f.getY()),c=new He(0,h.getY())):m&&(f=new He(s.getWidth()-1,o.getY()),h=new He(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=f,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Xa(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let f=this.topLeft,h=this.bottomLeft,g=this.topRight,m=this.bottomRight;if(s>0){let w=c?this.topLeft:this.topRight,C=Math.trunc(w.getY()-s);C<0&&(C=0);let I=new He(w.getX(),C);c?f=I:g=I}if(o>0){let w=c?this.bottomLeft:this.bottomRight,C=Math.trunc(w.getY()+o);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let I=new He(w.getX(),C);c?h=I:m=I}return new Xa(this.image,f,h,g,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jT{constructor(s,o,c,f){this.columnCount=s,this.errorCorrectionLevel=f,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class fc{constructor(){this.buffer=""}static form(s,o){let c=-1;function f(g,m,w,C,I,D){if(g==="%%")return"%";if(o[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let L=I?parseInt(I.substr(1)):void 0,Y;switch(D){case"s":Y=o[c];break;case"c":Y=o[c][0];break;case"f":Y=parseFloat(o[c]).toFixed(g);break;case"p":Y=parseFloat(o[c]).toPrecision(g);break;case"e":Y=parseFloat(o[c]).toExponential(g);break;case"x":Y=parseInt(o[c]).toString(L||16);break;case"d":Y=parseFloat(parseInt(o[c],L||10).toPrecision(g)).toFixed(0);break}Y=typeof Y=="object"?JSON.stringify(Y):(+Y).toString(L);let ne=parseInt(w),se=w&&w[0]+""=="0"?"0":" ";for(;Y.length<ne;)Y=m!==void 0?Y+se:se+Y;return Y}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,f)}format(s,...o){this.buffer+=fc.form(s,o)}toString(){return this.buffer}}class hc{constructor(s){this.boundingBox=new Xa(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<hc.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(s)-c;if(f>=0&&(o=this.codewords[f],o!=null)||(f=this.imageRowToCodewordIndex(s)+c,f<this.codewords.length&&(o=this.codewords[f],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new fc;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}hc.MAX_NEARBY_DISTANCE=5;class dc{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,f]of this.values.entries()){const h={getKey:()=>c,getValue:()=>f};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return nt.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Jx extends hc{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),m=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,C=1,I=0;for(let D=g;D<m;D++){if(o[D]==null)continue;let L=o[D],Y=L.getRowNumber()-w;if(Y===0)I++;else if(Y===1)C=Math.max(C,I),I=1,w=L.getRowNumber();else if(Y<0||L.getRowNumber()>=s.getRowCount()||Y>D)o[D]=null;else{let ne;C>2?ne=(C-2)*Y:ne=Y;let se=ne>=D;for(let ue=1;ue<=ne&&!se;ue++)se=o[D-ue]!=null;se?o[D]=null:(w=L.getRowNumber(),I=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=o.length)continue;o[f]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),f=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),m=this.getCodewords(),w=-1;for(let C=h;C<g;C++){if(m[C]==null)continue;let I=m[C];I.setRowNumberAsRowIndicatorColumn();let D=I.getRowNumber()-w;D===0||(D===1?w=I.getRowNumber():I.getRowNumber()>=s.getRowCount()?m[C]=null:w=I.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new dc,c=new dc,f=new dc,h=new dc;for(let m of s){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let w=m.getValue()%30,C=m.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:c.setValue(w*3+1);break;case 1:h.setValue(w/3),f.setValue(w%3);break;case 2:o.setValue(w+1);break}}if(o.getValue().length===0||c.getValue().length===0||f.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<nt.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>nt.MAX_ROWS_IN_BARCODE)return null;let g=new jT(o.getValue()[0],c.getValue()[0],f.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,g),g}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let f=s[c];if(s[c]==null)continue;let h=f.getValue()%30,g=f.getRowNumber();if(g>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class pc{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=nt.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(o,f,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let h=this.detectionResultColumns[f].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let g=this.barcodeColumnCount+1;g>0&&h<this.ADJUST_ROW_NUMBER_SKIP;g--){let m=this.detectionResultColumns[g].getCodewords()[c];m!=null&&(h=pc.adjustRowNumberIfValid(f,h,m),m.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let f=o[c].getRowNumber(),h=0;for(let g=1;g<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;g++){let m=this.detectionResultColumns[g].getCodewords()[c];m!=null&&(h=pc.adjustRowNumberIfValid(f,h,m),m.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let f=c[o],h=this.detectionResultColumns[s-1].getCodewords(),g=h;this.detectionResultColumns[s+1]!=null&&(g=this.detectionResultColumns[s+1].getCodewords());let m=new Array(14);m[2]=h[o],m[3]=g[o],o>0&&(m[0]=c[o-1],m[4]=h[o-1],m[5]=g[o-1]),o>1&&(m[8]=c[o-2],m[10]=h[o-2],m[11]=g[o-2]),o<c.length-1&&(m[1]=c[o+1],m[6]=h[o+1],m[7]=g[o+1]),o<c.length-2&&(m[9]=c[o+2],m[12]=h[o+2],m[13]=g[o+2]);for(let w of m)if(pc.adjustRowNumber(f,w))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new fc;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[f].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class gc{constructor(s,o,c,f){this.rowNumber=gc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==gc.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}gc.BARCODE_ROW_UNKNOWN=-1;class Ln{static initialize(){for(let s=0;s<nt.SYMBOL_TABLE.length;s++){let o=nt.SYMBOL_TABLE[s],c=o&1;for(let f=0;f<nt.BARS_IN_MODULE;f++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,Ln.RATIOS_TABLE[s]||(Ln.RATIOS_TABLE[s]=new Array(nt.BARS_IN_MODULE)),Ln.RATIOS_TABLE[s][nt.BARS_IN_MODULE-f-1]=Math.fround(h/nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Ln.getDecodedCodewordValue(Ln.sampleBitCounts(s));return o!==-1?o:Ln.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Qe.sum(s),c=new Int32Array(nt.BARS_IN_MODULE),f=0,h=0;for(let g=0;g<nt.MODULES_IN_CODEWORD;g++){let m=o/(2*nt.MODULES_IN_CODEWORD)+g*o/nt.MODULES_IN_CODEWORD;h+s[f]<=m&&(h+=s[f],f++),c[f]++}return c}static getDecodedCodewordValue(s){let o=Ln.getBitValue(s);return nt.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let f=0;f<s[c];f++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Qe.sum(s),c=new Array(nt.BARS_IN_MODULE);if(o>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(s[g]/o);let f=Ur.MAX_VALUE,h=-1;this.bSymbolTableReady||Ln.initialize();for(let g=0;g<Ln.RATIOS_TABLE.length;g++){let m=0,w=Ln.RATIOS_TABLE[g];for(let C=0;C<nt.BARS_IN_MODULE;C++){let I=Math.fround(w[C]-c[C]);if(m+=Math.fround(I*I),m>=f)break}m<f&&(f=m,h=nt.SYMBOL_TABLE[g])}return h}}Ln.bSymbolTableReady=!1,Ln.RATIOS_TABLE=new Array(nt.SYMBOL_TABLE.length).map(N=>new Array(nt.BARS_IN_MODULE));class em{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class tm{static parseLong(s,o=void 0){return parseInt(s,o)}}class rm extends p{}rm.kind="NullPointerException";class VT{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new rm;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new S;if(c===0)return;for(let f=0;f<c;f++)this.write(s[o+f])}flush(){}close(){}}class WT extends p{}class HT extends VT{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new WT;c=T.MAX_VALUE}this.buf=k.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new S;this.ensureCapacity(this.count+c),_.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return k.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ut;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ut||(Ut={}));function nm(){if(typeof window<"u")return window.BigInt||null;if(typeof vc<"u")return vc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let o0;function ta(N){if(typeof o0>"u"&&(o0=nm()),o0===null)throw new Error("BigInt is not supported!");return o0(N)}function zT(){let N=[];N[0]=ta(1);let s=ta(900);N[1]=s;for(let o=2;o<16;o++)N[o]=N[o-1]*s;return N}class we{static decode(s,o){let c=new de(""),f=M.ISO8859_1;c.enableDecoding(f);let h=1,g=s[h++],m=new em;for(;h<s[0];){switch(g){case we.TEXT_COMPACTION_MODE_LATCH:h=we.textCompaction(s,h,c);break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:h=we.byteCompaction(g,s,f,h,c);break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case we.NUMERIC_COMPACTION_MODE_LATCH:h=we.numericCompaction(s,h,c);break;case we.ECI_CHARSET:M.getCharacterSetECIByValue(s[h++]);break;case we.ECI_GENERAL_PURPOSE:h+=2;break;case we.ECI_USER_DEFINED:h++;break;case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=we.decodeMacroBlock(s,h,m);break;case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:throw new R;default:h--,h=we.textCompaction(s,h,c);break}if(h<s.length)g=s[h++];else throw R.getFormatInstance()}if(c.length()===0)throw R.getFormatInstance();let w=new Pe(null,c.toString(),null,o);return w.setOther(m),w}static decodeMacroBlock(s,o,c){if(o+we.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw R.getFormatInstance();let f=new Int32Array(we.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<we.NUMBER_OF_SEQUENCE_CODEWORDS;m++,o++)f[m]=s[o];c.setSegmentIndex(T.parseInt(we.decodeBase900toBase10(f,we.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new de;o=we.textCompaction(s,o,h),c.setFileId(h.toString());let g=-1;for(s[o]===we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=o+1);o<s[0];)switch(s[o]){case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new de;o=we.textCompaction(s,o+1,m),c.setFileName(m.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new de;o=we.textCompaction(s,o+1,w),c.setSender(w.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new de;o=we.textCompaction(s,o+1,C),c.setAddressee(C.toString());break;case we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new de;o=we.numericCompaction(s,o+1,I),c.setSegmentCount(T.parseInt(I.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new de;o=we.numericCompaction(s,o+1,D),c.setTimestamp(tm.parseLong(D.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new de;o=we.numericCompaction(s,o+1,L),c.setChecksum(T.parseInt(L.toString()));break;case we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Y=new de;o=we.numericCompaction(s,o+1,Y),c.setFileSize(tm.parseLong(Y.toString()));break;default:throw R.getFormatInstance()}break;case we.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(g!==-1){let m=o-g;c.isLastSegment()&&m--,c.setOptionalData(k.copyOfRange(s,g,g+m))}return o}static textCompaction(s,o,c){let f=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),g=0,m=!1;for(;o<s[0]&&!m;){let w=s[o++];if(w<we.TEXT_COMPACTION_MODE_LATCH)f[g]=w/30,f[g+1]=w%30,g+=2;else switch(w){case we.TEXT_COMPACTION_MODE_LATCH:f[g++]=we.TEXT_COMPACTION_MODE_LATCH;break;case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:o--,m=!0;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=s[o++],h[g]=w,g++;break}}return we.decodeTextCompaction(f,h,g,c),o}static decodeTextCompaction(s,o,c,f){let h=Ut.ALPHA,g=Ut.ALPHA,m=0;for(;m<c;){let w=s[m],C="";switch(h){case Ut.ALPHA:if(w<26)C=String.fromCharCode(65+w);else switch(w){case 26:C=" ";break;case we.LL:h=Ut.LOWER;break;case we.ML:h=Ut.MIXED;break;case we.PS:g=h,h=Ut.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[m]);break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break;case Ut.LOWER:if(w<26)C=String.fromCharCode(97+w);else switch(w){case 26:C=" ";break;case we.AS:g=h,h=Ut.ALPHA_SHIFT;break;case we.ML:h=Ut.MIXED;break;case we.PS:g=h,h=Ut.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[m]);break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break;case Ut.MIXED:if(w<we.PL)C=we.MIXED_CHARS[w];else switch(w){case we.PL:h=Ut.PUNCT;break;case 26:C=" ";break;case we.LL:h=Ut.LOWER;break;case we.AL:h=Ut.ALPHA;break;case we.PS:g=h,h=Ut.PUNCT_SHIFT;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[m]);break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break;case Ut.PUNCT:if(w<we.PAL)C=we.PUNCT_CHARS[w];else switch(w){case we.PAL:h=Ut.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[m]);break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break;case Ut.ALPHA_SHIFT:if(h=g,w<26)C=String.fromCharCode(65+w);else switch(w){case 26:C=" ";break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break;case Ut.PUNCT_SHIFT:if(h=g,w<we.PAL)C=we.PUNCT_CHARS[w];else switch(w){case we.PAL:h=Ut.ALPHA;break;case we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(o[m]);break;case we.TEXT_COMPACTION_MODE_LATCH:h=Ut.ALPHA;break}break}C!==""&&f.append(C),m++}}static byteCompaction(s,o,c,f,h){let g=new HT,m=0,w=0,C=!1;switch(s){case we.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),D=o[f++];for(;f<o[0]&&!C;)switch(I[m++]=D,w=900*w+D,D=o[f++],D){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:f--,C=!0;break;default:if(m%5===0&&m>0){for(let L=0;L<6;++L)g.write(Number(ta(w)>>ta(8*(5-L))));w=0,m=0}break}f===o[0]&&D<we.TEXT_COMPACTION_MODE_LATCH&&(I[m++]=D);for(let L=0;L<m;L++)g.write(I[L]);break;case we.BYTE_COMPACTION_MODE_LATCH_6:for(;f<o[0]&&!C;){let L=o[f++];if(L<we.TEXT_COMPACTION_MODE_LATCH)m++,w=900*w+L;else switch(L){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.NUMERIC_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:f--,C=!0;break}if(m%5===0&&m>0){for(let Y=0;Y<6;++Y)g.write(Number(ta(w)>>ta(8*(5-Y))));w=0,m=0}}break}return h.append(ae.decode(g.toByteArray(),c)),f}static numericCompaction(s,o,c){let f=0,h=!1,g=new Int32Array(we.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let m=s[o++];if(o===s[0]&&(h=!0),m<we.TEXT_COMPACTION_MODE_LATCH)g[f]=m,f++;else switch(m){case we.TEXT_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH:case we.BYTE_COMPACTION_MODE_LATCH_6:case we.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case we.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(f%we.MAX_NUMERIC_CODEWORDS===0||m===we.NUMERIC_COMPACTION_MODE_LATCH||h)&&f>0&&(c.append(we.decodeBase900toBase10(g,f)),f=0)}return o}static decodeBase900toBase10(s,o){let c=ta(0);for(let h=0;h<o;h++)c+=we.EXP900[o-h-1]*ta(s[h]);let f=c.toString();if(f.charAt(0)!=="1")throw new R;return f.substring(1)}}we.TEXT_COMPACTION_MODE_LATCH=900,we.BYTE_COMPACTION_MODE_LATCH=901,we.NUMERIC_COMPACTION_MODE_LATCH=902,we.BYTE_COMPACTION_MODE_LATCH_6=924,we.ECI_USER_DEFINED=925,we.ECI_GENERAL_PURPOSE=926,we.ECI_CHARSET=927,we.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,we.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,we.MACRO_PDF417_TERMINATOR=922,we.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,we.MAX_NUMERIC_CODEWORDS=15,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,we.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,we.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,we.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,we.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,we.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,we.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,we.PL=25,we.LL=27,we.AS=27,we.ML=28,we.AL=28,we.PS=29,we.PAL=29,we.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,we.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",we.EXP900=nm()?zT():[],we.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(s,o,c,f,h,g,m){let w=new Xa(s,o,c,f,h),C=null,I=null,D;for(let ne=!0;;ne=!1){if(o!=null&&(C=Et.getRowIndicatorColumn(s,w,o,!0,g,m)),f!=null&&(I=Et.getRowIndicatorColumn(s,w,f,!1,g,m)),D=Et.merge(C,I),D==null)throw ee.getNotFoundInstance();let se=D.getBoundingBox();if(ne&&se!=null&&(se.getMinY()<w.getMinY()||se.getMaxY()>w.getMaxY()))w=se;else break}D.setBoundingBox(w);let L=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,C),D.setDetectionResultColumn(L,I);let Y=C!=null;for(let ne=1;ne<=L;ne++){let se=Y?ne:L-ne;if(D.getDetectionResultColumn(se)!==void 0)continue;let ue;se===0||se===L?ue=new Jx(w,se===0):ue=new hc(w),D.setDetectionResultColumn(se,ue);let ye=-1,Le=ye;for(let je=w.getMinY();je<=w.getMaxY();je++){if(ye=Et.getStartColumn(D,se,je,Y),ye<0||ye>w.getMaxX()){if(Le===-1)continue;ye=Le}let Ie=Et.detectCodeword(s,w.getMinX(),w.getMaxX(),Y,ye,je,g,m);Ie!=null&&(ue.setCodeword(je,Ie),Le=ye,g=Math.min(g,Ie.getWidth()),m=Math.max(m,Ie.getWidth()))}}return Et.createDecoderResult(D)}static merge(s,o){if(s==null&&o==null)return null;let c=Et.getBarcodeMetadata(s,o);if(c==null)return null;let f=Xa.merge(Et.adjustBoundingBox(s),Et.adjustBoundingBox(o));return new pc(c,f)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=Et.getMax(o),f=0;for(let m of o)if(f+=c-m,m>0)break;let h=s.getCodewords();for(let m=0;f>0&&h[m]==null;m++)f--;let g=0;for(let m=o.length-1;m>=0&&(g+=c-o[m],!(o[m]>0));m--);for(let m=h.length-1;g>0&&h[m]==null;m--)g--;return s.getBoundingBox().addMissingRows(f,g,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let f;return o==null||(f=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,f,h,g){let m=new Jx(o,f);for(let w=0;w<2;w++){let C=w===0?1:-1,I=Math.trunc(Math.trunc(c.getX()));for(let D=Math.trunc(Math.trunc(c.getY()));D<=o.getMaxY()&&D>=o.getMinY();D+=C){let L=Et.detectCodeword(s,0,s.getWidth(),f,I,D,h,g);L!=null&&(m.setCodeword(D,L),f?I=L.getStartX():I=L.getEndX())}}return m}static adjustCodewordCount(s,o){let c=o[0][1],f=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Et.getNumberOfECCodeWords(s.getBarcodeECLevel());if(f.length===0){if(h<1||h>nt.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();c.setValue(h)}else f[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=Et.createBarcodeMatrix(s);Et.adjustCodewordCount(s,o);let c=new Array,f=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],g=new Array;for(let w=0;w<s.getBarcodeRowCount();w++)for(let C=0;C<s.getBarcodeColumnCount();C++){let I=o[w][C+1].getValue(),D=w*s.getBarcodeColumnCount()+C;I.length===0?c.push(D):I.length===1?f[D]=I[0]:(g.push(D),h.push(I))}let m=new Array(h.length);for(let w=0;w<m.length;w++)m[w]=h[w];return Et.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),f,nt.toIntArray(c),nt.toIntArray(g),m)}static createDecoderResultFromAmbiguousValues(s,o,c,f,h){let g=new Int32Array(f.length),m=100;for(;m-- >0;){for(let w=0;w<g.length;w++)o[f[w]]=h[w][g[w]];try{return Et.decodeCodewords(o,s,c)}catch(w){if(!(w instanceof y))throw w}if(g.length===0)throw y.getChecksumInstance();for(let w=0;w<g.length;w++)if(g[w]<h[w].length-1){g[w]++;break}else if(g[w]=0,w===g.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let f=0;f<o.length;f++)for(let h=0;h<o[f].length;h++)o[f][h]=new dc;let c=0;for(let f of s.getDetectionResultColumns()){if(f!=null){for(let h of f.getCodewords())if(h!=null){let g=h.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,f){let h=f?1:-1,g=null;if(Et.isValidBarcodeColumn(s,o-h)&&(g=s.getDetectionResultColumn(o-h).getCodeword(c)),g!=null)return f?g.getEndX():g.getStartX();if(g=s.getDetectionResultColumn(o).getCodewordNearby(c),g!=null)return f?g.getStartX():g.getEndX();if(Et.isValidBarcodeColumn(s,o-h)&&(g=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),g!=null)return f?g.getEndX():g.getStartX();let m=0;for(;Et.isValidBarcodeColumn(s,o-h);){o-=h;for(let w of s.getDetectionResultColumn(o).getCodewords())if(w!=null)return(f?w.getEndX():w.getStartX())+h*m*(w.getEndX()-w.getStartX());m++}return f?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,f,h,g,m,w){h=Et.adjustCodewordStartColumn(s,o,c,f,h,g);let C=Et.getModuleBitCount(s,o,c,f,h,g);if(C==null)return null;let I,D=Qe.sum(C);if(f)I=h+D;else{for(let ne=0;ne<C.length/2;ne++){let se=C[ne];C[ne]=C[C.length-1-ne],C[C.length-1-ne]=se}I=h,h=I-D}if(!Et.checkCodewordSkew(D,m,w))return null;let L=Ln.getDecodedValue(C),Y=nt.getCodeword(L);return Y===-1?null:new gc(h,I,Et.getCodewordBucketNumber(L),Y)}static getModuleBitCount(s,o,c,f,h,g){let m=h,w=new Int32Array(8),C=0,I=f?1:-1,D=f;for(;(f?m<c:m>=o)&&C<w.length;)s.get(m,g)===D?(w[C]++,m+=I):(C++,D=!D);return C===w.length||m===(f?c:o)&&C===w.length-1?w:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,f,h,g){let m=h,w=f?-1:1;for(let C=0;C<2;C++){for(;(f?m>=o:m<c)&&f===s.get(m,g);){if(Math.abs(h-m)>Et.CODEWORD_SKEW_SIZE)return h;m+=w}w=-w,f=!f}return m}static checkCodewordSkew(s,o,c){return o-Et.CODEWORD_SKEW_SIZE<=s&&s<=c+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw R.getFormatInstance();let f=1<<o+1,h=Et.correctErrors(s,c,f);Et.verifyCodewordCount(s,f);let g=we.decode(s,""+o);return g.setErrorsCorrected(h),g.setErasures(c.length),g}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+Et.MAX_ERRORS||c<0||c>Et.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return Et.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw R.getFormatInstance();let c=s[0];if(c>s.length)throw R.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw R.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,f=o.length-1;for(;!((s&1)!==c&&(c=s&1,f--,f<0));)o[f]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new fc;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let f=0;f<s[c].length;f++){let h=s[c][f];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new Qx;class Yr{decode(s,o=null){let c=Yr.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw ee.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return Yr.decode(s,o,!0)}catch(c){throw c instanceof R||c instanceof y?ee.getNotFoundInstance():c}}static decode(s,o,c){const f=new Array,h=mt.detectMultiple(s,o,c);for(const g of h.getPoints()){const m=Et.decode(h.getBits(),g[4],g[5],g[6],g[7],Yr.getMinCodewordWidth(g),Yr.getMaxCodewordWidth(g)),w=new re(m.getText(),m.getRawBytes(),void 0,g,le.PDF_417);w.putMetadata(De.ERROR_CORRECTION_LEVEL,m.getECLevel());const C=m.getOther();C!=null&&w.putMetadata(De.PDF417_EXTRA_METADATA,C),f.push(w)}return f.map(g=>g)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?T.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Yr.getMaxWidth(s[0],s[4]),Yr.getMaxWidth(s[6],s[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.max(Yr.getMaxWidth(s[1],s[5]),Yr.getMaxWidth(s[7],s[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Yr.getMinWidth(s[0],s[4]),Yr.getMinWidth(s[6],s[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.min(Yr.getMinWidth(s[1],s[5]),Yr.getMinWidth(s[7],s[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class l0 extends p{}l0.kind="ReaderException";class im{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!n(s)&&s.get(F.TRY_HARDER)===!0,c=n(s)?null:s.get(F.POSSIBLE_FORMATS),f=new Array;if(!n(c)){const h=c.some(g=>g===le.UPC_A||g===le.UPC_E||g===le.EAN_13||g===le.EAN_8||g===le.CODABAR||g===le.CODE_39||g===le.CODE_93||g===le.CODE_128||g===le.ITF||g===le.RSS_14||g===le.RSS_EXPANDED);h&&!o&&f.push(new pi(s,this.verbose)),c.includes(le.QR_CODE)&&f.push(new ea),c.includes(le.DATA_MATRIX)&&f.push(new Js),c.includes(le.AZTEC)&&f.push(new Bt),c.includes(le.PDF_417)&&f.push(new Yr),h&&o&&f.push(new pi(s,this.verbose))}f.length===0&&(o||f.push(new pi(s,this.verbose)),f.push(new ea),f.push(new Js),f.push(new Bt),f.push(new Yr),o&&f.push(new pi(s,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new l0("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof l0)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class GT extends oe{constructor(s=null,o=500){const c=new im;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class $T extends oe{constructor(s=500){super(new Yr,s)}}class XT extends oe{constructor(s=500){super(new ea,s)}}var id;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(id||(id={}));var Nr=id;class sd{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Ke(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const f=this.field;for(let h=o.length;h<=s;h++){const g=c.multiply(new Ke(f,Int32Array.from([1,f.exp(h-1+f.getGeneratorBase())])));o.push(g),c=g}}return o[s]}encode(s,o){if(o===0)throw new v("No error correction bytes");const c=s.length-o;if(c<=0)throw new v("No data bytes provided");const f=this.buildGenerator(o),h=new Int32Array(c);_.arraycopy(s,0,h,0,c);let g=new Ke(this.field,h);g=g.multiplyByMonomial(o,1);const w=g.divide(f)[1].getCoefficients(),C=o-w.length;for(let I=0;I<C;I++)s[c+I]=0;_.arraycopy(w,0,s,c+C,w.length)}}class dr{constructor(){}static applyMaskPenaltyRule1(s){return dr.applyMaskPenaltyRule1Internal(s,!0)+dr.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let g=0;g<h-1;g++){const m=c[g];for(let w=0;w<f-1;w++){const C=m[w];C===m[w+1]&&C===c[g+1][w]&&C===c[g+1][w+1]&&o++}}return dr.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let g=0;g<h;g++)for(let m=0;m<f;m++){const w=c[g];m+6<f&&w[m]===1&&w[m+1]===0&&w[m+2]===1&&w[m+3]===1&&w[m+4]===1&&w[m+5]===0&&w[m+6]===1&&(dr.isWhiteHorizontal(w,m-4,m)||dr.isWhiteHorizontal(w,m+7,m+11))&&o++,g+6<h&&c[g][m]===1&&c[g+1][m]===0&&c[g+2][m]===1&&c[g+3][m]===1&&c[g+4][m]===1&&c[g+5][m]===0&&c[g+6][m]===1&&(dr.isWhiteVertical(c,m,g-4,g)||dr.isWhiteVertical(c,m,g+7,g+11))&&o++}return o*dr.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let f=o;f<c;f++)if(s[f]===1)return!1;return!0}static isWhiteVertical(s,o,c,f){c=Math.max(c,0),f=Math.min(f,s.length);for(let h=c;h<f;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),f=s.getWidth(),h=s.getHeight();for(let w=0;w<h;w++){const C=c[w];for(let I=0;I<f;I++)C[I]===1&&o++}const g=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-g)*10/g)*dr.N4}static getDataMaskBit(s,o,c){let f,h;switch(s){case 0:f=c+o&1;break;case 1:f=c&1;break;case 2:f=o%3;break;case 3:f=(c+o)%3;break;case 4:f=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,f=(h&1)+h%3;break;case 6:h=c*o,f=(h&1)+h%3&1;break;case 7:h=c*o,f=h%3+(c+o&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return f===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const f=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),g=s.getArray();for(let m=0;m<f;m++){let w=0,C=-1;for(let I=0;I<h;I++){const D=o?g[m][I]:g[I][m];D===C?w++:(w>=5&&(c+=dr.N1+(w-5)),w=1,C=D)}w>=5&&(c+=dr.N1+(w-5))}return c}}dr.N1=3,dr.N2=3,dr.N3=40,dr.N4=10;class c0{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let f=0;f!==o;f++)c[f]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)k.fill(o,s)}equals(s){if(!(s instanceof c0))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,f=this.height;c<f;++c){const h=this.bytes[c],g=o.bytes[c];for(let m=0,w=this.width;m<w;++m)if(h[m]!==g[m])return!1}return!0}toString(){const s=new de;for(let o=0,c=this.height;o<c;++o){const f=this.bytes[o];for(let h=0,g=this.width;h<g;++h)switch(f[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Ka{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new de;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Ka.NUM_MASK_PATTERNS}}Ka.NUM_MASK_PATTERNS=8;class jt extends p{}jt.kind="WriterException";class et{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,f,h){et.clearMatrix(h),et.embedBasicPatterns(c,h),et.embedTypeInfo(o,f,h),et.maybeEmbedVersionInfo(c,h),et.embedDataBits(s,f,h)}static embedBasicPatterns(s,o){et.embedPositionDetectionPatternsAndSeparators(o),et.embedDarkDotAtLeftBottomCorner(o),et.maybeEmbedPositionAdjustmentPatterns(s,o),et.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const f=new O;et.makeTypeInfoBits(s,o,f);for(let h=0,g=f.getSize();h<g;++h){const m=f.get(f.getSize()-1-h),w=et.TYPE_INFO_COORDINATES[h],C=w[0],I=w[1];if(c.setBoolean(C,I,m),h<8){const D=c.getWidth()-h-1;c.setBoolean(D,8,m)}else{const L=c.getHeight()-7+(h-8);c.setBoolean(8,L,m)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new O;et.makeVersionInfoBits(s,c);let f=6*3-1;for(let h=0;h<6;++h)for(let g=0;g<3;++g){const m=c.get(f);f--,o.setBoolean(h,o.getHeight()-11+g,m),o.setBoolean(o.getHeight()-11+g,h,m)}}static embedDataBits(s,o,c){let f=0,h=-1,g=c.getWidth()-1,m=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);m>=0&&m<c.getHeight();){for(let w=0;w<2;++w){const C=g-w;if(!et.isEmpty(c.get(C,m)))continue;let I;f<s.getSize()?(I=s.get(f),++f):I=!1,o!==255&&dr.getDataMaskBit(o,C,m)&&(I=!I),c.setBoolean(C,m,I)}m+=h}h=-h,m+=h,g-=2}if(f!==s.getSize())throw new jt("Not all bits consumed: "+f+"/"+s.getSize())}static findMSBSet(s){return 32-T.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new v("0 polynomial");const c=et.findMSBSet(o);for(s<<=c-1;et.findMSBSet(s)>=c;)s^=o<<et.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Ka.isValidMaskPattern(o))throw new jt("Invalid mask pattern");const f=s.getBits()<<3|o;c.appendBits(f,5);const h=et.calculateBCHCode(f,et.TYPE_INFO_POLY);c.appendBits(h,10);const g=new O;if(g.appendBits(et.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new jt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=et.calculateBCHCode(s.getVersionNumber(),et.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new jt("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;et.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),et.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new jt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let f=0;f<8;++f){if(!et.isEmpty(c.get(s+f,o)))throw new jt;c.setNumber(s+f,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let f=0;f<7;++f){if(!et.isEmpty(c.get(s,o+f)))throw new jt;c.setNumber(s,o+f,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let f=0;f<5;++f){const h=et.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)c.setNumber(s+g,o+f,h[g])}}static embedPositionDetectionPattern(s,o,c){for(let f=0;f<7;++f){const h=et.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)c.setNumber(s+g,o+f,h[g])}}static embedPositionDetectionPatternsAndSeparators(s){const o=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,s),et.embedPositionDetectionPattern(s.getWidth()-o,0,s),et.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;et.embedHorizontalSeparationPattern(0,c-1,s),et.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),et.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const f=7;et.embedVerticalSeparationPattern(f,0,s),et.embedVerticalSeparationPattern(s.getHeight()-f-1,0,s),et.embedVerticalSeparationPattern(f,s.getHeight()-f,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,f=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,g=f.length;h!==g;h++){const m=f[h];if(m>=0)for(let w=0;w!==g;w++){const C=f[w];C>=0&&et.isEmpty(o.get(C,m))&&et.embedPositionAdjustmentPattern(C-2,m-2,o)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class KT{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Zt{constructor(){}static calculateMaskPenalty(s){return dr.applyMaskPenaltyRule1(s)+dr.applyMaskPenaltyRule2(s)+dr.applyMaskPenaltyRule3(s)+dr.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let f=Zt.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(Nr.CHARACTER_SET)!==void 0;h&&(f=c.get(Nr.CHARACTER_SET).toString());const g=this.chooseMode(s,f),m=new O;if(g===Je.BYTE&&(h||Zt.DEFAULT_BYTE_MODE_ENCODING!==f)){const je=M.getCharacterSetECIByName(f);je!==void 0&&this.appendECI(je,m)}this.appendModeInfo(g,m);const w=new O;this.appendBytes(s,g,w,f);let C;if(c!==null&&c.get(Nr.QR_VERSION)!==void 0){const je=Number.parseInt(c.get(Nr.QR_VERSION).toString(),10);C=qe.getVersionForNumber(je);const Ie=this.calculateBitsNeeded(g,m,w,C);if(!this.willFit(Ie,C,o))throw new jt("Data too big for requested version")}else C=this.recommendVersion(o,g,m,w);const I=new O;I.appendBitArray(m);const D=g===Je.BYTE?w.getSizeInBytes():s.length;this.appendLengthInfo(D,C,g,I),I.appendBitArray(w);const L=C.getECBlocksForLevel(o),Y=C.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(Y,I);const ne=this.interleaveWithECBytes(I,C.getTotalCodewords(),Y,L.getNumBlocks()),se=new Ka;se.setECLevel(o),se.setMode(g),se.setVersion(C);const ue=C.getDimensionForVersion(),ye=new c0(ue,ue),Le=this.chooseMaskPattern(ne,o,C,ye);return se.setMaskPattern(Le),et.buildMatrix(ne,o,C,Le,ye),se.setMatrix(ye),se}static recommendVersion(s,o,c,f){const h=this.calculateBitsNeeded(o,c,f,qe.getVersionForNumber(1)),g=this.chooseVersion(h,s),m=this.calculateBitsNeeded(o,c,f,g);return this.chooseVersion(m,s)}static calculateBitsNeeded(s,o,c,f){return o.getSize()+s.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(s){return s<Zt.ALPHANUMERIC_TABLE.length?Zt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(M.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Je.KANJI;let c=!1,f=!1;for(let h=0,g=s.length;h<g;++h){const m=s.charAt(h);if(Zt.isDigit(m))c=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)f=!0;else return Je.BYTE}return f?Je.ALPHANUMERIC:c?Je.NUMERIC:Je.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ae.encode(s,M.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const h=o[f]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,f){let h=Number.MAX_SAFE_INTEGER,g=-1;for(let m=0;m<Ka.NUM_MASK_PATTERNS;m++){et.buildMatrix(s,o,c,m,f);let w=this.calculateMaskPenalty(f);w<h&&(h=w,g=m)}return g}static chooseVersion(s,o){for(let c=1;c<=40;c++){const f=qe.getVersionForNumber(c);if(Zt.willFit(s,f,o))return f}throw new jt("Data too big")}static willFit(s,o,c){const f=o.getTotalCodewords(),g=o.getECBlocksForLevel(c).getTotalECCodewords(),m=f-g,w=(s+7)/8;return m>=w}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new jt("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let g=0;g<4&&o.getSize()<c;++g)o.appendBit(!1);const f=o.getSize()&7;if(f>0)for(let g=f;g<8;g++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let g=0;g<h;++g)o.appendBits(g&1?17:236,8);if(o.getSize()!==c)throw new jt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,f,h,g){if(f>=c)throw new jt("Block ID too large");const m=s%c,w=c-m,C=Math.floor(s/c),I=C+1,D=Math.floor(o/c),L=D+1,Y=C-D,ne=I-L;if(Y!==ne)throw new jt("EC bytes mismatch");if(c!==w+m)throw new jt("RS blocks mismatch");if(s!==(D+Y)*w+(L+ne)*m)throw new jt("Total bytes mismatch");f<w?(h[0]=D,g[0]=Y):(h[0]=L,g[0]=ne)}static interleaveWithECBytes(s,o,c,f){if(s.getSizeInBytes()!==c)throw new jt("Number of bits and data bytes does not match");let h=0,g=0,m=0;const w=new Array;for(let I=0;I<f;++I){const D=new Int32Array(1),L=new Int32Array(1);Zt.getNumDataBytesAndNumECBytesForBlockID(o,c,f,I,D,L);const Y=D[0],ne=new Uint8Array(Y);s.toBytes(8*h,ne,0,Y);const se=Zt.generateECBytes(ne,L[0]);w.push(new KT(ne,se)),g=Math.max(g,Y),m=Math.max(m,se.length),h+=D[0]}if(c!==h)throw new jt("Data bytes does not match offset");const C=new O;for(let I=0;I<g;++I)for(const D of w){const L=D.getDataBytes();I<L.length&&C.appendBits(L[I],8)}for(let I=0;I<m;++I)for(const D of w){const L=D.getErrorCorrectionBytes();I<L.length&&C.appendBits(L[I],8)}if(o!==C.getSizeInBytes())throw new jt("Interleaving error: "+o+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(s,o){const c=s.length,f=new Int32Array(c+o);for(let g=0;g<c;g++)f[g]=s[g]&255;new sd($e.QR_CODE_FIELD_256).encode(f,o);const h=new Uint8Array(o);for(let g=0;g<o;g++)h[g]=f[c+g];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,f){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new jt(s+" is bigger than "+((1<<h)-1));f.appendBits(s,h)}static appendBytes(s,o,c,f){switch(o){case Je.NUMERIC:Zt.appendNumericBytes(s,c);break;case Je.ALPHANUMERIC:Zt.appendAlphanumericBytes(s,c);break;case Je.BYTE:Zt.append8BitBytes(s,c,f);break;case Je.KANJI:Zt.appendKanjiBytes(s,c);break;default:throw new jt("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=Zt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=Zt.getDigit(s.charAt(f));if(f+2<c){const g=Zt.getDigit(s.charAt(f+1)),m=Zt.getDigit(s.charAt(f+2));o.appendBits(h*100+g*10+m,10),f+=3}else if(f+1<c){const g=Zt.getDigit(s.charAt(f+1));o.appendBits(h*10+g,7),f+=2}else o.appendBits(h,4),f++}}static appendAlphanumericBytes(s,o){const c=s.length;let f=0;for(;f<c;){const h=Zt.getAlphanumericCode(s.charCodeAt(f));if(h===-1)throw new jt;if(f+1<c){const g=Zt.getAlphanumericCode(s.charCodeAt(f+1));if(g===-1)throw new jt;o.appendBits(h*45+g,11),f+=2}else o.appendBits(h,6),f++}}static append8BitBytes(s,o,c){let f;try{f=ae.encode(s,c)}catch(h){throw new jt(h)}for(let h=0,g=f.length;h!==g;h++){const m=f[h];o.appendBits(m,8)}}static appendKanjiBytes(s,o){let c;try{c=ae.encode(s,M.SJIS)}catch(h){throw new jt(h)}const f=c.length;for(let h=0;h<f;h+=2){const g=c[h]&255,m=c[h+1]&255,w=g<<8&4294967295|m;let C=-1;if(w>=33088&&w<=40956?C=w-33088:w>=57408&&w<=60351&&(C=w-49472),C===-1)throw new jt("Invalid byte sequence");const I=(C>>8)*192+(C&255);o.appendBits(I,13)}}static appendECI(s,o){o.appendBits(Je.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}Zt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Zt.DEFAULT_BYTE_MODE_ENCODING=M.UTF8.getName();class Ya{write(s,o,c,f=null){if(s.length===0)throw new v("Found empty contents");if(o<0||c<0)throw new v("Requested dimensions are too small: "+o+"x"+c);let h=zt.L,g=Ya.QUIET_ZONE_SIZE;f!==null&&(f.get(Nr.ERROR_CORRECTION)!==void 0&&(h=zt.fromString(f.get(Nr.ERROR_CORRECTION).toString())),f.get(Nr.MARGIN)!==void 0&&(g=Number.parseInt(f.get(Nr.MARGIN).toString(),10)));const m=Zt.encode(s,h,f);return this.renderResult(m,o,c,g)}writeToDom(s,o,c,f,h=null){typeof s=="string"&&(s=document.querySelector(s));const g=this.write(o,c,f,h);s&&s.appendChild(g)}renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new dt;const g=h.getWidth(),m=h.getHeight(),w=g+f*2,C=m+f*2,I=Math.max(o,w),D=Math.max(c,C),L=Math.min(Math.floor(I/w),Math.floor(D/C)),Y=Math.floor((I-g*L)/2),ne=Math.floor((D-m*L)/2),se=this.createSVGElement(I,D);for(let ue=0,ye=ne;ue<m;ue++,ye+=L)for(let Le=0,je=Y;Le<g;Le++,je+=L)if(h.get(Le,ue)===1){const Ie=this.createSvgRectElement(je,ye,L,L);se.appendChild(Ie)}return se}createSVGElement(s,o){const c=document.createElementNS(Ya.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,f){const h=document.createElementNS(Ya.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",f.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Ya.QUIET_ZONE_SIZE=4,Ya.SVG_NS="http://www.w3.org/2000/svg";class jo{encode(s,o,c,f,h){if(s.length===0)throw new v("Found empty contents");if(o!==le.QR_CODE)throw new v("Can only encode QR_CODE, but got "+o);if(c<0||f<0)throw new v(`Requested dimensions are too small: ${c}x${f}`);let g=zt.L,m=jo.QUIET_ZONE_SIZE;h!==null&&(h.get(Nr.ERROR_CORRECTION)!==void 0&&(g=zt.fromString(h.get(Nr.ERROR_CORRECTION).toString())),h.get(Nr.MARGIN)!==void 0&&(m=Number.parseInt(h.get(Nr.MARGIN).toString(),10)));const w=Zt.encode(s,g,h);return jo.renderResult(w,c,f,m)}static renderResult(s,o,c,f){const h=s.getMatrix();if(h===null)throw new dt;const g=h.getWidth(),m=h.getHeight(),w=g+f*2,C=m+f*2,I=Math.max(o,w),D=Math.max(c,C),L=Math.min(Math.floor(I/w),Math.floor(D/C)),Y=Math.floor((I-g*L)/2),ne=Math.floor((D-m*L)/2),se=new pe(I,D);for(let ue=0,ye=ne;ue<m;ue++,ye+=L)for(let Le=0,je=Y;Le<g;Le++,je+=L)h.get(Le,ue)===1&&se.setRegion(je,ye,L,L);return se}}jo.QUIET_ZONE_SIZE=4;class YT{encode(s,o,c,f,h){let g;switch(o){case le.QR_CODE:g=new jo;break;default:throw new v("No encoder available for format "+o)}return g.encode(s,o,c,f,h)}}class rs extends ve{constructor(s,o,c,f,h,g,m,w){if(super(g,m),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=f,this.top=h,f+g>o||h+m>c)throw new v("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(g,m)}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return _.arraycopy(this.yuvData,h,f,0,c),f;for(let g=0;g<o;g++){const m=g*s;_.arraycopy(this.yuvData,h,f,m,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new rs(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,f,!1)}renderThumbnail(){const s=this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),f=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let g=0;g<o;g++){const m=g*s;for(let w=0;w<s;w++){const C=f[h+w*rs.THUMBNAIL_SCALE_FACTOR]&255;c[m+w]=4278190080|C*65793}h+=this.dataWidth*rs.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/rs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/rs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let f=0,h=this.top*this.dataWidth+this.left;f<o;f++,h+=this.dataWidth){const g=h+s/2;for(let m=h,w=h+s-1;m<g;m++,w--){const C=c[m];c[m]=c[w],c[w]=C}}}invert(){return new Q(this)}}rs.THUMBNAIL_SCALE_FACTOR=2;class ad extends ve{constructor(s,o,c,f,h,g,m){if(super(o,c),this.dataWidth=f,this.dataHeight=h,this.left=g,this.top=m,s.BYTES_PER_ELEMENT===4){const w=o*c,C=new Uint8ClampedArray(w);for(let I=0;I<w;I++){const D=s[I],L=D>>16&255,Y=D>>7&510,ne=D&255;C[I]=(L+Y+ne)/4&255}this.luminances=C}else this.luminances=s;if(f===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const f=(s+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,f,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,f=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return _.arraycopy(this.luminances,h,f,0,c),f;for(let g=0;g<o;g++){const m=g*s;_.arraycopy(this.luminances,h,f,m,s),h+=this.dataWidth}return f}isCropSupported(){return!0}crop(s,o,c,f){return new ad(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new Q(this)}}class sm extends M{static forName(s){return this.getCharacterSetECIByName(s)}}class od{}od.ISO_8859_1=M.ISO8859_1;class am{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class om{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class qT{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Vo extends qT{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Vo(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Vo(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+T.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class ld extends Vo{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new ld(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ZT(N,s,o){return new ld(N,s,o)}function xc(N,s,o){return new Vo(N,s,o)}const QT=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ra=0,u0=1,mi=2,lm=3,ns=4,JT=new Vo(null,0,0),cd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function e4(N){for(let s of N)k.fill(s,-1);return N[ra][ns]=0,N[u0][ns]=0,N[u0][ra]=28,N[lm][ns]=0,N[mi][ns]=0,N[mi][ra]=15,N}const cm=e4(k.createInt32Array(6,6));class is{constructor(s,o,c,f){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,f=this.token;if(s!==this.mode){let g=cd[this.mode][s];f=xc(f,g&65535,g>>16),c+=g>>16}let h=s===mi?4:5;return f=xc(f,o,h),new is(f,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,f=this.mode===mi?4:5;return c=xc(c,cm[this.mode][s],f),c=xc(c,o,5),new is(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,f=this.bitCount;if(this.mode===ns||this.mode===mi){let m=cd[c][ra];o=xc(o,m&65535,m>>16),f+=m>>16,c=ra}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new is(o,c,this.binaryShiftByteCount+1,f+h);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(s+1)),g}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=ZT(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new is(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(cd[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=is.calculateBinaryShiftCost(s)-is.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let f=this.endBinaryShift(s.length).token;f!==null;f=f.getPrevious())o.unshift(f);let c=new O;for(const f of o)f.appendTo(c,s);return c}toString(){return q.format("%s bits=%d bytes=%d",QT[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}is.INITIAL_STATE=new is(JT,ra,0,0);function t4(N){const s=q.getCharCode(" "),o=q.getCharCode("."),c=q.getCharCode(",");N[ra][s]=1;const f=q.getCharCode("Z"),h=q.getCharCode("A");for(let L=h;L<=f;L++)N[ra][L]=L-h+2;N[u0][s]=1;const g=q.getCharCode("z"),m=q.getCharCode("a");for(let L=m;L<=g;L++)N[u0][L]=L-m+2;N[mi][s]=1;const w=q.getCharCode("9"),C=q.getCharCode("0");for(let L=C;L<=w;L++)N[mi][L]=L-C+2;N[mi][c]=12,N[mi][o]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<I.length;L++)N[lm][q.getCharCode(I[L])]=L;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<D.length;L++)q.getCharCode(D[L])>0&&(N[ns][q.getCharCode(D[L])]=L);return N}const ud=t4(k.createInt32Array(5,256));class mc{constructor(s){this.text=s}encode(){const s=q.getCharCode(" "),o=q.getCharCode(`
`);let c=om.singletonList(is.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let g,m=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case q.getCharCode("\r"):g=m===o?2:0;break;case q.getCharCode("."):g=m===s?3:0;break;case q.getCharCode(","):g=m===s?4:0;break;case q.getCharCode(":"):g=m===s?5:0;break;default:g=0}g>0?(c=mc.updateStateListForPair(c,h,g),h++):c=this.updateStateListForChar(c,h)}return om.min(c,(h,g)=>h.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let f of s)this.updateStateForChar(f,o,c);return mc.simplifyStates(c)}updateStateForChar(s,o,c){let f=this.text[o]&255,h=ud[s.getMode()][f]>0,g=null;for(let m=0;m<=ns;m++){let w=ud[m][f];if(w>0){if(g==null&&(g=s.endBinaryShift(o)),!h||m===s.getMode()||m===mi){const C=g.latchAndAppend(m,w);c.push(C)}if(!h&&cm[s.getMode()][m]>=0){const C=g.shiftAndAppend(m,w);c.push(C)}}}if(s.getBinaryShiftByteCount()>0||ud[s.getMode()][f]===0){let m=s.addBinaryShiftChar(o);c.push(m)}}static updateStateListForPair(s,o,c){const f=[];for(let h of s)this.updateStateForPair(h,o,c,f);return this.simplifyStates(f)}static updateStateForPair(s,o,c,f){let h=s.endBinaryShift(o);if(f.push(h.latchAndAppend(ns,c)),s.getMode()!==ns&&f.push(h.shiftAndAppend(ns,c)),c===3||c===4){let g=h.latchAndAppend(mi,16-c).latchAndAppend(mi,1);f.push(g)}if(s.getBinaryShiftByteCount()>0){let g=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);f.push(g)}}static simplifyStates(s){let o=[];for(const c of s){let f=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(g=>g!==h))}f&&o.push(c)}return o}}class Nt{constructor(){}static encodeBytes(s){return Nt.encode(s,Nt.DEFAULT_EC_PERCENT,Nt.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let f=new mc(s).encode(),h=T.truncDivision(f.getSize()*o,100)+11,g=f.getSize()+h,m,w,C,I,D;if(c!==Nt.DEFAULT_AZTEC_LAYERS){if(m=c<0,w=Math.abs(c),w>(m?Nt.MAX_NB_BITS_COMPACT:Nt.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",c));C=Nt.totalBitsInLayer(w,m),I=Nt.WORD_SIZE[w];let Ie=C-C%I;if(D=Nt.stuffBits(f,I),D.getSize()+h>Ie)throw new v("Data to large for user specified layer");if(m&&D.getSize()>I*64)throw new v("Data to large for user specified layer")}else{I=0,D=null;for(let Ie=0;;Ie++){if(Ie>Nt.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(m=Ie<=3,w=m?Ie+1:Ie,C=Nt.totalBitsInLayer(w,m),g>C)continue;(D==null||I!==Nt.WORD_SIZE[w])&&(I=Nt.WORD_SIZE[w],D=Nt.stuffBits(f,I));let Tt=C-C%I;if(!(m&&D.getSize()>I*64)&&D.getSize()+h<=Tt)break}}let L=Nt.generateCheckWords(D,C,I),Y=D.getSize()/I,ne=Nt.generateModeMessage(m,w,Y),se=(m?11:14)+w*4,ue=new Int32Array(se),ye;if(m){ye=se;for(let Ie=0;Ie<ue.length;Ie++)ue[Ie]=Ie}else{ye=se+1+2*T.truncDivision(T.truncDivision(se,2)-1,15);let Ie=T.truncDivision(se,2),Tt=T.truncDivision(ye,2);for(let pt=0;pt<Ie;pt++){let Bn=pt+T.truncDivision(pt,15);ue[Ie-pt-1]=Tt-Bn-1,ue[Ie+pt]=Tt+Bn+1}}let Le=new pe(ye);for(let Ie=0,Tt=0;Ie<w;Ie++){let pt=(w-Ie)*4+(m?9:12);for(let Bn=0;Bn<pt;Bn++){let Oi=Bn*2;for(let Un=0;Un<2;Un++)L.get(Tt+Oi+Un)&&Le.set(ue[Ie*2+Un],ue[Ie*2+Bn]),L.get(Tt+pt*2+Oi+Un)&&Le.set(ue[Ie*2+Bn],ue[se-1-Ie*2-Un]),L.get(Tt+pt*4+Oi+Un)&&Le.set(ue[se-1-Ie*2-Un],ue[se-1-Ie*2-Bn]),L.get(Tt+pt*6+Oi+Un)&&Le.set(ue[se-1-Ie*2-Bn],ue[Ie*2+Un])}Tt+=pt*8}if(Nt.drawModeMessage(Le,m,ye,ne),m)Nt.drawBullsEye(Le,T.truncDivision(ye,2),5);else{Nt.drawBullsEye(Le,T.truncDivision(ye,2),7);for(let Ie=0,Tt=0;Ie<T.truncDivision(se,2)-1;Ie+=15,Tt+=16)for(let pt=T.truncDivision(ye,2)&1;pt<ye;pt+=2)Le.set(T.truncDivision(ye,2)-Tt,pt),Le.set(T.truncDivision(ye,2)+Tt,pt),Le.set(pt,T.truncDivision(ye,2)-Tt),Le.set(pt,T.truncDivision(ye,2)+Tt)}let je=new am;return je.setCompact(m),je.setSize(ye),je.setLayers(w),je.setCodeWords(Y),je.setMatrix(Le),je}static drawBullsEye(s,o,c){for(let f=0;f<c;f+=2)for(let h=o-f;h<=o+f;h++)s.set(h,o-f),s.set(h,o+f),s.set(o-f,h),s.set(o+f,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let f=new O;return s?(f.appendBits(o-1,2),f.appendBits(c-1,6),f=Nt.generateCheckWords(f,28,4)):(f.appendBits(o-1,5),f.appendBits(c-1,11),f=Nt.generateCheckWords(f,40,4)),f}static drawModeMessage(s,o,c,f){let h=T.truncDivision(c,2);if(o)for(let g=0;g<7;g++){let m=h-3+g;f.get(g)&&s.set(m,h-5),f.get(g+7)&&s.set(h+5,m),f.get(20-g)&&s.set(m,h+5),f.get(27-g)&&s.set(h-5,m)}else for(let g=0;g<10;g++){let m=h-5+g+T.truncDivision(g,5);f.get(g)&&s.set(m,h-7),f.get(g+10)&&s.set(h+7,m),f.get(29-g)&&s.set(m,h+7),f.get(39-g)&&s.set(h-7,m)}}static generateCheckWords(s,o,c){let f=s.getSize()/c,h=new sd(Nt.getGF(c)),g=T.truncDivision(o,c),m=Nt.bitsToWords(s,c,g);h.encode(m,g-f);let w=o%c,C=new O;C.appendBits(0,w);for(const I of Array.from(m))C.appendBits(I,c);return C}static bitsToWords(s,o,c){let f=new Int32Array(c),h,g;for(h=0,g=s.getSize()/o;h<g;h++){let m=0;for(let w=0;w<o;w++)m|=s.get(h*o+w)?1<<o-w-1:0;f[h]=m}return f}static getGF(s){switch(s){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,o){let c=new O,f=s.getSize(),h=(1<<o)-2;for(let g=0;g<f;g+=o){let m=0;for(let w=0;w<o;w++)(g+w>=f||s.get(g+w))&&(m|=1<<o-1-w);(m&h)===h?(c.appendBits(m&h,o),g--):m&h?c.appendBits(m,o):(c.appendBits(m|1,o),g--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}Nt.DEFAULT_EC_PERCENT=33,Nt.DEFAULT_AZTEC_LAYERS=0,Nt.MAX_NB_BITS=32,Nt.MAX_NB_BITS_COMPACT=4,Nt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class f0{encode(s,o,c,f){return this.encodeWithHints(s,o,c,f,null)}encodeWithHints(s,o,c,f,h){let g=od.ISO_8859_1,m=Nt.DEFAULT_EC_PERCENT,w=Nt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Nr.CHARACTER_SET)&&(g=sm.forName(h.get(Nr.CHARACTER_SET).toString())),h.has(Nr.ERROR_CORRECTION)&&(m=T.parseInt(h.get(Nr.ERROR_CORRECTION).toString())),h.has(Nr.AZTEC_LAYERS)&&(w=T.parseInt(h.get(Nr.AZTEC_LAYERS).toString()))),f0.encodeLayers(s,o,c,f,g,m,w)}static encodeLayers(s,o,c,f,h,g,m){if(o!==le.AZTEC)throw new v("Can only encode AZTEC, but got "+o);let w=Nt.encode(q.getBytes(s,h),g,m);return f0.renderResult(w,c,f)}static renderResult(s,o,c){let f=s.getMatrix();if(f==null)throw new dt;let h=f.getWidth(),g=f.getHeight(),m=Math.max(o,h),w=Math.max(c,g),C=Math.min(m/h,w/g),I=(m-h*C)/2,D=(w-g*C)/2,L=new pe(m,w);for(let Y=0,ne=D;Y<g;Y++,ne+=C)for(let se=0,ue=I;se<h;se++,ue+=C)f.get(se,Y)&&L.setRegion(ue,ne,C,C);return L}}r.AbstractExpandedDecoder=G,r.ArgumentException=x,r.ArithmeticException=J,r.AztecCode=am,r.AztecCodeReader=Bt,r.AztecCodeWriter=f0,r.AztecDecoder=Ze,r.AztecDetector=ot,r.AztecDetectorResult=Rr,r.AztecEncoder=Nt,r.AztecHighLevelEncoder=mc,r.AztecPoint=Lt,r.BarcodeFormat=le,r.Binarizer=A,r.BinaryBitmap=E,r.BitArray=O,r.BitMatrix=pe,r.BitSource=Jh,r.BrowserAztecCodeReader=Xr,r.BrowserBarcodeReader=$a,r.BrowserCodeReader=oe,r.BrowserDatamatrixCodeReader=PT,r.BrowserMultiFormatReader=GT,r.BrowserPDF417Reader=$T,r.BrowserQRCodeReader=XT,r.BrowserQRCodeSvgWriter=Ya,r.CharacterSetECI=M,r.ChecksumException=y,r.Code128Reader=Oe,r.Code39Reader=Yt,r.DataMatrixDecodedBitStreamParser=Qs,r.DataMatrixReader=Js,r.DecodeHintType=F,r.DecoderResult=Pe,r.DefaultGridSampler=An,r.DetectorResult=Yn,r.EAN13Reader=qn,r.EncodeHintType=Nr,r.Exception=p,r.FormatException=R,r.GenericGF=$e,r.GenericGFPoly=Ke,r.GlobalHistogramBinarizer=_e,r.GridSampler=_n,r.GridSamplerInstance=Wt,r.HTMLCanvasElementLuminanceSource=Ce,r.HybridBinarizer=xe,r.ITFReader=At,r.IllegalArgumentException=v,r.IllegalStateException=dt,r.InvertedLuminanceSource=Q,r.LuminanceSource=ve,r.MathUtils=Qe,r.MultiFormatOneDReader=pi,r.MultiFormatReader=im,r.MultiFormatWriter=YT,r.NotFoundException=ee,r.OneDReader=ct,r.PDF417DecodedBitStreamParser=we,r.PDF417DecoderErrorCorrection=Qx,r.PDF417Reader=Yr,r.PDF417ResultMetadata=em,r.PerspectiveTransform=Ot,r.PlanarYUVLuminanceSource=rs,r.QRCodeByteMatrix=c0,r.QRCodeDataMask=gi,r.QRCodeDecodedBitStreamParser=ar,r.QRCodeDecoderErrorCorrectionLevel=zt,r.QRCodeDecoderFormatInformation=ln,r.QRCodeEncoder=Zt,r.QRCodeEncoderQRCode=Ka,r.QRCodeMaskUtil=dr,r.QRCodeMatrixUtil=et,r.QRCodeMode=Je,r.QRCodeReader=ea,r.QRCodeVersion=qe,r.QRCodeWriter=jo,r.RGBLuminanceSource=ad,r.RSS14Reader=vt,r.RSSExpandedReader=Ee,r.ReaderException=l0,r.ReedSolomonDecoder=it,r.ReedSolomonEncoder=sd,r.ReedSolomonException=lt,r.Result=re,r.ResultMetadataType=De,r.ResultPoint=He,r.StringUtils=q,r.UnsupportedOperationException=te,r.VideoInputDevice=Be,r.WhiteRectangleDetector=Kt,r.WriterException=jt,r.ZXingArrays=k,r.ZXingCharset=sm,r.ZXingInteger=T,r.ZXingStandardCharsets=od,r.ZXingStringBuilder=de,r.ZXingStringEncoding=ae,r.ZXingSystem=_,r.createAbstractExpandedDecoder=Ue,Object.defineProperty(r,"__esModule",{value:!0})})})(jp,jp.exports);var er=jp.exports;const IB=Qp(er),RB=sy({__proto__:null,default:IB},[er]);var Ew=function(){function e(t,r,n){if(this.formatMap=new Map([[ze.QR_CODE,er.BarcodeFormat.QR_CODE],[ze.AZTEC,er.BarcodeFormat.AZTEC],[ze.CODABAR,er.BarcodeFormat.CODABAR],[ze.CODE_39,er.BarcodeFormat.CODE_39],[ze.CODE_93,er.BarcodeFormat.CODE_93],[ze.CODE_128,er.BarcodeFormat.CODE_128],[ze.DATA_MATRIX,er.BarcodeFormat.DATA_MATRIX],[ze.MAXICODE,er.BarcodeFormat.MAXICODE],[ze.ITF,er.BarcodeFormat.ITF],[ze.EAN_13,er.BarcodeFormat.EAN_13],[ze.EAN_8,er.BarcodeFormat.EAN_8],[ze.PDF_417,er.BarcodeFormat.PDF_417],[ze.RSS_14,er.BarcodeFormat.RSS_14],[ze.RSS_EXPANDED,er.BarcodeFormat.RSS_EXPANDED],[ze.UPC_A,er.BarcodeFormat.UPC_A],[ze.UPC_E,er.BarcodeFormat.UPC_E],[ze.UPC_EAN_EXTENSION,er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!RB)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(er.DecodeHintType.POSSIBLE_FORMATS,i),a.set(er.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new er.MultiFormatReader(this.verbose,this.hints),n=new er.HTMLCanvasElementLuminanceSource(t),i=new er.BinaryBitmap(new er.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:dT.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),OB=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},NB=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(x){return d([p,x])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},_w=function(){function e(t,r,n){if(this.formatMap=new Map([[ze.QR_CODE,"qr_code"],[ze.AZTEC,"aztec"],[ze.CODABAR,"codabar"],[ze.CODE_39,"code_39"],[ze.CODE_93,"code_93"],[ze.CODE_128,"code_128"],[ze.DATA_MATRIX,"data_matrix"],[ze.ITF,"itf"],[ze.EAN_13,"ean_13"],[ze.EAN_8,"ean_8"],[ze.PDF_417,"pdf417"],[ze.UPC_A,"upc_a"],[ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return OB(this,void 0,void 0,function(){var r,n;return NB(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:dT.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var l=a[i],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Aw=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},Cw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(x){return d([p,x])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},DB=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&_w.isSupported()?(this.primaryDecoder=new _w(t,n,i),this.secondaryDecoder=new Ew(t,n,i)):this.primaryDecoder=new Ew(t,n,i)}return e.prototype.decodeAsync=function(t){return Aw(this,void 0,void 0,function(){var r;return Cw(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Aw(this,void 0,void 0,function(){var r,n;return Cw(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Gx=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ch=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},uh=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(x){return d([p,x])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gT=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),PB=function(e){Gx(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(gT),FB=function(e){Gx(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(PB),MB=function(e){Gx(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(gT),LB=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new FB(this.track)},e.prototype.torchFeature=function(){return new MB(this.track)},e}(),BB=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return ch(this,void 0,void 0,function(){var a,l;return uh(this,function(u){switch(u.label){case 0:return a=new e(t,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ch(this,void 0,void 0,function(){return uh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++l,l>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new LB(this.getFirstTrackOrFail())},e}(),UB=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ch(this,void 0,void 0,function(){return uh(this,function(i){return[2,BB.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ch(this,void 0,void 0,function(){var r,n;return uh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),Tw=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},Sw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(x){return d([p,x])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},jB=function(){function e(){}return e.failIfNotSupported=function(){return Tw(this,void 0,void 0,function(){return Sw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Tw(this,void 0,void 0,function(){return Sw(this,function(r){return[2,UB.create(t)]})})},e}(),VB=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function u(x){try{p(n.next(x))}catch(v){l(v)}}function d(x){try{p(n.throw(x))}catch(v){l(v)}}function p(x){x.done?a(x.value):i(x.value).then(u,d)}p((n=n.apply(e,t||[])).next())})},WB=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(x){return d([p,x])}}function d(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(x){p=[6,x],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},HB=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=vl.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=vl.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return VB(this,void 0,void 0,function(){var t,r,n,i,a,l,u;return WB(this,function(d){switch(d.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),v=0,E=x;v<E.length;v++){var y=E[v];y.enabled=!1,y.stop(),p.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],a=0,l=n;a<l.length;a++)u=l[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var l=[],u=0,d=a;u<d.length;u++){var p=d[u];p.kind==="video"&&l.push({id:p.id,label:p.label})}t(l)},i=MediaStreamTrack;i.getSources(n)})},e}(),or;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(or||(or={}));var zB=function(){function e(){this.state=or.NOT_STARTED,this.onGoingTransactionNewState=or.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===or.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=or.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===or.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=or.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==or.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case or.UNKNOWN:throw"Transition from unknown is not allowed";case or.NOT_STARTED:this.failIfNewStateIs(t,[or.PAUSED]);break;case or.SCANNING:break;case or.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),GB=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===or.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==or.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===or.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===or.PAUSED},e}(),$B=function(){function e(){}return e.create=function(){return new GB(new zB)},e}(),XB=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ei=function(e){XB(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(SB),KB=function(){function e(t,r){this.logger=r,this.fps=ei.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ei.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Is(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),c1=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new kB(this.verbose),this.qrcode=new DB(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=$B.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var u=KB.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=d,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:ei.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var v=this,E=this.stateManagerProxy.startTransition(or.SCANNING);return new Promise(function(y,A){var _=p?u.videoConstraints:v.createVideoConstraints(t);if(!_){E.cancel(),A("videoConstraints should be defined");return}var S={};(!p||u.aspectRatio)&&(S.aspectRatio=u.aspectRatio);var b={onRenderSurfaceReady:function(k,T){v.setupUi(k,T,u),v.isScanning=!0,v.foreverScan(u,n,l)}};jB.failIfNotSupported().then(function(k){k.create(_).then(function(T){return T.render(a.element,S,b).then(function(O){v.renderedCamera=O,E.execute(),y(null)}).catch(function(O){E.cancel(),A(O)})}).catch(function(T){E.cancel(),A(vl.errorGettingUserMedia(T))})}).catch(function(k){E.cancel(),A(vl.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(or.PAUSED),this.showPausedState(),(Is(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(or.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(or.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(ei.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Is(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var u=l.width,d=l.height,p=document.getElementById(n.elementId),x=p.clientWidth?p.clientWidth:ei.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:d,ei.FILE_SCAN_MIN_HEIGHT),E=n.computeCanvasDrawConfig(u,d,x,v);if(r){var y=n.createCanvasElement(x,v,"qr-canvas-visible");y.style.display="inline-block",p.appendChild(y);var A=y.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=x,A.canvas.height=v,A.drawImage(l,0,0,u,d,E.x,E.y,E.width,E.height)}var _=ei.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(l.width,E.width),b=Math.max(l.height,E.height),k=S+2*_,T=b+2*_,O=n.createCanvasElement(k,T);p.appendChild(O);var B=O.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=k,B.canvas.height=T,B.drawImage(l,0,0,u,d,_,_,S,b);try{n.qrcode.decodeRobustlyAsync(O).then(function(F){i(yw.createFromQrcodeResult(F))}).catch(a)}catch(F){a("QR code parse error, error = ".concat(F))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return HB.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pT.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ze.QR_CODE,ze.AZTEC,ze.CODABAR,ze.CODE_39,ze.CODE_93,ze.CODE_128,ze.DATA_MATRIX,ze.MAXICODE,ze.ITF,ze.EAN_13,ze.EAN_8,ze.PDF_417,ze.RSS_14,ze.RSS_EXPANDED,ze.UPC_A,ze.UPC_E,ze.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var l=a[i];TB(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Is(t))return!0;if(!Is(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Is(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Is(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,r,a),u=function(p){if(p<ei.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ei.MIN_QR_BOX_SIZE,"px.")},d=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(l.width),u(l.height),l.width=d(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Is(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,u={x:0,y:0,width:t,height:r},d=l?this.getShadedRegionBounds(t,r,a):u,p=this.createCanvasElement(d.width,d.height),x={willReadFrequently:!0},v=p.getContext("2d",x);v.canvas.width=d.width,v.canvas.height=d.height,this.element.append(p),l&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=vl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,yw.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=vl.codeParseError(i);return r(a,bB.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*l,p=this.qrRegion.height*u,x=this.qrRegion.x*l,v=this.qrRegion.y*u;this.context.drawImage(a,x,v,d,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(y){!y&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){E()})):E()}).catch(function(y){i.logger.logError("Error happend while scanning context",y),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var p=t.facingMode;if(typeof p=="string"){if(l(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(l(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(a in v)return{deviceId:{exact:v["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,l=(i-r)/2;return{x:a,y:l,width:t,height:r}}else{var u=t,d=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?ei.BORDER_SHADER_MATCH_COLOR:ei.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=Is(n)?"qr-canvas":n,l},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,u=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(ei.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,p=40;this.insertShaderBorders(a,p,d,-d,null,0,!0),this.insertShaderBorders(a,p,d,-d,null,0,!1),this.insertShaderBorders(a,p,d,null,-d,0,!0),this.insertShaderBorders(a,p,d,null,-d,0,!1),this.insertShaderBorders(a,d,p+d,-d,null,-d,!0),this.insertShaderBorders(a,d,p+d,null,-d,-d,!0),this.insertShaderBorders(a,d,p+d,-d,null,-d,!1),this.insertShaderBorders(a,d,p+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,l,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=ei.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),a!==null&&(d.style.bottom="".concat(a,"px")),u?d.style.left="".concat(l,"px"):d.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),bw;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bw||(bw={}));const YB=({isOpen:e,onClose:t,onScan:r})=>{const n=j.useRef(null),[i,a]=j.useState(!1),[l,u]=j.useState(null),d=j.useRef(null),{toast:p}=Yu(),x=j.useCallback(async()=>{if(n.current)try{n.current.getState()===or.SCANNING&&await n.current.stop()}catch(A){console.log("Scanner stop error:",A)}a(!1)},[]),v=j.useCallback(async A=>{navigator.vibrate&&navigator.vibrate(200),await x(),r(A),t()},[r,t,x]),E=j.useCallback(async()=>{u(null);try{n.current||(n.current=new c1("qr-reader"));const A=await c1.getCameras();if(A.length===0){u("No camera found on this device");return}const _=A.find(b=>b.label.toLowerCase().includes("back")||b.label.toLowerCase().includes("rear")),S=(_==null?void 0:_.id)||A[A.length-1].id;await n.current.start(S,{fps:10,qrbox:{width:250,height:250},aspectRatio:1},v,()=>{}),a(!0)}catch(A){console.error("Camera error:",A),u(A.message||"Failed to access camera. Please try uploading an image.")}},[v]);j.useEffect(()=>{if(e){const A=setTimeout(()=>{E()},100);return()=>clearTimeout(A)}else x()},[e,E,x]),j.useEffect(()=>()=>{x()},[x]);const y=async A=>{var S;const _=(S=A.target.files)==null?void 0:S[0];if(_){try{n.current||(n.current=new c1("qr-reader"));const b=await n.current.scanFile(_,!0);v(b)}catch{p({title:"QR Code Not Found",description:"Could not detect a QR code in the uploaded image.",variant:"destructive"})}d.current&&(d.current.value="")}};return V.jsx(RA,{open:e,onOpenChange:t,children:V.jsxs(gx,{className:"glass-card border-border/50 max-w-md p-0 overflow-hidden",children:[V.jsx(xx,{className:"p-4 pb-0",children:V.jsxs(mx,{className:"flex items-center justify-between",children:[V.jsx("span",{className:"text-lg font-black tracking-wide",children:"Scan QR Code"}),V.jsx(ys,{variant:"ghost",size:"icon",onClick:t,children:V.jsx(Dh,{className:"w-5 h-5"})})]})}),V.jsxs("div",{className:"p-4",children:[V.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-zinc-950 aspect-square",children:[V.jsx("div",{id:"qr-reader",className:"w-full h-full"}),i&&V.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[V.jsx("div",{className:"absolute top-8 left-8 w-12 h-12 border-l-4 border-t-4 border-neon-cyan rounded-tl-lg"}),V.jsx("div",{className:"absolute top-8 right-8 w-12 h-12 border-r-4 border-t-4 border-neon-cyan rounded-tr-lg"}),V.jsx("div",{className:"absolute bottom-8 left-8 w-12 h-12 border-l-4 border-b-4 border-neon-cyan rounded-bl-lg"}),V.jsx("div",{className:"absolute bottom-8 right-8 w-12 h-12 border-r-4 border-b-4 border-neon-cyan rounded-br-lg"}),V.jsx("div",{className:"absolute left-8 right-8 h-0.5 bg-gradient-to-r from-transparent via-neon-cyan to-transparent scan-line",style:{top:"20%"}})]}),l&&V.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-zinc-950/90 p-6 text-center",children:[V.jsx(O8,{className:"w-12 h-12 text-muted-foreground mb-4"}),V.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:l})]}),!i&&!l&&V.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-zinc-950",children:V.jsx(Qg,{className:"w-8 h-8 text-neon-cyan animate-spin"})})]}),V.jsxs("div",{className:"mt-4",children:[V.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:y,className:"hidden",id:"qr-upload"}),V.jsxs(ys,{variant:"glass",className:"w-full",onClick:()=>{var A;return(A=d.current)==null?void 0:A.click()},children:[V.jsx(Z_,{className:"w-4 h-4 mr-2"}),"Upload QR Image"]})]}),V.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Position the QR code within the frame to scan"})]})]})})},qB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class $x extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZB extends $x{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kw extends $x{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iw extends $x{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Vp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Vp||(Vp={}));class QB{constructor(t,{headers:r={},customFetch:n,region:i=Vp.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=qB(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return mO(this,arguments,void 0,function*(r,n={}){var i;let a,l;try{const{headers:u,method:d,body:p,signal:x,timeout:v}=n;let E={},{region:y}=n;y||(y=this.region);const A=new URL(`${this.url}/${r}`);y&&y!=="any"&&(E["x-region"]=y,A.searchParams.set("forceFunctionRegion",y));let _;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(E["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(E["Content-Type"]="application/json",_=JSON.stringify(p)):_=p;let S=x;v&&(l=new AbortController,a=setTimeout(()=>l.abort(),v),x?(S=l.signal,x.addEventListener("abort",()=>l.abort())):S=l.signal);const b=yield this.fetch(A.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),u),body:_,signal:S}).catch(B=>{throw new ZB(B)}),k=b.headers.get("x-relay-error");if(k&&k==="true")throw new kw(b);if(!b.ok)throw new Iw(b);let T=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield b.json():T==="application/octet-stream"||T==="application/pdf"?O=yield b.blob():T==="text/event-stream"?O=b:T==="multipart/form-data"?O=yield b.formData():O=yield b.text(),{data:O,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof Iw||u instanceof kw?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var JB=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},eU=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,u=null,d=null,p=a.status,x=a.statusText;if(a.ok){var v,E;if(r.method!=="HEAD"){var y;const b=await a.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=b:u=JSON.parse(b))}const _=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(E=a.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");_&&S&&S.length>1&&(d=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,x="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var A;const _=await a.text();try{l=JSON.parse(_),Array.isArray(l)&&a.status===404&&(u=[],l=null,p=200,x="OK")}catch{a.status===404&&_===""?(p=204,x="No Content"):l={message:_}}if(l&&r.isMaybeSingle&&(!(l==null||(A=l.details)===null||A===void 0)&&A.includes("0 rows"))&&(l=null,p=200,x="OK"),l&&r.shouldThrowOnError)throw new JB(l)}return{error:l,data:u,count:d,status:p,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var l;let u="";const d=a==null?void 0:a.cause;if(d){var p,x,v,E;const A=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",_=(x=d==null?void 0:d.code)!==null&&x!==void 0?x:"";u=`${(v=a==null?void 0:a.name)!==null&&v!==void 0?v:"FetchError"}: ${a==null?void 0:a.message}`,u+=`

Caused by: ${(E=d==null?void 0:d.name)!==null&&E!==void 0?E:"Error"}: ${A}`,_&&(u+=` (${_})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var y;u=(y=a==null?void 0:a.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},tU=class extends eU{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Rw=new RegExp("[,()]");var rl=class extends tU{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Rw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Rw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},rU=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new rl({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new rl({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(u.length>0){const d=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new rl({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new rl({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rl({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},nU=class xT{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new rU(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xT(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let p;n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([v,E])=>E!==void 0).map(([v,E])=>[v,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([v,E])=>{d.searchParams.append(v,E)})):(u="POST",p=r);const x=new Headers(this.headers);return a&&x.set("Prefer",`count=${a}`),new rl({method:u,url:d,headers:x,schema:this.schemaName,body:p,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class iU{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sU="2.89.0",aU=`realtime-js/${sU}`,mT="1.0.0",oU="2.0.0",Ow=mT,Wp=1e4,lU=1e3,cU=100;var fa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fa||(fa={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var Hi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hi||(Hi={}));var Hp;(function(e){e.websocket="websocket"})(Hp||(Hp={}));var ro;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ro||(ro={}));class uU{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(x).length===0?"":JSON.stringify(x);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+p.length+v.length,y=new ArrayBuffer(this.HEADER_LENGTH+E);let A=new DataView(y),_=0;A.setUint8(_++,this.KINDS.userBroadcastPush),A.setUint8(_++,d.length),A.setUint8(_++,u.length),A.setUint8(_++,l.length),A.setUint8(_++,p.length),A.setUint8(_++,v.length),A.setUint8(_++,r),Array.from(d,b=>A.setUint8(_++,b.charCodeAt(0))),Array.from(u,b=>A.setUint8(_++,b.charCodeAt(0))),Array.from(l,b=>A.setUint8(_++,b.charCodeAt(0))),Array.from(p,b=>A.setUint8(_++,b.charCodeAt(0))),Array.from(v,b=>A.setUint8(_++,b.charCodeAt(0)));var S=new Uint8Array(y.byteLength+n.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(n),y.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,l,u,d]=n;return r({join_ref:i,ref:a,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const p=n.decode(t.slice(d,d+i));d=d+i;const x=n.decode(t.slice(d,d+a));d=d+a;const v=n.decode(t.slice(d,d+l));d=d+l;const E=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(E)):E,A={type:this.BROADCAST_EVENT,event:x,payload:y};return l>0&&(A.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class vT{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const Nw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=fU(l,e,t,i),a),{}):{}},fU=(e,t,r,n)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=r[e];return a&&!n.includes(a)?wT(a,l):zp(l)},wT=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gU(t,r)}switch(e){case Gt.bool:return hU(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return dU(t);case Gt.json:case Gt.jsonb:return pU(t);case Gt.timestamp:return xU(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return zp(t);default:return zp(t)}},zp=e=>e,hU=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},gU=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>wT(t,u))}return e},xU=e=>typeof e=="string"?e.replace(" ","T"):e,yT=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class u1{constructor(t,r,n={},i=Wp){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dw||(Dw={}));class nu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nu.syncState(this.state,i,a,l),this.pendingDiffs.forEach(d=>{this.state=nu.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=nu.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(a,(p,x)=>{l[p]||(d[p]=x)}),this.map(l,(p,x)=>{const v=a[p];if(v){const E=x.map(S=>S.presence_ref),y=v.map(S=>S.presence_ref),A=x.filter(S=>y.indexOf(S.presence_ref)<0),_=v.filter(S=>E.indexOf(S.presence_ref)<0);A.length>0&&(u[p]=A),_.length>0&&(d[p]=_)}else u[p]=x}),this.syncDiff(a,{joins:u,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(u,d)=>{var p;const x=(p=t[u])!==null&&p!==void 0?p:[];if(t[u]=this.cloneDeep(d),x.length>0){const v=t[u].map(y=>y.presence_ref),E=x.filter(y=>v.indexOf(y.presence_ref)<0);t[u].unshift(...E)}n(u,x,d)}),this.map(l,(u,d)=>{let p=t[u];if(!p)return;const x=d.map(v=>v.presence_ref);p=p.filter(v=>x.indexOf(v.presence_ref)<0),t[u]=p,i(u,p,d),p.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pw||(Pw={}));var iu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iu||(iu={}));var Os;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Os||(Os={}));class wl{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u1(this,Hi.join,this.params,this.timeout),this.rejoinTimer=new vT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hi.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new nu(this),this.broadcastEndpointURL=yT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,p=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],x=!!this.bindings[iu.PRESENCE]&&this.bindings[iu.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},E={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:x}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Os.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Os.CLOSED)),this.updateJoinPayload(Object.assign({config:E},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(Os.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(A=_==null?void 0:_.length)!==null&&A!==void 0?A:0,b=[];for(let k=0;k<S;k++){const T=_[k],{filter:{event:O,schema:B,table:F,filter:R}}=T,z=y&&y[k];if(z&&z.event===O&&wl.isFilterValueEqual(z.schema,B)&&wl.isFilterValueEqual(z.table,F)&&wl.isFilterValueEqual(z.filter,R))b.push(Object.assign(Object.assign({},T),{id:z.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(Os.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Os.SUBSCRIBED);return}}).receive("error",y=>{this.state=Dr.errored,t==null||t(Os.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Os.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===iu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const p=await u.json();d=p.error||p.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new u1(this,Hi.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new u1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cU){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:p,join:x}=Hi;if(n&&[u,d,p,x].indexOf(l)>=0&&n!==this._joinRef())return;let E=this._onMessage(l,r,n);if(r&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var A,_,S;return((A=y.filter)===null||A===void 0?void 0:A.event)==="*"||((S=(_=y.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(E,n)):(a=this.bindings[l])===null||a===void 0||a.filter(y=>{var A,_,S,b,k,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const O=y.id,B=(A=y.filter)===null||A===void 0?void 0:A.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(k=(b=y==null?void 0:y.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return O==="*"||O===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof E=="object"&&"ids"in E){const A=E.data,{schema:_,table:S,commit_timestamp:b,type:k,errors:T}=A;E=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:b,eventType:k,new:{},old:{},errors:T}),this._getPayloadRecords(A))}y.callback(E,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&wl.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hi.close,{},t)}_onError(t){this._on(Hi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Nw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Nw(t.columns,t.old_record)),r}}const f1=()=>{},Y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mU=[1e3,2e3,5e3,1e4],vU=1e4,wU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yU{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wp,this.transport=null,this.heartbeatIntervalMs=Y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f1,this.ref=0,this.reconnectTimer=null,this.vsn=Ow,this.logger=f1,this.conn=null,this.sendBuffer=[],this.serializer=new uU,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Hp.websocket}`,this.httpEndpoint=yT(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iU.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fa.connecting:return ro.Connecting;case fa.open:return ro.Open;case fa.closing:return ro.Closing;default:return ro.Closed}}isConnected(){return this.connectionState()===ro.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new wl(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lU,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:l}=r,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),a),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(i,a,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fa.open||this.conn.readyState===fa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wU],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:aU};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Hi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,l,u,d,p,x,v,E,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Wp,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Y0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:f1,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:Ow,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t==null?void 0:t.reconnectAfterMs)!==null&&p!==void 0?p:A=>mU[A-1]||vU,this.vsn){case mT:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:(A,_)=>_(JSON.stringify(A)),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:(A,_)=>_(JSON.parse(A));break;case oU:this.encode=(E=t==null?void 0:t.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Fu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EU(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function _U(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function AU(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:l}){const u=EU(e.baseUrl,n,i),d=await _U(e.auth),p=await t(u,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),x=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),E=v&&x?JSON.parse(x):x;if(!p.ok){const y=v?E:void 0,A=y==null?void 0:y.error;throw new Fu((A==null?void 0:A.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:y})}return{status:p.status,headers:p.headers,data:E}}}}function q0(e){return e.join("")}var CU=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:q0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${q0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${q0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${q0(e.namespace)}`}),!0}catch(t){if(t instanceof Fu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Fu&&r.status===409)return;throw r}}};function Yo(e){return e.join("")}var TU=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Fu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Fu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},SU=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=AU({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new CU(this.client,t),this.tableOps=new TU(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},qh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function lr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var bU=class extends qh{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Gp=class extends qh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Xx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kU=()=>Response,$p=e=>{if(Array.isArray(e))return e.map(r=>$p(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=$p(n)}),t},IU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},RU=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function OU(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NU(e){var t=OU(e,"string");return Mu(t)=="symbol"?t:t+""}function DU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){DU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const h1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},PU=async(e,t,r)=>{e instanceof await kU()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new bU(h1(n),i,a))}).catch(n=>{t(new Gp(h1(n),n))}):t(new Gp(h1(e),e))},FU=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(IU(n)?(i.headers=rt({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),rt(rt({},i),r))};async function s0(e,t,r,n,i,a){return new Promise((l,u)=>{e(r,FU(t,n,i,a)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>PU(d,u,n))})}async function Lu(e,t,r,n){return s0(e,"GET",t,r,n)}async function Ui(e,t,r,n,i){return s0(e,"POST",t,n,i,r)}async function Xp(e,t,r,n,i){return s0(e,"PUT",t,n,i,r)}async function MU(e,t,r,n){return s0(e,"HEAD",t,rt(rt({},r),{},{noResolveJson:!0}),n)}async function Kx(e,t,r,n,i){return s0(e,"DELETE",t,n,i,r)}var LU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lr(t))return{data:null,error:t};throw t}}};let ET;ET=Symbol.toStringTag;var BU=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ET]="BlobDownloadBuilder",this.promise=null}asStream(){return new LU(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lr(t))return{data:null,error:t};throw t}}};const UU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jU=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Xx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const l=rt(rt({},Mw),n);let u=rt(rt({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",i.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(d))):(a=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(u=rt(rt({},u),n.headers));const p=i._removeEmptyFolders(t),x=i._getFinalPath(p),v=await(e=="PUT"?Xp:Ui)(i.fetch,`${i.url}/object/${x}`,a,rt({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),l=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const p=rt({upsert:Mw.upsert},n),x=rt(rt({},i.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType),{data:{path:a,fullPath:(await Xp(i.fetch,u.toString(),d,{headers:x})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(lr(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=rt({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Ui(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(r.url+a.url),u=l.searchParams.get("token");if(!u)throw new qh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ui(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ui(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await Ui(n.fetch,`${n.url}/object/sign/${i}`,rt({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await Ui(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>rt(rt({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),l=()=>Lu(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new BU(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:$p(await Lu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await MU(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lr(n)&&n instanceof Gp){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}async remove(e){var t=this;try{return{data:await Kx(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=rt(rt(rt({},UU),t),{},{prefix:e||""});return{data:await Ui(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=rt({},e);return{data:await Ui(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const _T="2.89.0",AT={"X-Client-Info":`storage-js/${_T}`};var VU=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=rt(rt({},AT),t),this.fetch=Xx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Lu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Lu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ui(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Xp(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ui(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},WU=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},AT),t),this.fetch=Xx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ui(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Lu(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Kx(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!RU(e))throw new qh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new SU({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Yx={"X-Client-Info":`storage-js/${_T}`,"Content-Type":"application/json"};var CT=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function si(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var d1=class extends CT{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},HU=class extends CT{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const qx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GU=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new d1(Lw(a),n,l))}).catch(()=>{const a=n+"";t(new d1(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new d1(i.statusText||`HTTP ${n} error`,n,a))}}else t(new HU(Lw(e),e))},$U=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(zU(n)?(i.headers=rt({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,rt(rt({},i),r)):i};async function XU(e,t,r,n,i,a){return new Promise((l,u)=>{e(r,$U(t,n,i,a)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const p=d.headers.get("content-type");return!p||!p.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>GU(d,u,n))})}async function ai(e,t,r,n,i){return XU(e,"POST",t,n,i,r)}var KU=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},Yx),t),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ai(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ai(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(si(n))return{data:null,error:n};throw n}}},YU=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},Yx),t),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ai(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ai(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ai(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}},qU=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=rt(rt({},Yx),t),this.fetch=qx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ai(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ai(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(si(r))return{data:null,error:r};throw r}}},ZU=class extends qU{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new QU(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},QU=class extends KU{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new JU(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},JU=class extends YU{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,rt(rt({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ej=class extends VU{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new jU(this.url,this.headers,e,this.fetch)}get vectors(){return new ZU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WU(this.url+"/iceberg",this.headers,this.fetch)}};const TT="2.89.0",nl=30*1e3,Kp=3,p1=Kp*nl,tj="http://localhost:9999",rj="supabase.auth.token",nj={"X-Client-Info":`gotrue-js/${TT}`},Yp="X-Supabase-Api-Version",ST={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ij=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sj=10*60*1e3;class Bu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aj extends Bu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function oj(e){return Xe(e)&&e.name==="AuthApiError"}class no extends Bu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qs extends Bu{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Jn extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lj(e){return Xe(e)&&e.name==="AuthSessionMissingError"}class qo extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Z0 extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Q0 extends qs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cj(e){return Xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bw extends qs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uj extends qs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qp extends qs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function g1(e){return Xe(e)&&e.name==="AuthRetryableFetchError"}class Uw extends qs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Zp extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jw=` 	
\r=`.split(""),fj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jw.length;t+=1)e[jw[t].charCodeAt(0)]=-2;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=t;return e})();function Vw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}}function bT(e,t,r){const n=fj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ww(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{pj(l,n,r)};for(let l=0;l<e.length;l+=1)bT(e.charCodeAt(l),i,a);return t.join("")}function hj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}hj(n,t)}}function pj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bT(e.charCodeAt(i),r,n);return new Uint8Array(t)}function gj(e){const t=[];return dj(e,r=>t.push(r)),new Uint8Array(t)}function lo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Vw(i,r,n)),Vw(null,r,n),t.join("")}function xj(e){return Math.round(Date.now()/1e3)+e}function mj(){return Symbol("auth-callback")}const Qr=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},kT=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function vj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const IT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",il=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Za=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zr=async(e,t)=>{await e.removeItem(t)};class Zh{constructor(){this.promise=new Zh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zh.promiseConstructor=Promise;function x1(e){const t=e.split(".");if(t.length!==3)throw new Zp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ij.test(t[n]))throw new Zp("JWT not in base64url format");return{header:JSON.parse(Ww(t[0])),payload:JSON.parse(Ww(t[1])),signature:Dl(t[2]),raw:{header:t[0],payload:t[1]}}}async function yj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ej(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function _j(e){return("0"+e.toString(16)).substr(-2)}function Aj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,_j).join("")}async function Cj(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Tj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Cj(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zo(e,t,r=!1){const n=Aj();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await il(e,`${t}-code-verifier`,i);const a=await Tj(n);return[a,n===a?"plain":"s256"]}const Sj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bj(e){const t=e.headers.get(Yp);if(!t||!t.match(Sj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function kj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ij(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qo(e){if(!Rj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Oj(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Hw(e){return JSON.parse(JSON.stringify(e))}const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nj=[502,503,504];async function zw(e){var t;if(!wj(e))throw new qp(eo(e),0);if(Nj.includes(e.status))throw new qp(eo(e),e.status);let r;try{r=await e.json()}catch(a){throw new no(eo(a),a)}let n;const i=bj(e);if(i&&i.getTime()>=ST["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Uw(eo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Uw(eo(r),e.status,r.weak_password.reasons);throw new aj(eo(r),e.status||500,n)}const Dj=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function tt(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Yp]||(a[Yp]=ST["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await Pj(e,t,r+u,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function Pj(e,t,r,n,i,a){const l=Dj(t,n,i,a);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new qp(eo(d),0)}if(u.ok||await zw(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await zw(d)}}function Mi(e){var t;let r=null;Lj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gw(e){const t=Mi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function xa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Fj(e){return{data:e,error:null}}function Mj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,l=ac(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function $w(e){return e}function Lj(e){return e.access_token&&e.refresh_token&&e.expires_in}const v1=["global","local","others"];class Bj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=IT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=v1[0]){if(v1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${v1.join(", ")}`);try{return await tt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:xa})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ac(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Mj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:xa})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,l,u,d;try{const p={nextPage:null,lastPage:0,total:0},x=await tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$w});if(x.error)throw x.error;const v=await x.json(),E=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(A=>{const _=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(A.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Xe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){Qo(t);try{return await tt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:xa})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Qo(t);try{return await tt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:xa})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Qo(t);try{return await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:xa})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qo(t.userId);try{const{data:r,error:n}=await tt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Qo(t.userId),Qo(t.id);try{return{data:await tt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,l,u,d;try{const p={nextPage:null,lastPage:0,total:0},x=await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$w});if(x.error)throw x.error;const v=await x.json(),E=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(A=>{const _=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(A.split(";")[1].split("=")[1]);p[`${S}Page`]=_}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Xe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}function Xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Jo={debug:!!(globalThis&&kT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class RT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uj extends RT{}async function jj(e,t,r){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Vj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Wj(e){return parseInt(e,16)}function Hj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function zj(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:p,scheme:x,uri:v,version:E}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=OT(e.address),A=x?`${x}://${n}`:n,_=e.statement?`${e.statement}
`:"",S=`${A} wants you to sign in with your Ethereum account:
${y}

${_}`;let b=`URI: ${v}
Version: ${E}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),u&&(b+=`
Not Before: ${u.toISOString()}`),d&&(b+=`
Request ID: ${d}`),p){let k=`
Resources:`;for(const T of p){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);k+=`
- ${T}`}b+=k}return`${S}
${b}`}class br extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class hh extends br{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Gj({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new br({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new br({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new br({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new br({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new br({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new br({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(NT(l)){if(a.rp.id!==l)return new br({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new br({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $j({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new br({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new br({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(NT(n)){if(r.rpId!==n)return new br({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Xj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Kj=new Xj;function Yj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=ac(e,["challenge","user","excludeCredentials"]),a=Dl(t).buffer,l=Object.assign(Object.assign({},r),{id:Dl(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const p=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},p),{id:Dl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function qj(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ac(e,["challenge","allowCredentials"]),i=Dl(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Dl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Zj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:lo(new Uint8Array(e.response.attestationObject)),clientDataJSON:lo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:lo(new Uint8Array(i.authenticatorData)),clientDataJSON:lo(new Uint8Array(i.clientDataJSON)),signature:lo(new Uint8Array(i.signature)),userHandle:i.userHandle?lo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Kw(){var e,t;return!!(Qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Jj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hh("Browser returned unexpected credential type",t)}:{data:null,error:new hh("Empty credential response",t)}}catch(t){return{data:null,error:Gj({error:t,options:e})}}}async function eV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hh("Browser returned unexpected credential type",t)}:{data:null,error:new hh("Empty credential response",t)}}catch(t){return{data:null,error:$j({error:t,options:e})}}}const tV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},rV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))n[a]=l;else if(r(l))n[a]=l;else if(t(l)){const u=n[a];t(u)?n[a]=dh(u,l):n[a]=dh(l)}else n[a]=l}return n}function nV(e,t){return dh(tV,e,t||{})}function iV(e,t){return dh(rV,e,t||{})}class sV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=i??Kj.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:p}=l.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(l.webauthn.type){case"create":{const p=nV(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:x,error:v}=await Jj({publicKey:p,signal:d});return x?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}case"request":{const p=iV(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:x,error:v}=await eV(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:p,signal:d}));return x?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:v}}}}catch(l){return Xe(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Bu("rpId is required for WebAuthn authentication")};try{if(!Kw())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Xe(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Bu("rpId is required for WebAuthn registration")};try{if(!Kw())return{data:null,error:new no("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(x=>{var v;return(v=x.data)===null||v===void 0?void 0:v.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:u};const{data:d,error:p}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:p}}catch(l){return Xe(l)?{data:null,error:l}:{data:null,error:new no("Unexpected error in register",l)}}}}Vj();const aV={url:tj,storageKey:rj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Yw(e,t,r){return await r()}const el={};class Uu{get jwks(){var t,r;return(r=(t=el[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=el[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){el[this.storageKey]=Object.assign(Object.assign({},el[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},aV),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Uu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Qr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Bj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=IT(a.fetch),this.lock=a.lock||Yw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&Qr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jj:this.lock=Yw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:kT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Qr()&&(r=vj(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),cj(a)){const d=(t=a.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xe(r)?this._returnResult({error:r}):this._returnResult({error:new no("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mi}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:x,password:v,options:E}=t;let y=null,A=null;this.flowType==="pkce"&&([y,A]=await Zo(this.storage,this.storageKey)),a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:x,password:v,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:y,code_challenge_method:A},xform:Mi})}else if("phone"in t){const{phone:x,password:v,options:E}=t;a=await tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},channel:(i=E==null?void 0:E.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Mi})}else throw new Z0("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await Zr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,p=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:u}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Gw})}else if("phone"in t){const{phone:a,password:l,options:u}=t;r=await tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Gw})}else throw new Z0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new qo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,l,u,d,p,x,v,E;let y,A;if("message"in t)y=t.message,A=t.signature;else{const{chain:_,wallet:S,statement:b,options:k}=t;let T;if(Qr())if(typeof S=="object")T=S;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")T=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const O=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),B=await T.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!B||B.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=OT(B[0]);let R=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const M=await T.request({method:"eth_chainId"});R=Wj(M)}const z={domain:O.host,address:F,statement:b,uri:O.href,version:"1",chainId:R,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=k==null?void 0:k.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(p=k==null?void 0:k.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=k==null?void 0:k.signInWithEthereum)===null||x===void 0?void 0:x.resources};y=zj(z),A=await T.request({method:"personal_sign",params:[Hj(y),F]})}try{const{data:_,error:S}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:A},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Mi});if(S)throw S;if(!_||!_.session||!_.user){const b=new qo;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(Xe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,n,i,a,l,u,d,p,x,v,E,y;let A,_;if("message"in t)A=t.message,_=t.signature;else{const{chain:S,wallet:b,statement:k,options:T}=t;let O;if(Qr())if(typeof b=="object")O=b;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))O=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const B=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const F=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),k?{statement:k}:null));let R;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")R=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)R=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)A=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${B.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((v=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const F=await O.signMessage(new TextEncoder().encode(A),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=F}}try{const{data:S,error:b}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:lo(_)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Mi});if(b)throw b;if(!S||!S.session||!S.user){const k=new qo;return this._returnResult({data:{user:null,session:null},error:k})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(Xe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new uj;const{data:a,error:l}=await tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Mi});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new qo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:l}=t,u=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mi}),{data:d,error:p}=u;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d||!d.session||!d.user){const x=new qo;return this._returnResult({data:{user:null,session:null},error:x})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:p})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,l;try{if("email"in t){const{email:u,options:d}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Zo(this.storage,this.storageKey));const{error:v}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:u,options:d}=t,{data:p,error:x}=await tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x})}throw new Z0("You must provide either an email or phone number.")}catch(u){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Mi});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,p=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:p,session:d},error:null})}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zo(this.storage,this.storageKey));const p=await tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Fj});return!((a=p.data)===null||a===void 0)&&a.url&&Qr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(u){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jn;const{error:i}=await tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:l}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:l,error:u}=await tt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Z0("You must provide either an email or phone number and a type")}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<p1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Za(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=m1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Oj(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:xa}):await this._useSession(async r=>{var n,i,a;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jn}:await tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:xa})})}catch(r){if(Xe(r))return lj(r)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Jn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Zo(this.storage,this.storageKey));const{data:p,error:x}=await tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:xa});if(x)throw x;return l.user=p.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:l}=x1(t.access_token);if(l.exp&&(n=l.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qr())throw new Q0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Q0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Q0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bw("No code detected.");const{data:k,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:p}=t;if(!a||!u||!l||!p)throw new Q0("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(u);let E=x+v;d&&(E=parseInt(d));const y=E-x;y*1e3<=nl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${v}s`);const A=E-v;x-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,E,x):x-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,E,x);const{data:_,error:S}=await this._getUser(a);if(S)throw S;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:v,expires_at:E,refresh_token:l,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Za(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(oj(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=mj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zo(this.storage,this.storageKey,!0));try{return await tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var l,u,d,p,x;const{data:v,error:E}=a;if(E)throw E;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await tt(this.fetch,"GET",y,{headers:this.headers,jwt:(x=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(i)throw i;return Qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:l,provider:u,token:d,access_token:p,nonce:x}=t,v=await tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mi}),{data:E,error:y}=v;return y?this._returnResult({data:{user:null,session:null},error:y}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new qo}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:y}))}catch(i){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)throw l;return await tt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ej(async i=>(i>0&&await yj(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Mi})),(i,a)=>{const l=200*Math.pow(2,i);return a&&g1(a)&&Date.now()+l-n<nl})}catch(n){if(this._debug(r,"error",n),Xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Za(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Za(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await il(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:m1()}else if(i&&!i.user&&!i.user){const l=await Za(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Zr(this.storage,this.storageKey+"-user"),await il(this.storage,this.storageKey,i)):i.user=m1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<p1;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${p1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),g1(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zh;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Jn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Xe(a)){const l={data:null,error:a};return g1(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await il(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Hw(i);await il(this.storage,this.storageKey,a)}else{const i=Hw(r);await il(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/nl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${nl}ms, refresh threshold is ${Kp} ticks`),i<=Kp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof RT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Zo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await tt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:p}=await tt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Zj(t.webauthn.credential_response):Qj(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=await tt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Yj(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:qj(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=x1(n.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const p=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Jn})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Jn});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Jn});const l=await tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Jn})})}catch(t){if(Xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await tt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jn})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+sj>i)return n;const{data:a,error:l}=await tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:A}=await this.getSession();if(A||!y.session)return this._returnResult({data:null,error:A});n=y.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:d}}=x1(n);r!=null&&r.allowExpired||kj(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:i,signature:l},error:null}}const x=Ij(i.alg),v=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,v,l,gj(`${u}.${d}`)))throw new Zp("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}}Uu.nextInstanceID={};const oV=Uu,lV="2.89.0";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const cV={"X-Client-Info":`supabase-js-${Lc}/${lV}`},uV={headers:cV},fV={schema:"public"},hV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dV={};function ju(e){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(e)}function pV(e,t){if(ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gV(e){var t=pV(e,"string");return ju(t)=="symbol"?t:t+""}function xV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const mV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vV=()=>Headers,wV=(e,t,r)=>{const n=mV(r),i=vV();return async(a,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let p=new i(l==null?void 0:l.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),n(a,gr(gr({},l),{},{headers:p}))}};function yV(e){return e.endsWith("/")?e:e+"/"}function EV(e,t){var r,n;const{db:i,auth:a,realtime:l,global:u}=e,{db:d,auth:p,realtime:x,global:v}=t,E={db:gr(gr({},d),i),auth:gr(gr({},p),a),realtime:gr(gr({},x),l),storage:{},global:gr(gr(gr({},v),u),{},{headers:gr(gr({},(r=v==null?void 0:v.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}function _V(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yV(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var AV=class extends oV{constructor(e){super(e)}},CV=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=_V(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:fV,realtime:dV,auth:gr(gr({},hV),{},{storageKey:l}),global:uV},d=EV(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(x,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=d.auth)!==null&&p!==void 0?p:{},this.headers,d.global.fetch)}this.fetch=wV(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new nU(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ej(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new QB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:l,lock:u,debug:d,throwOnError:p},x,v){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AV({url:this.authUrl.href,headers:gr(gr({},E),x),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yU(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const TV=(e,t,r)=>new CV(e,t,r);function SV(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}SV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bV="https://lvtxyrjynjvipemhlkpl.supabase.co",kV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2dHh5cmp5bmp2aXBlbWhsa3BsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5NzQwMzQsImV4cCI6MjA4MjU1MDAzNH0.Tp06MTe4FjQWjj4R5AcMv-3BUMpaJdPV8PJkyPHcMdw",J0=TV(bV,kV,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),IV=()=>{const[e,t]=j.useState([]),[r,n]=j.useState(null),[i,a]=j.useState("idle"),[l,u]=j.useState(!0),[d,p]=j.useState(null),[x,v]=j.useState(!1),[E,y]=j.useState(!1),[A,_]=j.useState(!1),[S,b]=j.useState(!1),{toast:k}=Yu(),T=j.useCallback(async()=>{v(!0);try{const{data:z,error:M}=await J0.from("employees").select("*").order("employee_name");if(M)throw M;t(z||[]),p(new Date),u(!0),localStorage.setItem("employees",JSON.stringify(z||[]))}catch(z){console.error("Fetch error:",z),u(!1);const M=localStorage.getItem("employees");M&&t(JSON.parse(M))}finally{v(!1)}},[]);j.useEffect(()=>{T()},[T]);const O=z=>{const M=e.find(te=>{var ae;return te.employee_id.toLowerCase()===z.toLowerCase()||((ae=te.card_number)==null?void 0:ae.toLowerCase())===z.toLowerCase()});M?(n(M),a("found"),navigator.vibrate&&navigator.vibrate(100)):(n(null),a("not-found"),navigator.vibrate&&navigator.vibrate([50,50,50]))},B=z=>{O(z)},F=async z=>{y(!0);try{await J0.from("employees").delete().neq("id","00000000-0000-0000-0000-000000000000");const{error:M}=await J0.from("employees").insert(z.map(te=>({employee_id:te.employee_id,employee_name:te.employee_name,meal_type:te.meal_type,company_name:te.company_name,camp_allocation:te.camp_allocation,access_card:te.access_card,card_number:te.card_number})));if(M)throw M;await T()}catch(M){console.error("Upload error:",M),k({title:"Upload Failed",description:"Failed to sync with cloud. Data saved locally.",variant:"destructive"}),localStorage.setItem("employees",JSON.stringify(z)),t(z)}finally{y(!1)}},R=async()=>{try{await J0.from("employees").delete().neq("id","00000000-0000-0000-0000-000000000000"),localStorage.removeItem("employees"),t([]),n(null),a("idle"),b(!1),k({title:"Database Reset",description:"All employee records have been cleared."})}catch{k({title:"Reset Failed",variant:"destructive"})}};return V.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[V.jsx(iO,{isConnected:l,employeeCount:e.length}),V.jsx(aO,{employeeCount:e.length,lastSync:d,onReset:()=>b(!0),onRefresh:T,isLoading:x}),V.jsxs("main",{className:"flex-1 flex flex-col max-w-lg mx-auto w-full pb-6",children:[V.jsx(oO,{onSearch:O,onScanClick:()=>_(!0),isLoading:x}),V.jsx(lO,{employee:r,status:i}),V.jsx("div",{className:"flex-1"}),V.jsx(AB,{onUpload:F,isUploading:E})]}),V.jsx(CB,{}),V.jsx(YB,{isOpen:A,onClose:()=>_(!1),onScan:B}),V.jsx(NA,{isOpen:S,onClose:()=>b(!1),onSuccess:R,title:"Confirm Database Reset"})]})},RV=()=>{const e=eA();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),V.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:V.jsxs("div",{className:"text-center",children:[V.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),V.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),V.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},OV=new xR,NV=()=>V.jsx(vR,{client:OV,children:V.jsxs($I,{children:[V.jsx(bk,{}),V.jsx(s6,{}),V.jsx(nO,{children:V.jsxs(eO,{children:[V.jsx(Tp,{path:"/",element:V.jsx(IV,{})}),V.jsx(Tp,{path:"*",element:V.jsx(RV,{})})]})})]})});w_(document.getElementById("root")).render(V.jsx(NV,{}));
